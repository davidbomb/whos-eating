var q0=Object.defineProperty,Y0=Object.defineProperties;var Z0=Object.getOwnPropertyDescriptors;var qo=Object.getOwnPropertySymbols;var Hf=Object.prototype.hasOwnProperty,$f=Object.prototype.propertyIsEnumerable;var Uf=(e,t,n)=>t in e?q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||={})Hf.call(t,n)&&Uf(e,n,t[n]);if(qo)for(var n of qo(t))$f.call(t,n)&&Uf(e,n,t[n]);return e},J=(e,t)=>Y0(e,Z0(t));var zf=(e,t)=>{var n={};for(var r in e)Hf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qo)for(var r of qo(e))t.indexOf(r)<0&&$f.call(e,r)&&(n[r]=e[r]);return n};var $=(e,t,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(c){o(c)}},s=l=>{try{a(n.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(e,t)).next())});function qa(e,t){return Object.is(e,t)}var oe=null,Yo=!1,Ya=1,Ue=Symbol("SIGNAL");function k(e){let t=oe;return oe=e,t}function Za(){return oe}var Ir={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ko(e){if(Yo)throw new Error("");if(oe===null)return;oe.consumerOnSignalRead(e);let t=oe.nextProducerIndex++;if(Jo(oe),t<oe.producerNode.length&&oe.producerNode[t]!==e&&xr(oe)){let n=oe.producerNode[t];Xo(n,oe.producerIndexOfThis[t])}oe.producerNode[t]!==e&&(oe.producerNode[t]=e,oe.producerIndexOfThis[t]=xr(oe)?Wf(e,oe,t):0),oe.producerLastReadVersion[t]=e.version}function Gf(){Ya++}function Ka(e){if(!(xr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ya)){if(!e.producerMustRecompute(e)&&!el(e)){Wa(e);return}e.producerRecomputeValue(e),Wa(e)}}function Qa(e){if(e.liveConsumerNode===void 0)return;let t=Yo;Yo=!0;try{for(let n of e.liveConsumerNode)n.dirty||K0(n)}finally{Yo=t}}function Xa(){return oe?.consumerAllowSignalWrites!==!1}function K0(e){e.dirty=!0,Qa(e),e.consumerMarkedDirty?.(e)}function Wa(e){e.dirty=!1,e.lastCleanEpoch=Ya}function Qo(e){return e&&(e.nextProducerIndex=0),k(e)}function Ja(e,t){if(k(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(xr(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Xo(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function el(e){Jo(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Ka(n),r!==n.version))return!0}return!1}function tl(e){if(Jo(e),xr(e))for(let t=0;t<e.producerNode.length;t++)Xo(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Wf(e,t,n){if(qf(e),e.liveConsumerNode.length===0&&Yf(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Wf(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Xo(e,t){if(qf(e),e.liveConsumerNode.length===1&&Yf(e))for(let r=0;r<e.producerNode.length;r++)Xo(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Jo(o),o.producerIndexOfThis[r]=t}}function xr(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Jo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function qf(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Yf(e){return e.producerNode!==void 0}function nl(e,t){let n=Object.create(Q0);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ka(n),Ko(n),n.value===Zo)throw n.error;return n.value};return r[Ue]=n,r}var za=Symbol("UNSET"),Ga=Symbol("COMPUTING"),Zo=Symbol("ERRORED"),Q0=J(S({},Ir),{value:za,dirty:!0,error:null,equal:qa,kind:"computed",producerMustRecompute(e){return e.value===za||e.value===Ga},producerRecomputeValue(e){if(e.value===Ga)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Ga;let n=Qo(e),r,o=!1;try{r=e.computation(),k(null),o=t!==za&&t!==Zo&&r!==Zo&&e.equal(t,r)}catch(i){r=Zo,e.error=i}finally{Ja(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function X0(){throw new Error}var Zf=X0;function Kf(e){Zf(e)}function rl(e){Zf=e}var J0=null;function ol(e,t){let n=Object.create(sl);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Ko(n),n.value);return r[Ue]=n,r}function ei(e,t){Xa()||Kf(e),e.equal(e.value,t)||(e.value=t,eb(e))}function il(e,t){Xa()||Kf(e),ei(e,t(e.value))}var sl=J(S({},Ir),{equal:qa,value:void 0,kind:"signal"});function eb(e){e.version++,Gf(),Qa(e),J0?.()}function al(e){let t=k(null);try{return e()}finally{k(t)}}var ll;function Mr(){return ll}function ht(e){let t=ll;return ll=e,t}var ti=Symbol("NotFound");function F(e){return typeof e=="function"}function ni(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ri=ni(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Sr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ge=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(i){t=i instanceof ri?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Qf(i)}catch(s){t=t??[],s instanceof ri?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ri(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Qf(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Sr(n,t)}remove(t){let{_finalizers:n}=this;n&&Sr(n,t),t instanceof e&&t._removeParent(this)}};ge.EMPTY=(()=>{let e=new ge;return e.closed=!0,e})();var cl=ge.EMPTY;function oi(e){return e instanceof ge||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function Qf(e){F(e)?e():e.unsubscribe()}var He={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var En={setTimeout(e,t,...n){let{delegate:r}=En;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=En;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ii(e){En.setTimeout(()=>{let{onUnhandledError:t}=He;if(t)t(e);else throw e})}function ul(){}var Xf=dl("C",void 0,void 0);function Jf(e){return dl("E",void 0,e)}function eh(e){return dl("N",e,void 0)}function dl(e,t,n){return{kind:e,value:t,error:n}}var Gt=null;function wn(e){if(He.useDeprecatedSynchronousErrorHandling){let t=!Gt;if(t&&(Gt={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Gt;if(Gt=null,n)throw r}}else e()}function th(e){He.useDeprecatedSynchronousErrorHandling&&Gt&&(Gt.errorThrown=!0,Gt.error=e)}var Wt=class extends ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,oi(t)&&t.add(this)):this.destination=sb}static create(t,n,r){return new Dn(t,n,r)}next(t){this.isStopped?hl(eh(t),this):this._next(t)}error(t){this.isStopped?hl(Jf(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?hl(Xf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ob=Function.prototype.bind;function fl(e,t){return ob.call(e,t)}var pl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){si(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){si(r)}else si(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){si(n)}}},Dn=class extends Wt{constructor(t,n,r){super();let o;if(F(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&He.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&fl(t.next,i),error:t.error&&fl(t.error,i),complete:t.complete&&fl(t.complete,i)}):o=t}this.destination=new pl(o)}};function si(e){He.useDeprecatedSynchronousErrorHandling?th(e):ii(e)}function ib(e){throw e}function hl(e,t){let{onStoppedNotification:n}=He;n&&En.setTimeout(()=>n(e,t))}var sb={closed:!0,next:ul,error:ib,complete:ul};var xn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ai(e){return e}function nh(e){return e.length===0?ai:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var ce=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=lb(n)?n:new Dn(n,r,o);return wn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rh(r),new r((o,i)=>{let s=new Dn({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xn](){return this}pipe(...n){return nh(n)(this)}toPromise(n){return n=rh(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function rh(e){var t;return(t=e??He.Promise)!==null&&t!==void 0?t:Promise}function ab(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function lb(e){return e&&e instanceof Wt||ab(e)&&oi(e)}function cb(e){return F(e?.lift)}function Tt(e){return t=>{if(cb(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ot(e,t,n,r,o){return new gl(e,t,n,r,o)}var gl=class extends Wt{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var oh=ni(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class e extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new li(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oh}next(n){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?cl:(this.currentObservers=null,i.push(n),new ge(()=>{this.currentObservers=null,Sr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return e.create=(t,n)=>new li(t,n),e})(),li=class extends pt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:cl}};var Qe=class extends pt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};function ih(e){return e&&F(e.schedule)}function sh(e){return e[e.length-1]}function ah(e){return F(sh(e))?e.pop():void 0}function lh(e){return ih(sh(e))?e.pop():void 0}function uh(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function ch(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(e){return this instanceof qt?(this.v=e,this):new qt(e)}function dh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(o[h]=function(v){return new Promise(function(M,Z){i.push([h,v,M,Z])>1||l(h,v)})},p&&(o[h]=p(o[h])))}function l(h,p){try{c(r[h](p))}catch(v){f(i[0][3],v)}}function c(h){h.value instanceof qt?Promise.resolve(h.value.v).then(u,d):f(i[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}function fh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ch=="function"?ch(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}var ci=e=>e&&typeof e.length=="number"&&typeof e!="function";function ui(e){return F(e?.then)}function di(e){return F(e[xn])}function fi(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function hi(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ub(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pi=ub();function gi(e){return F(e?.[pi])}function mi(e){return dh(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield qt(n.read());if(o)return yield qt(void 0);yield yield qt(r)}}finally{n.releaseLock()}})}function _i(e){return F(e?.getReader)}function Nt(e){if(e instanceof ce)return e;if(e!=null){if(di(e))return db(e);if(ci(e))return fb(e);if(ui(e))return hb(e);if(fi(e))return hh(e);if(gi(e))return pb(e);if(_i(e))return gb(e)}throw hi(e)}function db(e){return new ce(t=>{let n=e[xn]();if(F(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fb(e){return new ce(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function hb(e){return new ce(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ii)})}function pb(e){return new ce(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function hh(e){return new ce(t=>{mb(e,t).catch(n=>t.error(n))})}function gb(e){return hh(mi(e))}function mb(e,t){var n,r,o,i;return uh(this,void 0,void 0,function*(){try{for(n=fh(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Xe(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function yi(e,t=0){return Tt((n,r)=>{n.subscribe(Ot(r,o=>Xe(r,e,()=>r.next(o),t),()=>Xe(r,e,()=>r.complete(),t),o=>Xe(r,e,()=>r.error(o),t)))})}function vi(e,t=0){return Tt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ph(e,t){return Nt(e).pipe(vi(t),yi(t))}function gh(e,t){return Nt(e).pipe(vi(t),yi(t))}function mh(e,t){return new ce(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function _h(e,t){return new ce(n=>{let r;return Xe(n,t,()=>{r=e[pi](),Xe(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>F(r?.return)&&r.return()})}function bi(e,t){if(!e)throw new Error("Iterable cannot be null");return new ce(n=>{Xe(n,t,()=>{let r=e[Symbol.asyncIterator]();Xe(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function yh(e,t){return bi(mi(e),t)}function vh(e,t){if(e!=null){if(di(e))return ph(e,t);if(ci(e))return mh(e,t);if(ui(e))return gh(e,t);if(fi(e))return bi(e,t);if(gi(e))return _h(e,t);if(_i(e))return yh(e,t)}throw hi(e)}function Tr(e,t){return t?vh(e,t):Nt(e)}function ml(...e){let t=lh(e);return Tr(e,t)}function Yt(e,t){return Tt((n,r)=>{let o=0;n.subscribe(Ot(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:_b}=Array;function yb(e,t){return _b(t)?e(...t):e(t)}function bh(e){return Yt(t=>yb(e,t))}var{isArray:vb}=Array,{getPrototypeOf:bb,prototype:Cb,keys:Eb}=Object;function Ch(e){if(e.length===1){let t=e[0];if(vb(t))return{args:t,keys:null};if(wb(t)){let n=Eb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function wb(e){return e&&typeof e=="object"&&bb(e)===Cb}function Eh(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function _l(...e){let t=ah(e),{args:n,keys:r}=Ch(e),o=new ce(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Nt(n[u]).subscribe(Ot(i,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||i.next(r?Eh(r,a):a),i.complete())}))}});return t?o.pipe(bh(t)):o}function yl(e,t,n){let r=F(e)||t||n?{next:e,error:t,complete:n}:e;return r?Tt((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(Ot(i,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),i.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ai}var wl={JSACTION:"jsaction"},Dl={JSACTION:"__jsaction",OWNER:"__owner"},Ih={};function Db(e){return e[Dl.JSACTION]}function wh(e,t){e[Dl.JSACTION]=t}function xb(e){return Ih[e]}function Ib(e,t){Ih[e]=t}var E={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},Mb=[E.MOUSEENTER,E.MOUSELEAVE,"pointerenter","pointerleave"],yk=[E.CLICK,E.DBLCLICK,E.FOCUSIN,E.FOCUSOUT,E.KEYDOWN,E.KEYUP,E.KEYPRESS,E.MOUSEOVER,E.MOUSEOUT,E.SUBMIT,E.TOUCHSTART,E.TOUCHEND,E.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],Sb=[E.FOCUS,E.BLUR,E.ERROR,E.LOAD,E.TOGGLE],xl=e=>Sb.indexOf(e)>=0;function Tb(e){return e===E.MOUSEENTER?E.MOUSEOVER:e===E.MOUSELEAVE?E.MOUSEOUT:e===E.POINTERENTER?E.POINTEROVER:e===E.POINTERLEAVE?E.POINTEROUT:e}function Ob(e,t,n,r){let o=!1;xl(t)&&(o=!0);let i=typeof r=="boolean"?{capture:o,passive:r}:o;return e.addEventListener(t,n,i),{eventType:t,handler:n,capture:o,passive:r}}function Nb(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function Pb(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var Dh=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function Ab(e){return e.which===2||e.which==null&&e.button===4}function Rb(e){return Dh&&e.metaKey||!Dh&&e.ctrlKey||Ab(e)||e.shiftKey}function kb(e,t,n){let r=e.relatedTarget;return(e.type===E.MOUSEOVER&&t===E.MOUSEENTER||e.type===E.MOUSEOUT&&t===E.MOUSELEAVE||e.type===E.POINTEROVER&&t===E.POINTERENTER||e.type===E.POINTEROUT&&t===E.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function Fb(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let o=r,i=e[o];typeof i!="function"&&(n[o]=i)}return e.type===E.MOUSEOVER?n.type=E.MOUSEENTER:e.type===E.MOUSEOUT?n.type=E.MOUSELEAVE:e.type===E.POINTEROVER?n.type=E.POINTERENTER:n.type=E.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var Lb=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Di=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){Lb&&(this.element.style.cursor="pointer"),this.handlerInfos.push(Ob(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)Nb(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},Vb={EVENT_ACTION_SEPARATOR:":"};function Pt(e){return e.eventType}function Il(e,t){e.eventType=t}function Ei(e){return e.event}function Mh(e,t){e.event=t}function Sh(e){return e.targetElement}function Th(e,t){e.targetElement=t}function Oh(e){return e.eic}function jb(e,t){e.eic=t}function Bb(e){return e.timeStamp}function Ub(e,t){e.timeStamp=t}function wi(e){return e.eia}function Nh(e,t,n){e.eia=[t,n]}function vl(e){e.eia=void 0}function Ci(e){return e[1]}function Hb(e){return e.eirp}function Ph(e,t){e.eirp=t}function Ah(e){return e.eir}function Rh(e,t){e.eir=t}function kh(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function $b(e,t,n,r,o,i,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:o,eia:i,eirp:s,eiack:a}}var bl=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Pt(this.eventInfo)}setEventType(t){Il(this.eventInfo,t)}getEvent(){return Ei(this.eventInfo)}setEvent(t){Mh(this.eventInfo,t)}getTargetElement(){return Sh(this.eventInfo)}setTargetElement(t){Th(this.eventInfo,t)}getContainer(){return Oh(this.eventInfo)}setContainer(t){jb(this.eventInfo,t)}getTimestamp(){return Bb(this.eventInfo)}setTimestamp(t){Ub(this.eventInfo,t)}getAction(){let t=wi(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){vl(this.eventInfo);return}Nh(this.eventInfo,t.name,t.element)}getIsReplay(){return Hb(this.eventInfo)}setIsReplay(t){Ph(this.eventInfo,t)}getResolved(){return Ah(this.eventInfo)}setResolved(t){Rh(this.eventInfo,t)}clone(){return new e(kh(this.eventInfo))}},zb={},Gb=/\s*;\s*/,Wb=E.CLICK,Cl=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&Pt(t)===E.CLICK&&Rb(Ei(t))?Il(t,E.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){Ah(t)||(this.populateAction(t,Sh(t)),Rh(t,!0))}resolveParentAction(t){let n=wi(t),r=n&&Ci(n);vl(t);let o=r&&this.getParentNode(r);o&&this.populateAction(t,o)}populateAction(t,n){let r=n;for(;r&&r!==Oh(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!wi(t));)r=this.getParentNode(r);let o=wi(t);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Pt(t)===E.MOUSEENTER||Pt(t)===E.MOUSELEAVE||Pt(t)===E.POINTERENTER||Pt(t)===E.POINTERLEAVE)))if(kb(Ei(t),Pt(t),Ci(o))){let i=Fb(Ei(t),Ci(o));Mh(t,i),Th(t,Ci(o))}else vl(t)}getParentNode(t){let n=t[Dl.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),o=r[Pt(n)];o!==void 0&&Nh(n,o,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=Db(t);if(!n){let r=t.getAttribute(wl.JSACTION);if(!r)n=zb,wh(t,n);else{if(n=xb(r),!n){n={};let o=r.split(Gb);for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let a=s.indexOf(Vb.EVENT_ACTION_SEPARATOR),l=a!==-1,c=l?s.substr(0,a).trim():Wb,u=l?s.substr(a+1).trim():s;n[c]=u}Ib(r,n)}wh(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Fh=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(Fh||{}),El=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new bl(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&qb(r.element,n)&&Pb(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function qb(e,t){return e.tagName==="A"&&(t.getEventType()===E.CLICK||t.getEventType()===E.CLICKMOD)}var Lh=Symbol.for("propagationStopped"),Ml={REPLAY:101};var Yb="`preventDefault` called during event replay.";var Zb="`composedPath` called during event replay.",xi=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new Cl({clickModSupport:n}),this.dispatcher=new El(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&Xb(t),Kb(t);t.getAction();){if(Jb(t),xl(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),Qb(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function Kb(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Lh]=!0,n()};Zt(t,"stopPropagation",r),Zt(t,"stopImmediatePropagation",r)}function Qb(e){return!!e.getEvent()[Lh]}function Xb(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);Zt(t,"target",n),Zt(t,"eventPhase",Ml.REPLAY),Zt(t,"preventDefault",()=>{throw r(),new Error(Yb+"")}),Zt(t,"composedPath",()=>{throw new Error(Zb+"")})}function Jb(e){let t=e.getEvent(),n=e.getAction()?.element;n&&Zt(t,"currentTarget",n,{configurable:!0})}function Zt(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function Vh(e,t){e.ecrd(n=>{t.dispatch(n)},Fh.I_AM_THE_JSACTION_FRAMEWORK)}function eC(e){return e?.q??[]}function tC(e){e&&(xh(e.c,e.et,e.h),xh(e.c,e.etc,e.h,!0))}function xh(e,t,n,r){for(let o=0;o<t.length;o++)e.removeEventListener(t[o],n,r)}var nC=!1,jh=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=nC;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,o){let i=$b(n,r,r.target,o,Date.now());this.handleEventInfo(i)}handleEventInfo(n){if(!this.dispatcher){Ph(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,o){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&Mb.indexOf(n)>=0)return;let i=(a,l,c)=>{this.handleEvent(a,l,c)};this.eventHandlers[n]=i;let s=Tb(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{i(n,l,a)},o)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),tC(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let o=n[r],i=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<i.length;s++){let a=kh(o);Il(a,i[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return e})();function Bh(e,t=window){return eC(t._ejsas?.[e])}function Sl(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var rC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(t,n){super(Ac(t,n)),this.code=t}};function oC(e){return`NG0${Math.abs(e)}`}function Ac(e,t){return`${oC(e)}${t?": "+t:""}`}function Br(e){return{toString:e}.toString()}var Ii="__parameters__";function iC(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function Bp(e,t,n){return Br(()=>{let r=iC(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ii)?l[Ii]:Object.defineProperty(l,Ii,{value:[]})[Ii];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function K(e){for(let t in e)if(e[t]===K)return t;throw Error("Could not find renamed property on target object.")}function sC(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Te(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Te).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Uh(e,t){return e?t?`${e} ${t}`:e:t||""}var aC=K({__forward_ref__:K});function Ur(e){return e.__forward_ref__=Ur,e.toString=function(){return Te(this())},e}function me(e){return Up(e)?e():e}function Up(e){return typeof e=="function"&&e.hasOwnProperty(aC)&&e.__forward_ref__===Ur}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Hn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Rc(e){return Hh(e,Hp)||Hh(e,$p)}function Hh(e,t){return e.hasOwnProperty(t)?e[t]:null}function lC(e){let t=e&&(e[Hp]||e[$p]);return t||null}function $h(e){return e&&(e.hasOwnProperty(zh)||e.hasOwnProperty(cC))?e[zh]:null}var Hp=K({\u0275prov:K}),zh=K({\u0275inj:K}),$p=K({ngInjectableDef:K}),cC=K({ngInjectorDef:K}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zp(e){return e&&!!e.\u0275providers}var uC=K({\u0275cmp:K}),dC=K({\u0275dir:K}),fC=K({\u0275pipe:K});var Li=K({\u0275fac:K}),Ar=K({__NG_ELEMENT_ID__:K}),Gh=K({__NG_ENV_ID__:K});function Gp(e){return typeof e=="string"?e:e==null?"":String(e)}function hC(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Gp(e)}function Wp(e,t){throw new D(-200,e)}function kc(e,t){throw new D(-201,!1)}var O=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(O||{}),Wl;function qp(){return Wl}function Ie(e){let t=Wl;return Wl=e,t}function Yp(e,t,n){let r=Rc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&O.Optional)return null;if(t!==void 0)return t;kc(e,"Injector")}var pC={},Kt=pC,ql="__NG_DI_FLAG__",Vi=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?ti:Kt,r)}},ji="ngTempTokenPath",gC="ngTokenPath",mC=/\n/gm,_C="\u0275",Wh="__source";function yC(e,t=O.Default){if(Mr()===void 0)throw new D(-203,!1);if(Mr()===null)return Yp(e,void 0,t);{let n=Mr(),r;return n instanceof Vi?r=n.injector:r=n,r.get(e,t&O.Optional?null:void 0,t)}}function z(e,t=O.Default){return(qp()||yC)(me(e),t)}function C(e,t=O.Default){return z(e,ds(t))}function ds(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Yl(e){let t=[];for(let n=0;n<e.length;n++){let r=me(e[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=O.Default;for(let s=0;s<r.length;s++){let a=r[s],l=vC(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}t.push(z(o,i))}else t.push(z(r))}return t}function Zp(e,t){return e[ql]=t,e.prototype[ql]=t,e}function vC(e){return e[ql]}function bC(e,t,n,r){let o=e[ji];throw t[Wh]&&o.unshift(t[Wh]),e.message=CC(`
`+e.message,o,n,r),e[gC]=o,e[ji]=null,e}function CC(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==_C?e.slice(2):e;let o=Te(t);if(Array.isArray(t))o=t.map(Te).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Te(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(mC,`
  `)}`}var Kp=Zp(Bp("Optional"),8);var EC=Zp(Bp("SkipSelf"),4);function kn(e,t){let n=e.hasOwnProperty(Li);return n?e[Li]:null}function Fc(e,t){e.forEach(n=>Array.isArray(n)?Fc(n,t):t(n))}function Qp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Bi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wC(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function DC(e,t,n){let r=Hr(e,t);return r>=0?e[r|1]=n:(r=~r,wC(e,r,t,n)),r}function Tl(e,t){let n=Hr(e,t);if(n>=0)return e[n|1]}function Hr(e,t){return xC(e,t,1)}function xC(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Xt={},Me=[],Jt=new w(""),Xp=new w("",-1),Jp=new w(""),Ui=class{get(t,n=Kt){if(n===Kt){let r=new Error(`NullInjectorError: No provider for ${Te(t)}!`);throw r.name="NullInjectorError",r}return n}};function Fn(e){return e[uC]||null}function eg(e){return e[dC]||null}function tg(e){return e[fC]||null}function $r(e){return{\u0275providers:e}}function IC(...e){return{\u0275providers:Lc(!0,e),\u0275fromNgModule:!0}}function Lc(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Fc(t,s=>{let a=s;Zl(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&ng(o,i),n}function ng(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Vc(o,i=>{t(i,r)})}}function Zl(e,t,n,r){if(e=me(e),!e)return!1;let o=null,i=$h(e),s=!i&&Fn(e);if(!i&&!s){let l=e.ngModule;if(i=$h(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Zl(c,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Fc(i.imports,u=>{Zl(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&ng(c,t)}if(!a){let c=kn(o)||(()=>new o);t({provide:o,useFactory:c,deps:Me},o),t({provide:Jp,useValue:o,multi:!0},o),t({provide:Jt,useValue:()=>z(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let c=e;Vc(l,u=>{t(u,c)})}}else return!1;return o!==e&&e.providers!==void 0}function Vc(e,t){for(let n of e)zp(n)&&(n=n.\u0275providers),Array.isArray(n)?Vc(n,t):t(n)}var MC=K({provide:String,useValue:K});function rg(e){return e!==null&&typeof e=="object"&&MC in e}function SC(e){return!!(e&&e.useExisting)}function TC(e){return!!(e&&e.useFactory)}function Ln(e){return typeof e=="function"}function OC(e){return!!e.useClass}var fs=new w(""),Oi={},qh={},Ol;function jc(){return Ol===void 0&&(Ol=new Ui),Ol}var mt=class{},Rr=class extends mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Ql(t,s=>this.processProvider(s)),this.records.set(Xp,In(void 0,this)),o.has("environment")&&this.records.set(mt,In(void 0,this));let i=this.records.get(fs);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Jp,Me,O.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?ti:Kt,r)}destroy(){Nr(this),this._destroyed=!0;let t=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return Nr(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Nr(this);let n=ht(this),r=Ie(void 0),o;try{return t()}finally{ht(n),Ie(r)}}get(t,n=Kt,r=O.Default){if(Nr(this),t.hasOwnProperty(Gh))return t[Gh](this);r=ds(r);let o,i=ht(this),s=Ie(void 0);try{if(!(r&O.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=kC(t)&&Rc(t);c&&this.injectableDefInScope(c)?l=In(Kl(t),Oi):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&O.Self?jc():this.parent;return n=r&O.Optional&&n===Kt?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ji]=a[ji]||[]).unshift(Te(t)),i)throw a;return bC(a,t,"R3InjectorError",this.source)}else throw a}finally{Ie(s),ht(i)}}resolveInjectorInitializers(){let t=k(null),n=ht(this),r=Ie(void 0),o;try{let i=this.get(Jt,Me,O.Self);for(let s of i)s()}finally{ht(n),Ie(r),k(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Te(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=me(t);let n=Ln(t)?t:me(t&&t.provide),r=PC(t);if(!Ln(t)&&t.multi===!0){let o=this.records.get(n);o||(o=In(void 0,Oi,!0),o.factory=()=>Yl(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=k(null);try{return n.value===qh?Wp(Te(t)):n.value===Oi&&(n.value=qh,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&RC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=me(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kl(e){let t=Rc(e),n=t!==null?t.factory:kn(e);if(n!==null)return n;if(e instanceof w)throw new D(204,!1);if(e instanceof Function)return NC(e);throw new D(204,!1)}function NC(e){if(e.length>0)throw new D(204,!1);let n=lC(e);return n!==null?()=>n.factory(e):()=>new e}function PC(e){if(rg(e))return In(void 0,e.useValue);{let t=og(e);return In(t,Oi)}}function og(e,t,n){let r;if(Ln(e)){let o=me(e);return kn(o)||Kl(o)}else if(rg(e))r=()=>me(e.useValue);else if(TC(e))r=()=>e.useFactory(...Yl(e.deps||[]));else if(SC(e))r=(o,i)=>z(me(e.useExisting),i!==void 0&&i&O.Optional?O.Optional:void 0);else{let o=me(e&&(e.useClass||e.provide));if(AC(e))r=()=>new o(...Yl(e.deps));else return kn(o)||Kl(o)}return r}function Nr(e){if(e.destroyed)throw new D(205,!1)}function In(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function AC(e){return!!e.deps}function RC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function kC(e){return typeof e=="function"||typeof e=="object"&&e instanceof w}function Ql(e,t){for(let n of e)Array.isArray(n)?Ql(n,t):n&&zp(n)?Ql(n.\u0275providers,t):t(n)}function Bc(e,t){let n;e instanceof Rr?(Nr(e),n=e):n=new Vi(e);let r,o=ht(n),i=Ie(void 0);try{return t()}finally{ht(o),Ie(i)}}function ig(){return qp()!==void 0||Mr()!=null}function sg(e){if(!ig())throw new D(-203,!1)}function FC(e){return typeof e=="function"}var De=0,x=1,I=2,ue=3,ze=4,qe=5,et=6,Hi=7,_e=8,tt=9,Rt=10,ee=11,kr=12,Yh=13,$n=14,Ne=15,Vn=16,Mn=17,jn=18,hs=19,ag=20,At=21,Nl=22,$i=23,Oe=24,Nn=25,de=26,lg=1,_t=6,yt=7,zi=8,Gi=9,we=10;function Ge(e){return Array.isArray(e)&&typeof e[lg]=="object"}function st(e){return Array.isArray(e)&&e[lg]===!0}function cg(e){return(e.flags&4)!==0}function sn(e){return e.componentOffset>-1}function Uc(e){return(e.flags&1)===1}function nt(e){return!!e.template}function Fr(e){return(e[I]&512)!==0}function an(e){return(e[I]&256)===256}var Xl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ug(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Hc=(()=>{let e=()=>dg;return e.ngInherit=!0,e})();function dg(e){return e.type.prototype.ngOnChanges&&(e.setInput=VC),LC}function LC(){let e=hg(this),t=e?.current;if(t){let n=e.previous;if(n===Xt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function VC(e,t,n,r,o){let i=this.declaredInputs[r],s=hg(e)||jC(e,{previous:Xt,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new Xl(c&&c.currentValue,n,l===Xt),ug(e,t,o,n)}var fg="__ngSimpleChanges__";function hg(e){return e[fg]||null}function jC(e,t){return e[fg]=t}var Zh=null;var B=function(e,t=null,n){Zh?.(e,t,n)},BC="svg",UC="math";function We(e){for(;Array.isArray(e);)e=e[De];return e}function pg(e,t){return We(t[e])}function at(e,t){return We(t[e.index])}function ps(e,t){return e.data[t]}function rt(e,t){let n=t[e];return Ge(n)?n:n[De]}function $c(e){return(e[I]&128)===128}function HC(e){return st(e[ue])}function Wi(e,t){return t==null?null:e[t]}function gg(e){e[Mn]=0}function mg(e){e[I]&1024||(e[I]|=1024,$c(e)&&zr(e))}function $C(e,t){for(;e>0;)t=t[$n],e--;return t}function gs(e){return!!(e[I]&9216||e[Oe]?.dirty)}function Jl(e){e[Rt].changeDetectionScheduler?.notify(8),e[I]&64&&(e[I]|=1024),gs(e)&&zr(e)}function zr(e){e[Rt].changeDetectionScheduler?.notify(0);let t=en(e);for(;t!==null&&!(t[I]&8192||(t[I]|=8192,!$c(t)));)t=en(t)}function _g(e,t){if(an(e))throw new D(911,!1);e[At]===null&&(e[At]=[]),e[At].push(t)}function zC(e,t){if(e[At]===null)return;let n=e[At].indexOf(t);n!==-1&&e[At].splice(n,1)}function en(e){let t=e[ue];return st(t)?t[ue]:t}function yg(e){return e[Hi]??=[]}function vg(e){return e.cleanup??=[]}var A={lFrame:Mg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ec=!1;function GC(){return A.lFrame.elementDepthCount}function WC(){A.lFrame.elementDepthCount++}function qC(){A.lFrame.elementDepthCount--}function bg(){return A.bindingsEnabled}function Gr(){return A.skipHydrationRootTNode!==null}function YC(e){return A.skipHydrationRootTNode===e}function ZC(e){A.skipHydrationRootTNode=e}function KC(){A.skipHydrationRootTNode=null}function te(){return A.lFrame.lView}function Ae(){return A.lFrame.tView}function Q(e){return A.lFrame.contextLView=e,e[_e]}function X(e){return A.lFrame.contextLView=null,e}function xe(){let e=Cg();for(;e!==null&&e.type===64;)e=e.parent;return e}function Cg(){return A.lFrame.currentTNode}function QC(){let e=A.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Wr(e,t){let n=A.lFrame;n.currentTNode=e,n.isParent=t}function Eg(){return A.lFrame.isParent}function XC(){A.lFrame.isParent=!1}function wg(){return ec}function Kh(e){let t=ec;return ec=e,t}function JC(e){return A.lFrame.bindingIndex=e}function zc(){return A.lFrame.bindingIndex++}function eE(e){let t=A.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function tE(){return A.lFrame.inI18n}function nE(e,t){let n=A.lFrame;n.bindingIndex=n.bindingRootIndex=e,tc(t)}function rE(){return A.lFrame.currentDirectiveIndex}function tc(e){A.lFrame.currentDirectiveIndex=e}function oE(e){let t=A.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Dg(e){A.lFrame.currentQueryIndex=e}function iE(e){let t=e[x];return t.type===2?t.declTNode:t.type===1?e[qe]:null}function xg(e,t,n){if(n&O.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&O.Host);)if(o=iE(i),o===null||(i=i[$n],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=A.lFrame=Ig();return r.currentTNode=t,r.lView=e,!0}function Gc(e){let t=Ig(),n=e[x];A.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ig(){let e=A.lFrame,t=e===null?null:e.child;return t===null?Mg(e):t}function Mg(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Sg(){let e=A.lFrame;return A.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Tg=Sg;function Wc(){let e=Sg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sE(e){return(A.lFrame.contextLView=$C(e,A.lFrame.contextLView))[_e]}function zn(){return A.lFrame.selectedIndex}function tn(e){A.lFrame.selectedIndex=e}function Og(){let e=A.lFrame;return ps(e.tView,e.selectedIndex)}function Ng(){return A.lFrame.currentNamespace}var Pg=!0;function qc(){return Pg}function kt(e){Pg=e}function aE(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=dg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Ag(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ni(e,t,n){Rg(e,t,3,n)}function Pi(e,t,n,r){(e[I]&3)===n&&Rg(e,t,n,r)}function Pl(e,t){let n=e[I];(n&3)===t&&(n&=16383,n+=1,e[I]=n)}function Rg(e,t,n,r){let o=r!==void 0?e[Mn]&65535:0,i=r??-1,s=t.length-1,a=0;for(let l=o;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Mn]+=65536),(a<i||i==-1)&&(lE(e,n,t,l),e[Mn]=(e[Mn]&4294901760)+l+2),l++}function Qh(e,t){B(4,e,t);let n=k(null);try{t.call(e)}finally{k(n),B(5,e,t)}}function lE(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[I]>>14<e[Mn]>>16&&(e[I]&3)===t&&(e[I]+=16384,Qh(a,i)):Qh(a,i)}var Pn=-1,nn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function cE(e){return(e.flags&8)!==0}function uE(e){return(e.flags&16)!==0}function dE(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];hE(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function fE(e){return e===3||e===4||e===6}function hE(e){return e.charCodeAt(0)===64}function Lr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Xh(e,n,o,null,t[++r]):Xh(e,n,o,null,null))}}return e}function Xh(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function kg(e){return e!==Pn}function qi(e){return e&32767}function pE(e){return e>>16}function Yi(e,t){let n=pE(e),r=t;for(;n>0;)r=r[$n],n--;return r}var nc=!0;function Jh(e){let t=nc;return nc=e,t}var gE=256,Fg=gE-1,Lg=5,mE=0,Je={};function _E(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ar)&&(r=n[Ar]),r==null&&(r=n[Ar]=mE++);let o=r&Fg,i=1<<o;t.data[e+(o>>Lg)]|=i}function Zi(e,t){let n=Vg(e,t);if(n!==-1)return n;let r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,Al(r.data,e),Al(t,null),Al(r.blueprint,null));let o=Yc(e,t),i=e.injectorIndex;if(kg(o)){let s=qi(o),a=Yi(o,t),l=a[x].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function Al(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vg(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Yc(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=zg(o),r===null)return Pn;if(n++,o=o[$n],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Pn}function rc(e,t,n){_E(e,t,n)}function jg(e,t,n){if(n&O.Optional||e!==void 0)return e;kc(t,"NodeInjector")}function Bg(e,t,n,r){if(n&O.Optional&&r===void 0&&(r=null),(n&(O.Self|O.Host))===0){let o=e[tt],i=Ie(void 0);try{return o?o.get(t,r,n&O.Optional):Yp(t,r,n&O.Optional)}finally{Ie(i)}}return jg(r,t,n)}function Ug(e,t,n,r=O.Default,o){if(e!==null){if(t[I]&2048&&!(r&O.Self)){let s=EE(e,t,n,r,Je);if(s!==Je)return s}let i=Hg(e,t,n,r,Je);if(i!==Je)return i}return Bg(t,n,r,o)}function Hg(e,t,n,r,o){let i=bE(n);if(typeof i=="function"){if(!xg(t,e,r))return r&O.Host?jg(o,n,r):Bg(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&O.Optional))kc(n);else return s}finally{Tg()}}else if(typeof i=="number"){let s=null,a=Vg(e,t),l=Pn,c=r&O.Host?t[Ne][qe]:null;for((a===-1||r&O.SkipSelf)&&(l=a===-1?Yc(e,t):t[a+8],l===Pn||!tp(r,!1)?a=-1:(s=t[x],a=qi(l),t=Yi(l,t)));a!==-1;){let u=t[x];if(ep(i,a,u.data)){let d=yE(a,t,n,s,r,c);if(d!==Je)return d}l=t[a+8],l!==Pn&&tp(r,t[x].data[a+8]===c)&&ep(i,a,t)?(s=u,a=qi(l),t=Yi(l,t)):a=-1}}return o}function yE(e,t,n,r,o,i){let s=t[x],a=s.data[e+8],l=r==null?sn(a)&&nc:r!=s&&(a.type&3)!==0,c=o&O.Host&&i===a,u=vE(a,s,n,l,c);return u!==null?Ki(t,s,u,a,o):Je}function vE(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,l=e.directiveStart,c=e.directiveEnd,u=i>>20,d=r?a:a+u,f=o?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(o){let h=s[l];if(h&&nt(h)&&h.type===n)return l}return null}function Ki(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof nn){let a=i;a.resolving&&Wp(hC(s[n]));let l=Jh(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Ie(a.injectImpl):null,d=xg(e,r,O.Default);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&aE(n,s[n],t)}finally{u!==null&&Ie(u),Jh(l),a.resolving=!1,Tg()}}return i}function bE(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ar)?e[Ar]:void 0;return typeof t=="number"?t>=0?t&Fg:CE:t}function ep(e,t,n){let r=1<<e;return!!(n[t+(e>>Lg)]&r)}function tp(e,t){return!(e&O.Self)&&!(e&O.Host&&t)}var Qt=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ug(this._tNode,this._lView,t,ds(r),n)}};function CE(){return new Qt(xe(),te())}function $g(e){return Br(()=>{let t=e.prototype.constructor,n=t[Li]||oc(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Li]||oc(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function oc(e){return Up(e)?()=>{let t=oc(me(e));return t&&t()}:kn(e)}function EE(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[I]&2048&&!Fr(s);){let a=Hg(i,s,n,r|O.Self,Je);if(a!==Je)return a;let l=i.parent;if(!l){let c=s[ag];if(c){let u=c.get(n,Je,r);if(u!==Je)return u}l=zg(s),s=s[$n]}i=l}return o}function zg(e){let t=e[x],n=t.type;return n===2?t.declTNode:n===1?e[qe]:null}function np(e,t=null,n=null,r){let o=wE(e,t,n,r);return o.resolveInjectorInitializers(),o}function wE(e,t=null,n=null,r,o=new Set){let i=[n||Me,IC(e)];return r=r||(typeof e=="object"?void 0:Te(e)),new Rr(i,t||jc(),r||null,o)}var vt=class e{static THROW_IF_NOT_FOUND=Kt;static NULL=new Ui;static create(t,n){if(Array.isArray(t))return np({name:""},n,t,"");{let r=t.name??"";return np({name:r},t.parent,t.providers,r)}}static \u0275prov=V({token:e,providedIn:"any",factory:()=>z(Xp)});static __NG_ELEMENT_ID__=-1};var DE=new w("");DE.__NG_ELEMENT_ID__=e=>{let t=xe();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(e&O.Optional)return null;throw new D(204,!1)};var Gg=!1,ms=(()=>{class e{static __NG_ELEMENT_ID__=xE;static __NG_ENV_ID__=n=>n}return e})(),ic=class extends ms{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return an(n)?(t(),()=>{}):(_g(n,t),()=>zC(n,t))}};function xE(){return new ic(te())}var rn=class{},_s=new w("",{providedIn:"root",factory:()=>!1});var Wg=new w(""),qg=new w(""),ln=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Qe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),IE=(()=>{class e{internalPendingTasks=C(ln);scheduler=C(rn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return $(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),sc=class extends pt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ig()&&(this.destroyRef=C(ms,{optional:!0})??void 0,this.pendingTasks=C(ln,{optional:!0})??void 0)}emit(t){let n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ge&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Se=sc;function Qi(...e){}function Yg(e){let t,n;function r(){e=Qi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function rp(e){return queueMicrotask(()=>e()),()=>{e=Qi}}var Zc="isAngularZone",Xi=Zc+"_ID",ME=0,se=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Se(!1);onMicrotaskEmpty=new Se(!1);onStable=new Se(!1);onError=new Se(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Gg}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,OE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zc)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,SE,Qi,Qi);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},SE={};function Kc(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function TE(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Yg(()=>{e.callbackScheduled=!1,ac(e),e.isCheckStableRunning=!0,Kc(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ac(e)}function OE(e){let t=()=>{TE(e)},n=ME++;e._inner=e._inner.fork({name:"angular",properties:{[Zc]:!0,[Xi]:n,[Xi+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(NE(l))return r.invokeTask(i,s,a,l);try{return op(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),ip(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return op(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!PE(l)&&t(),ip(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ac(e),Kc(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ac(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function op(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ip(e){e._nesting--,Kc(e)}var lc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Se;onMicrotaskEmpty=new Se;onStable=new Se;onError=new Se;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function NE(e){return Zg(e,"__ignore_ng_zone__")}function PE(e){return Zg(e,"__scheduler_tick__")}function Zg(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var ot=class{_console=console;handleError(t){this._console.error("ERROR",t)}},AE=new w("",{providedIn:"root",factory:()=>{let e=C(se),t=C(ot);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function RE(){return ys(xe(),te())}function ys(e,t){return new qr(at(e,t))}var qr=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=RE}return e})();function kE(e){return typeof e=="function"&&e[Ue]!==void 0}function Yr(e,t){let n=ol(e,t?.equal),r=n[Ue];return n.set=o=>ei(r,o),n.update=o=>il(r,o),n.asReadonly=FE.bind(n),n}function FE(){let e=this[Ue];if(e.readonlyFn===void 0){let t=()=>this();t[Ue]=e,e.readonlyFn=t}return e.readonlyFn}function Kg(e){return kE(e)&&typeof e.set=="function"}var LE="ngSkipHydration",VE="ngskiphydration";function Qg(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===VE)return!0}return!1}function Xg(e){return e.hasAttribute(LE)}function Ji(e){return(e.flags&128)===128}function jE(e){if(Ji(e))return!0;let t=e.parent;for(;t;){if(Ji(e)||Qg(t))return!0;t=t.parent}return!1}var Jg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Jg||{}),em=new Map,BE=0;function UE(){return BE++}function HE(e){em.set(e[hs],e)}function cc(e){em.delete(e[hs])}var sp="__ngContext__";function Zr(e,t){Ge(t)?(e[sp]=t[hs],HE(t)):e[sp]=t}function tm(e){return rm(e[kr])}function nm(e){return rm(e[ze])}function rm(e){for(;e!==null&&!st(e);)e=e[ze];return e}var uc;function om(e){uc=e}function vs(){if(uc!==void 0)return uc;if(typeof document<"u")return document;throw new D(210,!1)}var gt=new w("",{providedIn:"root",factory:()=>$E}),$E="ng",Qc=new w(""),cn=new w("",{providedIn:"platform",factory:()=>"unknown"});var Xc=new w("",{providedIn:"root",factory:()=>vs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function zE(){let e=new Gn;return e.store=GE(vs(),C(gt)),e}var Gn=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:zE});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function GE(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var im="h",sm="b",WE="f",qE="n",YE="e",ZE="t",Jc="c",am="x",es="r",KE="i",QE="n",lm="d";var XE="di",JE="s",ew="p";var Mi=new w(""),cm=!1,um=new w("",{providedIn:"root",factory:()=>cm});var dm=new w(""),tw=!1,nw=new w(""),ap=new w("",{providedIn:"root",factory:()=>new Map}),eu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(eu||{}),Wn=new w(""),lp=new Set;function un(e){lp.has(e)||(lp.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var fm=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=rw}return e})();function rw(){return new fm(te(),xe())}var Sn=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Sn||{}),hm=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),ow=[Sn.EarlyRead,Sn.Write,Sn.MixedReadWrite,Sn.Read],iw=(()=>{class e{ngZone=C(se);scheduler=C(rn);errorHandler=C(ot,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(Wn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&B(16),this.executing=!0;for(let r of ow)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&B(17)}register(n){let{view:r}=n;r!==void 0?((r[Nn]??=[]).push(n),zr(r),r[I]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(eu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),dc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Nn];t&&(this.view[Nn]=t.filter(n=>n!==this))}};function pm(e,t){!t?.injector&&sg(pm);let n=t?.injector??C(vt);return un("NgAfterNextRender"),aw(e,n,t,!0)}function sw(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function aw(e,t,n,r){let o=t.get(hm);o.impl??=t.get(iw);let i=t.get(Wn,null,{optional:!0}),s=n?.phase??Sn.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(ms):null,l=t.get(fm,null,{optional:!0}),c=new dc(o.impl,sw(e,s),l?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var Ee=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Ee||{}),cp=0,lw=1,ie=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(ie||{});var cw=0,bs=1;var uw=4,dw=5;var fw=7,An=8,hw=9,gm=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(gm||{});function Ai(e,t){let n=gw(e),r=t[n];if(r!==null){for(let o of r)o();t[n]=null}}function pw(e){Ai(1,e),Ai(0,e),Ai(2,e)}function gw(e){let t=uw;return e===1?t=dw:e===2&&(t=hw),t}function mm(e){return e+1}function Kr(e,t){let n=e[x],r=mm(t.index);return e[r]}function Cs(e,t){let n=mm(t.index);return e.data[n]}function mw(e,t,n){let r=t[x],o=Cs(r,n);switch(e){case ie.Complete:return o.primaryTmplIndex;case ie.Loading:return o.loadingTmplIndex;case ie.Error:return o.errorTmplIndex;case ie.Placeholder:return o.placeholderTmplIndex;default:return null}}function up(e,t){return t===ie.Placeholder?e.placeholderBlockConfig?.[cp]??null:t===ie.Loading?e.loadingBlockConfig?.[cp]??null:null}function _w(e){return e.loadingBlockConfig?.[lw]??null}function dp(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function yw(e,t){let n=t.primaryTmplIndex+de;return ps(e,n)}var Es="ngb";var vw=(e,t,n)=>{let r=e,o=r.__jsaction_fns??new Map,i=o.get(t)??[];i.push(n),o.set(t,i),r.__jsaction_fns=o},bw=(e,t)=>{let n=e,r=n.getAttribute(Es)??"",o=t.get(r)??new Set;o.has(n)||o.add(n),t.set(r,o)};var Cw=e=>{e.removeAttribute(wl.JSACTION),e.removeAttribute(Es),e.__jsaction_fns=void 0},Ew=new w("",{providedIn:"root",factory:()=>({})});function _m(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var fc=new Map;function ww(e,t){return fc.set(e,t),()=>fc.delete(e)}var fp=!1,ym=(e,t,n,r)=>{};function Dw(e,t,n,r){ym(e,t,n,r)}function xw(){fp||(ym=(e,t,n,r)=>{let o=e[tt].get(gt);fc.get(o)?.(t,n,r)},fp=!0)}var tu=new w("");var Iw="__nghData__",vm=Iw,Mw="__nghDeferData__",Sw=Mw,Rl="ngh",Tw="nghm",bm=()=>null;function Ow(e,t,n=!1){let r=e.getAttribute(Rl);if(r==null)return null;let[o,i]=r.split("|");if(r=n?i:o,!r)return null;let s=i?`|${i}`:"",a=n?o:s,l={};if(r!==""){let u=t.get(Gn,null,{optional:!0});u!==null&&(l=u.get(vm,[])[Number(r)])}let c={data:l,firstChild:e.firstChild??null};return n&&(c.firstChild=e,ws(c,0,e.nextSibling)),a?e.setAttribute(Rl,a):e.removeAttribute(Rl),c}function Nw(){bm=Ow}function Cm(e,t,n=!1){return bm(e,t,n)}function Pw(e){let t=e._lView;return t[x].type===2?null:(Fr(t)&&(t=t[de]),t)}function Aw(e){return e.textContent?.replace(/\s/gm,"")}function Rw(e){let t=vs(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){let s=Aw(i);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,o=[];for(;r=n.nextNode();)o.push(r);for(let i of o)i.textContent==="ngetn"?i.replaceWith(t.createTextNode("")):i.remove()}function ws(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function hc(e,t){return e.segmentHeads?.[t]??null}function kw(e){return e.get(nw,!1,{optional:!0})}function Fw(e,t){let n=e.data,r=n[YE]?.[t]??null;return r===null&&n[Jc]?.[t]&&(r=nu(e,t)),r}function Em(e,t){return e.data[Jc]?.[t]??null}function nu(e,t){let n=Em(e,t)??[],r=0;for(let o of n)r+=o[es]*(o[am]??1);return r}function Lw(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[lm];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function Qr(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[lm];e.disconnectedNodes=n?new Set(n):null}return!!Lw(e)?.has(t)}function Vw(e,t){let n=t.get(tu),o=t.get(Gn).get(Sw,{}),i=!1,s=e,a=null,l=[];for(;!i&&s;){i=n.has(s);let c=n.hydrating.get(s);if(a===null&&c!=null){a=c.promise;break}l.unshift(s),s=o[s][ew]}return{parentBlockPromise:a,hydrationQueue:l}}function kl(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===Tw}function hp(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function jw(e){for(let r of e.body.childNodes)if(kl(r))return;let t=hp(e.body.previousSibling);if(kl(t))return;let n=hp(e.head.lastChild);if(!kl(n))throw new D(-507,!1)}function wm(e,t){let n=e.contentQueries;if(n!==null){let r=k(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Dg(i),a.contentQueries(2,t[s],s)}}}finally{k(r)}}}function pc(e,t,n){Dg(0);let r=k(null);try{t(e,n)}finally{k(r)}}function Dm(e,t,n){if(cg(t)){let r=k(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{k(r)}}}var it=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(it||{});var gc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rC})`}};function xm(e){return e instanceof gc?e.changingThisBreaksApplicationSecurity:e}var Bw=/^>|^->|<!--|-->|--!>|<!-$/g,Uw=/(<|>)/g,Hw="\u200B$1\u200B";function $w(e){return e.replace(Bw,t=>t.replace(Uw,Hw))}function Im(e,t){return e.createText(t)}function zw(e,t,n){e.setValue(t,n)}function Mm(e,t){return e.createComment($w(t))}function ru(e,t,n){return e.createElement(t,n)}function ts(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Sm(e,t,n){e.appendChild(t,n)}function pp(e,t,n,r,o){r!==null?ts(e,t,n,r,o):Sm(e,t,n)}function ou(e,t,n){e.removeChild(null,t,n)}function Tm(e){e.textContent=""}function Gw(e,t,n){e.setAttribute(t,"style",n)}function Ww(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Om(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&dE(e,t,r),o!==null&&Ww(e,t,o),i!==null&&Gw(e,t,i)}function qw(e){return e.ownerDocument.body}function Yw(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Nm="ng-template";function Zw(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&Yw(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(iu(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function iu(e){return e.type===4&&e.value!==Nm}function Kw(e,t,n){let r=e.type===4&&!n?Nm:e.value;return t===r}function Qw(e,t,n){let r=4,o=e.attrs,i=o!==null?eD(o):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!$e(r)&&!$e(l))return!1;if(s&&$e(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Kw(e,l,n)||l===""&&t.length===1){if($e(r))return!1;s=!0}}else if(r&8){if(o===null||!Zw(e,o,l,n)){if($e(r))return!1;s=!0}}else{let c=t[++a],u=Xw(l,o,iu(e),n);if(u===-1){if($e(r))return!1;s=!0;continue}if(c!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&c!==d){if($e(r))return!1;s=!0}}}}return $e(r)||s}function $e(e){return(e&1)===0}function Xw(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return tD(t,e)}function Jw(e,t,n=!1){for(let r=0;r<t.length;r++)if(Qw(e,t[r],n))return!0;return!1}function eD(e){for(let t=0;t<e.length;t++){let n=e[t];if(fE(n))return t}return e.length}function tD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function gp(e,t){return e?":not("+t.trim()+")":t}function nD(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!$e(s)&&(t+=gp(i,o),o=""),r=s,i=i||!$e(r);n++}return o!==""&&(t+=gp(i,o)),t}function rD(e){return e.map(nD).join(",")}function oD(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!$e(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var qn={};function su(e,t,n,r,o,i,s,a,l,c,u){let d=de+r,f=d+o,h=iD(d,f),p=typeof c=="function"?c():c;return h[x]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function iD(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:qn);return n}function sD(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=su(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function au(e,t,n,r,o,i,s,a,l,c,u){let d=t.blueprint.slice();return d[De]=o,d[I]=r|4|128|8|64|1024,(c!==null||e&&e[I]&2048)&&(d[I]|=2048),gg(d),d[ue]=d[$n]=e,d[_e]=n,d[Rt]=s||e&&e[Rt],d[ee]=a||e&&e[ee],d[tt]=l||e&&e[tt]||null,d[qe]=i,d[hs]=UE(),d[et]=u,d[ag]=c,d[Ne]=t.type==2?e[Ne]:d,d}function aD(e,t,n){let r=at(t,e),o=sD(n),i=e[Rt].rendererFactory,s=lu(e,au(e,o,null,Pm(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Pm(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Am(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function lu(e,t){return e[kr]?e[Yh][ze]=t:e[kr]=t,e[Yh]=t,t}function b(e=1){Rm(Ae(),te(),zn()+e,!1)}function Rm(e,t,n,r){if(!r)if((t[I]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Ni(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Pi(t,i,0,n)}tn(n)}var Ds=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ds||{});function mc(e,t,n,r){let o=k(null);try{let[i,s,a]=e.inputs[n],l=null;(s&Ds.SignalBased)!==0&&(l=t[i][Ue]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,i):ug(t,l,i,r)}finally{k(o)}}function km(e,t,n,r,o){let i=zn(),s=r&2;try{tn(-1),s&&t.length>de&&Rm(e,t,de,!1),B(s?2:0,o),n(r,o)}finally{tn(i),B(s?3:1,o)}}function cu(e,t,n){pD(e,t,n),(n.flags&64)===64&&gD(e,t,n)}function Fm(e,t,n=at){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function lD(e,t,n,r){let i=r.get(um,cm)||n===it.ShadowDom,s=e.selectRootElement(t,i);return cD(s),s}function cD(e){Lm(e)}var Lm=()=>null;function uD(e){Xg(e)?Tm(e):Rw(e)}function dD(){Lm=uD}function fD(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Vm(e,t,n,r,o,i,s,a){if(!a&&du(t,e,n,r,o)){sn(t)&&hD(n,t.index);return}if(t.type&3){let l=at(t,n);r=fD(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(l,r,o)}else t.type&12}function hD(e,t){let n=rt(t,e);n[I]&16||(n[I]|=64)}function pD(e,t,n){let r=n.directiveStart,o=n.directiveEnd;sn(n)&&aD(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Zi(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],l=Ki(t,e,s,n);if(Zr(l,t),i!==null&&_D(t,s-r,l,a,n,i),nt(a)){let c=rt(n.index,t);c[_e]=Ki(t,e,s,n)}}}function gD(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=rE();try{tn(i);for(let a=r;a<o;a++){let l=e.data[a],c=t[a];tc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&mD(l,c)}}finally{tn(-1),tc(s)}}function mD(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function jm(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];Jw(t,i.selectors,!1)&&(r??=[],nt(i)?r.unshift(i):r.push(i))}return r}function _D(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];mc(r,n,l,c)}}function uu(e,t){let n=e[tt],r=n?n.get(ot,null):null;r&&r.handleError(t)}function du(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];mc(d,n[c],u,o),a=!0}if(i)for(let l of i){let c=n[l],u=t.data[l];mc(u,c,r,o),a=!0}return a}function yD(e,t){let n=rt(t,e),r=n[x];vD(r,n);let o=n[De];o!==null&&n[et]===null&&(n[et]=Cm(o,n[tt])),B(18),fu(r,n,n[_e]),B(19,n[_e])}function vD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function fu(e,t,n){Gc(t);try{let r=e.viewQuery;r!==null&&pc(1,r,n);let o=e.template;o!==null&&km(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[jn]?.finishViewCreation(e),e.staticContentQueries&&wm(e,t),e.staticViewQueries&&pc(2,e.viewQuery,n);let i=e.components;i!==null&&bD(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[I]&=-5,Wc()}}function bD(e,t){for(let n=0;n<t.length;n++)yD(e,t[n])}function Bm(e,t,n,r){let o=k(null);try{let i=t.tView,a=e[I]&4096?4096:16,l=au(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[Vn]=c;let u=e[jn];return u!==null&&(l[jn]=u.createEmbeddedView(i)),fu(i,l,n),l}finally{k(o)}}function _c(e,t){return!t||t.firstChild===null||Ji(e)}var CD;function hu(e,t){return CD(e,t)}var bt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(bt||{});function Yn(e){return(e.flags&32)===32}function Tn(e,t,n,r,o){if(r!=null){let i,s=!1;st(r)?i=r:Ge(r)&&(s=!0,r=r[De]);let a=We(r);e===0&&n!==null?o==null?Sm(t,n,a):ts(t,n,a,o||null,!0):e===1&&n!==null?ts(t,n,a,o||null,!0):e===2?ou(t,a,s):e===3&&t.destroyNode(a),i!=null&&AD(t,e,i,n,o)}}function ED(e,t){Um(e,t),t[De]=null,t[qe]=null}function wD(e,t,n,r,o,i){r[De]=o,r[qe]=t,xs(e,r,n,1,o,i)}function Um(e,t){t[Rt].changeDetectionScheduler?.notify(9),xs(e,t,t[ee],2,null,null)}function DD(e){let t=e[kr];if(!t)return Fl(e[x],e);for(;t;){let n=null;if(Ge(t))n=t[kr];else{let r=t[we];r&&(n=r)}if(!n){for(;t&&!t[ze]&&t!==e;)Ge(t)&&Fl(t[x],t),t=t[ue];t===null&&(t=e),Ge(t)&&Fl(t[x],t),n=t&&t[ze]}t=n}}function pu(e,t){let n=e[Gi],r=n.indexOf(t);n.splice(r,1)}function gu(e,t){if(an(t))return;let n=t[ee];n.destroyNode&&xs(e,t,n,3,null,null),DD(t)}function Fl(e,t){if(an(t))return;let n=k(null);try{t[I]&=-129,t[I]|=256,t[Oe]&&tl(t[Oe]),ID(e,t),xD(e,t),t[x].type===1&&t[ee].destroy();let r=t[Vn];if(r!==null&&st(t[ue])){r!==t[ue]&&pu(r,t);let o=t[jn];o!==null&&o.detachView(e)}cc(t)}finally{k(n)}}function xD(e,t){let n=e.cleanup,r=t[Hi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Hi]=null);let o=t[At];if(o!==null){t[At]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[$i];if(i!==null){t[$i]=null;for(let s of i)s.destroy()}}function ID(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof nn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];B(4,a,l);try{l.call(a)}finally{B(5,a,l)}}else{B(4,o,i);try{i.call(o)}finally{B(5,o,i)}}}}}function MD(e,t,n){return SD(e,t.parent,n)}function SD(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[De];if(sn(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===it.None||o===it.Emulated)return null}return at(r,n)}function TD(e,t,n){return ND(e,t,n)}function OD(e,t,n){return e.type&40?at(e,n):null}var ND=OD,mp;function mu(e,t,n,r){let o=MD(e,r,t),i=t[ee],s=r.parent||t[qe],a=TD(s,r,t);if(o!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)pp(i,o,n[l],a,!1);else pp(i,o,n,a,!1);mp!==void 0&&mp(i,r,t,n,o)}function Pr(e,t){if(t!==null){let n=t.type;if(n&3)return at(t,e);if(n&4)return yc(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Pr(e,r);{let o=e[t.index];return st(o)?yc(-1,o):We(o)}}else{if(n&128)return Pr(e,t.next);if(n&32)return hu(t,e)()||We(e[t.index]);{let r=Hm(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=en(e[Ne]);return Pr(o,r)}else return Pr(e,t.next)}}}return null}function Hm(e,t){if(t!==null){let r=e[Ne][qe],o=t.projection;return r.projection[o]}return null}function yc(e,t){let n=we+e+1;if(n<t.length){let r=t[n],o=r[x].firstChild;if(o!==null)return Pr(r,o)}return t[yt]}function _u(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Zr(We(a),r),n.flags|=2),!Yn(n))if(l&8)_u(e,t,n.child,r,o,i,!1),Tn(t,e,o,a,i);else if(l&32){let c=hu(n,r),u;for(;u=c();)Tn(t,e,o,u,i);Tn(t,e,o,a,i)}else l&16?PD(e,t,r,n,o,i):Tn(t,e,o,a,i);n=s?n.projectionNext:n.next}}function xs(e,t,n,r,o,i){_u(n,r,e.firstChild,t,o,i,!1)}function PD(e,t,n,r,o,i){let s=n[Ne],l=s[qe].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Tn(t,e,o,u,i)}else{let c=l,u=s[ue];Ji(r)&&(c.flags|=128),_u(e,t,c,u,o,i,!0)}}function AD(e,t,n,r,o){let i=n[yt],s=We(n);i!==s&&Tn(t,e,r,i,o);for(let a=we;a<n.length;a++){let l=n[a];xs(l[x],l,e,t,r,i)}}function RD(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:bt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=bt.Important),e.setStyle(n,r,o,i))}}function ns(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(We(i)),st(i)&&kD(i,r);let s=n.type;if(s&8)ns(e,t,n.child,r);else if(s&32){let a=hu(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Hm(t,n);if(Array.isArray(a))r.push(...a);else{let l=en(t[Ne]);ns(l[x],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function kD(e,t){for(let n=we;n<e.length;n++){let r=e[n],o=r[x].firstChild;o!==null&&ns(r[x],r,o,t)}e[yt]!==e[De]&&t.push(e[yt])}function $m(e){if(e[Nn]!==null){for(let t of e[Nn])t.impl.addSequence(t);e[Nn].length=0}}var zm=[];function FD(e){return e[Oe]??LD(e)}function LD(e){let t=zm.pop()??Object.create(jD);return t.lView=e,t}function VD(e){e.lView[Oe]!==e&&(e.lView=null,zm.push(e))}var jD=J(S({},Ir),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{zr(e.lView)},consumerOnSignalRead(){this.lView[Oe]=this}});function BD(e){let t=e[Oe]??Object.create(UD);return t.lView=e,t}var UD=J(S({},Ir),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=en(e.lView);for(;t&&!Gm(t[x]);)t=en(t);t&&mg(t)},consumerOnSignalRead(){this.lView[Oe]=this}});function Gm(e){return e.type!==2}function Wm(e){if(e[$i]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[$i])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[I]&8192)}}var HD=100;function qm(e,t=!0,n=0){let o=e[Rt].rendererFactory,i=!1;i||o.begin?.();try{$D(e,n)}catch(s){throw t&&uu(e,s),s}finally{i||o.end?.()}}function $D(e,t){let n=wg();try{Kh(!0),vc(e,t);let r=0;for(;gs(e);){if(r===HD)throw new D(103,!1);r++,vc(e,1)}}finally{Kh(n)}}function zD(e,t,n,r){if(an(t))return;let o=t[I],i=!1,s=!1;Gc(t);let a=!0,l=null,c=null;i||(Gm(e)?(c=FD(t),l=Qo(c)):Za()===null?(a=!1,c=BD(t),l=Qo(c)):t[Oe]&&(tl(t[Oe]),t[Oe]=null));try{gg(t),JC(e.bindingStartIndex),n!==null&&km(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let h=e.preOrderCheckHooks;h!==null&&Ni(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Pi(t,h,0,null),Pl(t,0)}if(s||GD(t),Wm(t),Ym(t,0),e.contentQueries!==null&&wm(e,t),!i)if(u){let h=e.contentCheckHooks;h!==null&&Ni(t,h)}else{let h=e.contentHooks;h!==null&&Pi(t,h,1),Pl(t,1)}qD(e,t);let d=e.components;d!==null&&Km(t,d,0);let f=e.viewQuery;if(f!==null&&pc(2,f,r),!i)if(u){let h=e.viewCheckHooks;h!==null&&Ni(t,h)}else{let h=e.viewHooks;h!==null&&Pi(t,h,2),Pl(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Nl]){for(let h of t[Nl])h();t[Nl]=null}i||($m(t),t[I]&=-73)}catch(u){throw i||zr(t),u}finally{c!==null&&(Ja(c,l),a&&VD(c)),Wc()}}function Ym(e,t){for(let n=tm(e);n!==null;n=nm(n))for(let r=we;r<n.length;r++){let o=n[r];Zm(o,t)}}function GD(e){for(let t=tm(e);t!==null;t=nm(t)){if(!(t[I]&2))continue;let n=t[Gi];for(let r=0;r<n.length;r++){let o=n[r];mg(o)}}}function WD(e,t,n){B(18);let r=rt(t,e);Zm(r,n),B(19,r[_e])}function Zm(e,t){$c(e)&&vc(e,t)}function vc(e,t){let r=e[x],o=e[I],i=e[Oe],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&el(i)),s||=!1,i&&(i.dirty=!1),e[I]&=-9217,s)zD(r,e,r.template,e[_e]);else if(o&8192){Wm(e),Ym(e,1);let a=r.components;a!==null&&Km(e,a,1),$m(e)}}function Km(e,t,n){for(let r=0;r<t.length;r++)WD(e,t[r],n)}function qD(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)tn(~o);else{let i=o,s=n[++r],a=n[++r];nE(s,i);let l=t[i];B(24,l),a(2,l),B(25,l)}}}finally{tn(-1)}}function Is(e,t){let n=wg()?64:1088;for(e[Rt].changeDetectionScheduler?.notify(t);e;){e[I]|=n;let r=en(e);if(Fr(e)&&!r)return e;e=r}return null}function Qm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Xm(e,t,n,r=!0){let o=t[x];if(ZD(o,t,e,n),r){let s=yc(n,e),a=t[ee],l=a.parentNode(e[yt]);l!==null&&wD(o,e[qe],a,t,l,s)}let i=t[et];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function YD(e,t){let n=rs(e,t);return n!==void 0&&gu(n[x],n),n}function rs(e,t){if(e.length<=we)return;let n=we+t,r=e[n];if(r){let o=r[Vn];o!==null&&o!==e&&pu(o,r),t>0&&(e[n-1][ze]=r[ze]);let i=Bi(e,we+t);ED(r[x],r);let s=i[jn];s!==null&&s.detachView(i[x]),r[ue]=null,r[ze]=null,r[I]&=-129}return r}function ZD(e,t,n,r){let o=we+r,i=n.length;r>0&&(n[o-1][ze]=t),r<i-we?(t[ze]=n[o],Qp(n,we+r,t)):(n.push(t),t[ze]=null),t[ue]=n;let s=t[Vn];s!==null&&n!==s&&Jm(s,t);let a=t[jn];a!==null&&a.insertView(e),Jl(t),t[I]|=128}function Jm(e,t){let n=e[Gi],r=t[ue];if(Ge(r))e[I]|=2;else{let o=r[ue][Ne];t[Ne]!==o&&(e[I]|=2)}n===null?e[Gi]=[t]:n.push(t)}var Vr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[x];return ns(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[_e]}set context(t){this._lView[_e]=t}get destroyed(){return an(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ue];if(st(t)){let n=t[zi],r=n?n.indexOf(this):-1;r>-1&&(rs(t,r),Bi(n,r))}this._attachedToViewContainer=!1}gu(this._lView[x],this._lView)}onDestroy(t){_g(this._lView,t)}markForCheck(){Is(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[I]&=-129}reattach(){Jl(this._lView),this._lView[I]|=128}detectChanges(){this._lView[I]|=1024,qm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Fr(this._lView),n=this._lView[Vn];n!==null&&!t&&pu(n,this._lView),Um(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let n=Fr(this._lView),r=this._lView[Vn];r!==null&&!n&&Jm(r,this._lView),Jl(this._lView)}};var Ms=(()=>{class e{static __NG_ELEMENT_ID__=XD}return e})(),KD=Ms,QD=class extends KD{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Bm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Vr(o)}};function XD(){return JD(xe(),te())}function JD(e,t){return e.type&4?new QD(t,e,ys(e,t)):null}function yu(e,t,n,r,o){let i=e.data[t];if(i===null)i=ex(e,t,n,r,o),tE()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=QC();i.injectorIndex=s===null?-1:s.injectorIndex}return Wr(i,!0),i}function ex(e,t,n,r,o){let i=Cg(),s=Eg(),a=s?i:i&&i.parent,l=e.data[t]=nx(e,a,n,t,r,o);return tx(e,l,i,s),l}function tx(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function nx(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Gr()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rx=new RegExp(`^(\\d+)*(${sm}|${im})*(.*)`);function ox(e){let t=e.match(rx),[n,r,o,i]=t,s=r?parseInt(r,10):o,a=[];for(let[l,c,u]of i.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[s,...a]}function ix(e){return!e.prev&&e.parent?.type===8}function Ll(e){return e.index-de}function sx(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Ss(e,t,n,r){let o=Ll(r),i=sx(e,o);if(i===void 0){let s=e.data[QE];if(s?.[o])i=lx(s[o],n);else if(t.firstChild===r)i=e.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(ix(r)){let c=Ll(r.parent);i=hc(e,c)}else{let c=at(l,n);if(a)i=c.firstChild;else{let u=Ll(l),d=hc(e,u);if(l.type===2&&d){let h=nu(e,u)+1;i=Ts(h,d)}else i=c.nextSibling}}}}return i}function Ts(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function ax(e,t){let n=e;for(let r=0;r<t.length;r+=2){let o=t[r],i=t[r+1];for(let s=0;s<i;s++)switch(o){case WE:n=n.firstChild;break;case qE:n=n.nextSibling;break}}return n}function lx(e,t){let[n,...r]=ox(e),o;if(n===im)o=t[Ne][De];else if(n===sm)o=qw(t[Ne][De]);else{let i=Number(n);o=We(t[i+de])}return ax(o,r)}var cx=!1;function ux(e){cx=e}function dx(e){let t=e[et];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let o=e[ee];for(let i of r.values())fx(o,n,i)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function fx(e,t,n){for(let r of n.node.cases[n.case]){let o=t.get(r.index-de);o&&ou(e,o,!1)}}function e_(e){let t=e[_t]??[],r=e[ue][ee],o=[];for(let i of t)i.data[XE]!==void 0?o.push(i):t_(i,r);e[_t]=o}function hx(e){let{lContainer:t}=e,n=t[_t];if(n===null)return;let o=t[ue][ee];for(let i of n)t_(i,o)}function t_(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[es];for(;n<o;){let i=r.nextSibling;ou(t,r,!1),r=i,n++}}}function Os(e){e_(e);let t=e[De];Ge(t)&&os(t);for(let n=we;n<e.length;n++)os(e[n])}function os(e){dx(e);let t=e[x];for(let n=de;n<t.bindingStartIndex;n++)if(st(e[n])){let r=e[n];Os(r)}else Ge(e[n])&&os(e[n])}function n_(e){let t=e._views;for(let n of t){let r=Pw(n);r!==null&&r[De]!==null&&(Ge(r)?os(r):Os(r))}}function px(e,t,n,r){e!==null&&(n.cleanup(t),Os(e.lContainer),n_(r))}function gx(e,t){let n=[];for(let r of t)for(let o=0;o<(r[am]??1);o++){let i={data:r,firstChild:null};r[es]>0&&(i.firstChild=e,e=Ts(r[es],e)),n.push(i)}return[e,n]}var r_=()=>null;function mx(e,t){let n=e[_t];return!t||n===null||n.length===0?null:n[0].data[KE]===t?n.shift():(e_(e),null)}function _x(){r_=mx}function _p(e,t){return r_(e,t)}var yx=class{},o_=class{},bc=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Te(t)}.`)}},vu=class{static NULL=new bc},Bn=class{},Ns=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>vx()}return e})();function vx(){let e=te(),t=xe(),n=rt(t.index,e);return(Ge(n)?n:e)[ee]}var bx=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:()=>null})}return e})();var Vl={},Rn=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ds(r);let o=this.injector.get(t,Vl,r);return o!==Vl||n===Vl?o:this.parentInjector.get(t,n,r)}};function yp(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Uh(o,a);else if(i==2){let l=a,c=t[++s];r=Uh(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function W(e,t=O.Default){let n=te();if(n===null)return z(e,t);let r=xe();return Ug(r,n,me(e),t)}function i_(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,l=null,c=null,u=Ex(s);u===null?a=s:[a,l,c]=u,xx(e,t,n,a,i,l,c)}i!==null&&r!==null&&Cx(n,r,i)}function Cx(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new D(-301,!1);r.push(t[o],i)}}function Ex(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&nt(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,wx(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function wx(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function Dx(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function xx(e,t,n,r,o,i,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&nt(h)&&(l=!0,Dx(e,n,f)),rc(Zi(n,t),e,h.type)}Nx(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=Am(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Lr(n.mergedAttrs,h.hostAttrs),Mx(e,n,t,d,h),Ox(d,h,o),s!==null&&s.has(h)){let[v,M]=s.get(h);n.directiveToIndex.set(h.type,[d,v+n.directiveStart,M+n.directiveStart])}else(i===null||!i.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}Ix(e,n,i)}function Ix(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))vp(0,t,o,r),vp(1,t,o,r),Cp(t,r,!1);else{let i=n.get(o);bp(0,t,i,r),bp(1,t,i,r),Cp(t,r,!0)}}}function vp(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),s_(t,i)}}function bp(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),s_(t,s)}}function s_(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Cp(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||iu(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&o.hasOwnProperty(l)){let c=o[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){let c=i[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Mx(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=kn(o.type,!0)),s=new nn(i,nt(o),W);e.blueprint[r]=s,n[r]=s,Sx(e,t,r,Am(e,n,o.hostVars,qn),o)}function Sx(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Tx(s)!=a&&s.push(a),s.push(n,r,i)}}function Tx(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Ox(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;nt(t)&&(n[""]=e)}}function Nx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function a_(e,t,n,r,o,i,s,a){let l=t.consts,c=Wi(l,s),u=yu(t,e,2,r,c);return i&&i_(t,n,u,Wi(l,a),o),u.mergedAttrs=Lr(u.mergedAttrs,u.attrs),u.attrs!==null&&yp(u,u.attrs,!1),u.mergedAttrs!==null&&yp(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function l_(e,t){Ag(e,t),cg(t)&&e.queries.elementEnd(t)}var Cc=class extends vu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Fn(t);return new is(n,this.ngModule)}};function Px(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&Ds.SignalBased)!==0};return o&&(i.transform=o),i})}function Ax(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Rx(e,t,n){let r=t instanceof mt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Rn(n,r):n}function kx(e){let t=e.get(Bn,null);if(t===null)throw new D(407,!1);let n=e.get(bx,null),r=e.get(rn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function Fx(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return ru(t,n,n==="svg"?BC:n==="math"?UC:null)}var is=class extends o_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Px(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ax(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=rD(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){B(22);let i=k(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:oD(this.componentDef.selectors[0]),l=su(0,null,null,1,0,null,null,null,null,[a],null),c=Rx(s,o||this.ngModule,t),u=kx(c),d=u.rendererFactory.createRenderer(null,s),f=r?lD(d,r,s.encapsulation,c):Fx(s,d),h=au(null,l,null,512|Pm(s),null,null,u,d,c,null,Cm(f,c,!0));h[de]=f,Gc(h);let p=null;try{let v=a_(de,l,h,"#host",()=>[this.componentDef],!0,0);f&&(Om(d,f,v),Zr(f,h)),cu(l,h,v),Dm(l,v,h),l_(l,v),n!==void 0&&Lx(v,this.ngContentSelectors,n),p=rt(v.index,h),h[_e]=p[_e],fu(l,h,null)}catch(v){throw p!==null&&cc(p),cc(h),v}finally{B(23),Wc()}return new Ec(this.componentType,h)}finally{k(i)}}},Ec=class extends yx{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=ps(n[x],de),this.location=ys(this._tNode,n),this.instance=rt(this._tNode.index,n)[_e],this.hostView=this.changeDetectorRef=new Vr(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=du(r,o[x],o,t,n);this.previousInputValues.set(t,n);let s=rt(r.index,o);Is(s,1)}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Lx(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ps=(()=>{class e{static __NG_ELEMENT_ID__=Vx}return e})();function Vx(){let e=xe();return Bx(e,te())}var jx=Ps,c_=class extends jx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ys(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){let t=Yc(this._hostTNode,this._hostLView);if(kg(t)){let n=Yi(t,this._hostLView),r=qi(t),o=n[x].data[r+8];return new Qt(o,n)}else return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Ep(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-we}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=_p(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,_c(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!FC(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,o=p.projectableNodes,i=p.environmentInjector||p.ngModuleRef}let l=s?t:new is(Fn(t)),c=r||this.parentInjector;if(!i&&l.ngModule==null){let v=(s?c:this.parentInjector).get(mt,null);v&&(i=v)}let u=Fn(l.componentType??{}),d=_p(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,o,f,i);return this.insertImpl(h.hostView,a,_c(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(HC(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=o[ue],c=new c_(l,l[qe],l[ue]);c.detach(c.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Xm(s,o,i,r),t.attachToViewContainerRef(),Qp(jl(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Ep(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=rs(this._lContainer,n);r&&(Bi(jl(this._lContainer),n),gu(r[x],r))}detach(t){let n=this._adjustIndex(t,-1),r=rs(this._lContainer,n);return r&&Bi(jl(this._lContainer),n)!=null?new Vr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ep(e){return e[zi]}function jl(e){return e[zi]||(e[zi]=[])}function Bx(e,t){let n,r=t[e.index];return st(r)?n=r:(n=Qm(r,t,null,e),t[e.index]=n,lu(t,n)),u_(n,t,e,r),new c_(n,e,t)}function Ux(e,t){let n=e[ee],r=n.createComment(""),o=at(t,e),i=n.parentNode(o);return ts(n,i,r,n.nextSibling(o),!1),r}var u_=d_,bu=()=>!1;function Hx(e,t,n){return bu(e,t,n)}function d_(e,t,n,r){if(e[yt])return;let o;n.type&8?o=We(r):o=Ux(t,n),e[yt]=o}function $x(e,t,n){if(e[yt]&&e[_t])return!0;let r=n[et],o=t.index-de;if(!r||jE(t)||Qr(r,o))return!1;let s=hc(r,o),a=r.data[Jc]?.[o],[l,c]=gx(s,a);return e[yt]=l,e[_t]=c,!0}function zx(e,t,n,r){bu(e,n,t)||d_(e,t,n,r)}function Gx(){u_=zx,bu=$x}var ss=class{};var as=class extends ss{injector;componentFactoryResolver=new Cc(this);instance=null;constructor(t){super();let n=new Rr([...t.providers,{provide:ss,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],t.parent||jc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function f_(e,t,n=null){return new as({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Wx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Lc(!1,n.type),o=r.length>0?f_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(z(mt))})}return e})();function As(e){return Br(()=>{let t=h_(e),n=J(S({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Jg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(Wx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||it.Emulated,styles:e.styles||Me,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&un("NgStandalone"),p_(n);let r=e.dependencies;return n.directiveDefs=wp(r,!1),n.pipeDefs=wp(r,!0),n.id=Qx(n),n})}function qx(e){return Fn(e)||eg(e)}function Yx(e){return e!==null}function Zn(e){return Br(()=>({type:e.type,bootstrap:e.bootstrap||Me,declarations:e.declarations||Me,imports:e.imports||Me,exports:e.exports||Me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Zx(e,t){if(e==null)return Xt;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Ds.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function Kx(e){if(e==null)return Xt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ct(e){return Br(()=>{let t=h_(e);return p_(t),t})}function h_(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Xt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Me,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zx(e.inputs,t),outputs:Kx(e.outputs),debugInfo:null}}function p_(e){e.features?.forEach(t=>t(e))}function wp(e,t){if(!e)return null;let n=t?tg:qx;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Yx)}function Qx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Xx(e){return Object.getPrototypeOf(e.prototype).constructor}function Kn(e){let t=Xx(e.type),n=!0,r=[e];for(;t;){let o;if(nt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Bl(e.inputs),s.declaredInputs=Bl(e.declaredInputs),s.outputs=Bl(e.outputs);let a=o.hostBindings;a&&rI(e,a);let l=o.viewQuery,c=o.contentQueries;if(l&&tI(e,l),c&&nI(e,c),Jx(e,o),sC(e.outputs,o.outputs),nt(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Kn&&(n=!1)}}t=Object.getPrototypeOf(t)}eI(r)}function Jx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function eI(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Lr(o.hostAttrs,n=Lr(n,o.hostAttrs))}}function Bl(e){return e===Xt?{}:e===Me?[]:e}function tI(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function nI(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function rI(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function g_(e){return iI(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function oI(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function iI(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Rs(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function sI(e,t,n,r,o,i,s,a,l){let c=t.consts,u=yu(t,e,4,s||null,a||null);bg()&&i_(t,n,u,Wi(c,l),jm),u.mergedAttrs=Lr(u.mergedAttrs,u.attrs),Ag(t,u);let d=u.tView=su(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function aI(e,t,n,r,o,i,s,a,l,c){let u=n+de,d=t.firstCreatePass?sI(u,t,e,r,o,i,s,a,l):t.data[u];Wr(d,!1);let f=m_(t,e,d,n);qc()&&mu(t,e,f,d),Zr(f,e);let h=Qm(f,e,f,d);return e[u]=h,lu(e,h),Hx(h,d,e),Uc(d)&&cu(t,e,d),l!=null&&Fm(e,d,c),d}function he(e,t,n,r,o,i,s,a){let l=te(),c=Ae(),u=Wi(c.consts,i);return aI(l,c,e,t,n,r,o,u,s,a),he}var m_=__;function __(e,t,n,r){return kt(!0),t[ee].createComment("")}function lI(e,t,n,r){let o=t[et],i=!o||Gr()||Yn(n)||Qr(o,r);if(kt(i),i)return __(e,t);let s=o.data[ZE]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ss(o,e,t,n);ws(o,r,a);let l=nu(o,r);return Ts(l,a)}function cI(){m_=lI}var uI=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,o,i){if(!this.cachedInjectors.has(n)){let s=o.length>0?f_(o,r,i):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:e,providedIn:"environment",factory:()=>new e})}return e})();var dI=new w("");function Ul(e,t,n){return e.get(uI).getOrCreateInjector(t,e,n,"")}function fI(e,t,n){if(e instanceof Rn){let o=e.injector,i=e.parentInjector,s=Ul(i,t,n);return new Rn(o,s)}let r=e.get(mt);if(r!==e){let o=Ul(r,t,n);return new Rn(e,o)}return Ul(e,t,n)}function On(e,t,n,r=!1){let o=n[ue],i=o[x];if(an(o))return;let s=Kr(o,t),a=s[bs],l=s[fw];if(!(l!==null&&e<l)&&Dp(a,e)&&Dp(s[cw]??-1,e)){let c=Cs(i,t),d=!r&&!0&&(_w(c)!==null||up(c,ie.Loading)!==null||up(c,ie.Placeholder))?gI:pI;try{d(e,s,n,t,o)}catch(f){uu(o,f)}}}function hI(e,t){let n=e[_t]?.findIndex(o=>o.data[JE]===t[bs])??-1;return{dehydratedView:n>-1?e[_t][n]:null,dehydratedViewIx:n}}function pI(e,t,n,r,o){B(20);let i=mw(e,o,r);if(i!==null){t[bs]=e;let s=o[x],a=i+de,l=ps(s,a),c=0;YD(n,c);let u;if(e===ie.Complete){let p=Cs(s,r),v=p.providers;v&&v.length>0&&(u=fI(o[tt],p,v))}let{dehydratedView:d,dehydratedViewIx:f}=hI(n,t),h=Bm(o,l,null,{injector:u,dehydratedView:d});if(Xm(n,h,c,_c(l,d)),Is(h,2),f>-1&&n[_t]?.splice(f,1),(e===ie.Complete||e===ie.Error)&&Array.isArray(t[An])){for(let p of t[An])p();t[An]=null}}B(21)}function Dp(e,t){return e<t}function xp(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Ee.COMPLETE?On(ie.Complete,t,n):e.loadingState===Ee.FAILED&&On(ie.Error,t,n)})}var gI=null;var y_=new w("");var mI=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:()=>new wc})}return e})(),wc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Xr(e){return!!e&&typeof e.then=="function"}function v_(e){return!!e&&typeof e.subscribe=="function"}var _I=new w("");var b_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(_I,{optional:!0})??[];injector=C(vt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Bc(this.injector,o);if(Xr(i))n.push(i);else if(v_(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jr=new w("");function yI(){rl(()=>{throw new D(600,!1)})}function vI(e){return e.isBoundToModule}var bI=10;var Pe=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(AE);afterRenderManager=C(hm);zonelessEnabled=C(_s);rootEffectScheduler=C(mI);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new pt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(ln).hasPendingTasks.pipe(Yt(n=>!n));constructor(){C(Wn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=vt.NULL){B(10);let i=n instanceof o_;if(!this._injector.get(b_).done){let h="";throw new D(405,h)}let a;i?a=n:a=this._injector.get(vu).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=vI(a)?void 0:this._injector.get(ss),c=r||a.selector,u=a.create(o,[],c,l),d=u.location.nativeElement,f=u.injector.get(y_,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ri(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),B(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){B(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(eu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let n=k(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),B(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<bI;)B(14),this.synchronizeOnce(),B(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)CI(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>gs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ri(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Jr,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ri(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ri(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function CI(e,t,n,r){if(!n&&!gs(e))return;qm(e,t,n&&!r?0:1)}function EI(e,t,n){let r=t[tt],o=t[x];if(e.loadingState!==Ee.NOT_STARTED)return e.loadingPromise??Promise.resolve();let i=Kr(t,n),s=yw(o,e);e.loadingState=Ee.IN_PROGRESS,Ai(1,i);let a=e.dependencyResolverFn,l=r.get(IE).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(c=>{let u=!1,d=[],f=[];for(let h of c)if(h.status==="fulfilled"){let p=h.value,v=Fn(p)||eg(p);if(v)d.push(v);else{let M=tg(p);M&&f.push(M)}}else{u=!0;break}if(u){if(e.loadingState=Ee.FAILED,e.errorTmplIndex===null){let h="",p=new D(-750,!1);uu(t,p)}}else{e.loadingState=Ee.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=dp(h.directiveRegistry,d);let p=d.map(M=>M.type),v=Lc(!1,...p);e.providers=v}f.length>0&&(h.pipeRegistry=dp(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,l()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Ee.COMPLETE,l()}),e.loadingPromise)}function wI(e,t){return t[tt].get(dI,null,{optional:!0})?.behavior!==gm.Manual}function DI(e,t,n){let r=t[x],o=t[n.index];if(!wI(e,t))return;let i=Kr(t,n),s=Cs(r,n);switch(pw(i),s.loadingState){case Ee.NOT_STARTED:On(ie.Loading,n,o),EI(s,t,n),s.loadingState===Ee.IN_PROGRESS&&xp(s,n,o);break;case Ee.IN_PROGRESS:On(ie.Loading,n,o),xp(s,n,o);break;case Ee.COMPLETE:On(ie.Complete,n,o);break;case Ee.FAILED:On(ie.Error,n,o);break;default:}}function xI(e,t,n){return $(this,null,function*(){let r=e.get(tu);if(r.hydrating.has(t))return;let{parentBlockPromise:i,hydrationQueue:s}=Vw(t,e);if(s.length===0)return;i!==null&&s.shift(),SI(r,s),i!==null&&(yield i);let a=s[0];r.has(a)?yield Ip(e,s,n):r.awaitParentBlock(a,()=>$(null,null,function*(){return yield Ip(e,s,n)}))})}function Ip(e,t,n){return $(this,null,function*(){let r=e.get(tu),o=r.hydrating,i=e.get(ln),s=i.add();for(let l=0;l<t.length;l++){let c=t[l],u=r.get(c);if(u!=null){if(yield OI(u),yield TI(e),II(u)){hx(u),Mp(t.slice(l),r);break}o.get(c).resolve()}else{MI(l,t,r),Mp(t.slice(l),r);break}}let a=t[t.length-1];yield o.get(a)?.promise,i.remove(s),n&&n(t),px(r.get(a),t,r,e.get(Pe))})}function II(e){return Kr(e.lView,e.tNode)[bs]===ie.Error}function MI(e,t,n){let r=e-1,o=r>-1?n.get(t[r]):null;o&&Os(o.lContainer)}function Mp(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function SI(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function TI(e){return new Promise(t=>pm(t,{injector:e}))}function OI(e){return $(this,null,function*(){let{tNode:t,lView:n}=e,r=Kr(n,t);return new Promise(o=>{NI(r,o),DI(2,n,t)})})}function NI(e,t){Array.isArray(e[An])||(e[An]=[]),e[An].push(t)}function PI(e,t,n,r){return Rs(e,zc(),n)?t+Gp(n)+r:qn}function Si(e,t){return e<<17|t<<2}function on(e){return e>>17&32767}function AI(e){return(e&2)==2}function RI(e,t){return e&131071|t<<17}function Dc(e){return e|2}function Un(e){return(e&131068)>>2}function Hl(e,t){return e&-131069|t<<2}function kI(e){return(e&1)===1}function xc(e){return e|1}function FI(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=on(s),l=Un(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Hr(d,u)>0)&&(c=!0)}else u=n;if(o)if(l!==0){let f=on(e[a+1]);e[r+1]=Si(f,a),f!==0&&(e[f+1]=Hl(e[f+1],r)),e[a+1]=RI(e[a+1],r)}else e[r+1]=Si(a,0),a!==0&&(e[a+1]=Hl(e[a+1],r)),a=r;else e[r+1]=Si(l,0),a===0?a=r:e[l+1]=Hl(e[l+1],r),l=r;c&&(e[r+1]=Dc(e[r+1])),Sp(e,u,r,!0),Sp(e,u,r,!1),LI(t,u,e,r,i),s=Si(a,l),i?t.classBindings=s:t.styleBindings=s}function LI(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Hr(i,t)>=0&&(n[r+1]=xc(n[r+1]))}function Sp(e,t,n,r){let o=e[n+1],i=t===null,s=r?on(o):Un(o),a=!1;for(;s!==0&&(a===!1||i);){let l=e[s],c=e[s+1];VI(l,t)&&(a=!0,e[s+1]=r?xc(c):Dc(c)),s=r?on(c):Un(c)}a&&(e[n+1]=r?Dc(o):xc(o))}function VI(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Hr(e,t)>=0:!1}function G(e,t,n){let r=te(),o=zc();if(Rs(r,o,t)){let i=Ae(),s=Og();Vm(i,s,r,e,t,r[ee],n,!1)}return G}function Tp(e,t,n,r,o){du(t,e,n,o?"class":"style",r)}function re(e,t,n){return C_(e,t,n,!1),re}function Re(e,t){return C_(e,t,null,!0),Re}function C_(e,t,n,r){let o=te(),i=Ae(),s=eE(2);if(i.firstUpdatePass&&BI(i,e,s,r),t!==qn&&Rs(o,s,t)){let a=i.data[zn()];GI(i,a,o,o[ee],e,o[s+1]=WI(t,n),r,s)}}function jI(e,t){return t>=e.expandoStartIndex}function BI(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[zn()],s=jI(e,n);qI(i,r)&&t===null&&!s&&(t=!1),t=UI(o,i,t,r),FI(o,i,t,n,s,r)}}function UI(e,t,n,r){let o=oE(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=$l(null,e,t,n,r),n=jr(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=$l(o,e,t,n,r),i===null){let l=HI(e,t,r);l!==void 0&&Array.isArray(l)&&(l=$l(null,e,t,l[1],r),l=jr(l,t.attrs,r),$I(e,t,r,l))}else i=zI(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function HI(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Un(r)!==0)return e[on(r)]}function $I(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[on(o)]=r}function zI(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=jr(r,s,n)}return jr(r,t.attrs,n)}function $l(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=jr(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function jr(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),DC(e,s,n?!0:t[++i]))}return e===void 0?null:e}function GI(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=kI(c)?Op(l,t,n,o,Un(c),s):void 0;if(!ls(u)){ls(i)||AI(c)&&(i=Op(l,null,n,o,a,s));let d=pg(zn(),n);RD(r,s,d,o,i)}}function Op(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let l=e[o],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[o+1];f===qn&&(f=d?Me:void 0);let h=d?Tl(f,r):u===r?f:void 0;if(c&&!ls(h)&&(h=Tl(l,r)),ls(h)&&(a=h,s))return a;let p=e[o+1];o=s?on(p):Un(p)}if(t!==null){let l=i?t.residualClasses:t.residualStyles;l!=null&&(a=Tl(l,r))}return a}function ls(e){return e!==void 0}function WI(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Te(xm(e)))),e}function qI(e,t){return(e.flags&(t?8:16))!==0}function g(e,t,n,r){let o=te(),i=Ae(),s=de+e,a=o[ee],l=i.firstCreatePass?a_(s,i,o,t,jm,bg(),n,r):i.data[s],c=E_(i,o,l,a,t,e);o[s]=c;let u=Uc(l);return Wr(l,!0),Om(a,c,l),!Yn(l)&&qc()&&mu(i,o,c,l),(GC()===0||u)&&Zr(c,o),WC(),u&&(cu(i,o,l),Dm(i,l,o)),r!==null&&Fm(o,l),g}function m(){let e=xe();Eg()?XC():(e=e.parent,Wr(e,!1));let t=e;YC(t)&&KC(),qC();let n=Ae();return n.firstCreatePass&&l_(n,t),t.classesWithoutHost!=null&&cE(t)&&Tp(n,t,te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&uE(t)&&Tp(n,t,te(),t.stylesWithoutHost,!1),m}function ke(e,t,n,r){return g(e,t,n,r),m(),ke}var E_=(e,t,n,r,o,i)=>(kt(!0),ru(r,o,Ng()));function YI(e,t,n,r,o,i){let s=t[et],a=!s||Gr()||Yn(n)||Qr(s,i);if(kt(a),a)return ru(r,o,Ng());let l=Ss(s,e,t,n);return Em(s,i)&&ws(s,i,l.nextSibling),s&&(Qg(n)||Xg(l))&&sn(n)&&(ZC(n),Tm(l)),l}function ZI(){E_=YI}var KI=(e,t,n,r)=>(kt(!0),Mm(t[ee],""));function QI(e,t,n,r){let o,i=t[et],s=!i||Gr()||Qr(i,r)||Yn(n);if(kt(s),s)return Mm(t[ee],"");let a=Ss(i,e,t,n),l=Fw(i,r);return ws(i,r,a),o=Ts(l,a),o}function XI(){KI=QI}function Fe(){return te()}var cs="en-US";var JI=cs;function eM(e){typeof e=="string"&&(JI=e.toLowerCase().replace(/_/g,"-"))}function Np(e,t,n){return function r(o){if(o===Function)return n;let i=sn(e)?rt(e.index,t):t;Is(i,5);let s=t[_e],a=Pp(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Pp(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Pp(e,t,n,r){let o=k(null);try{return B(6,t,n),n(r)!==!1}catch(i){return tM(e,i),!1}finally{B(7,t,n),k(o)}}function tM(e,t){let n=e[tt],r=n?n.get(ot,null):null;r&&r.handleError(t)}function Ap(e,t,n,r,o,i){let s=t[n],a=t[x],c=a.data[n].outputs[r],u=s[c],d=a.firstCreatePass?vg(a):null,f=yg(t),h=u.subscribe(i),p=f.length;f.push(i,h),d&&d.push(o,e.index,p,-(p+1))}function U(e,t,n,r){let o=te(),i=Ae(),s=xe();return w_(i,o,o[ee],s,e,t,r),U}function nM(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Hi],l=o[i+2];return a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function w_(e,t,n,r,o,i,s){let a=Uc(r),c=e.firstCreatePass?vg(e):null,u=yg(t),d=!0;if(r.type&3||s){let f=at(r,t),h=s?s(f):f,p=u.length,v=s?Z=>s(We(Z[r.index])):r.index,M=null;if(!s&&a&&(M=nM(e,t,o,r.index)),M!==null){let Z=M.__ngLastListenerFn__||M;Z.__ngNextListenerFn__=i,M.__ngLastListenerFn__=i,d=!1}else{i=Np(r,t,i),Dw(t,h,o,i);let Z=n.listen(h,o,i);u.push(i,Z),c&&c.push(o,v,p,p+1)}}else i=Np(r,t,i);if(d){let f=r.outputs?.[o],h=r.hostDirectiveOutputs?.[o];if(h&&h.length)for(let p=0;p<h.length;p+=2){let v=h[p],M=h[p+1];Ap(r,t,v,M,o,i)}if(f&&f.length)for(let p of f)Ap(r,t,p,o,o,i)}}function L(e=1){return sE(e)}function _(e,t=""){let n=te(),r=Ae(),o=e+de,i=r.firstCreatePass?yu(r,o,1,t,null):r.data[o],s=D_(r,n,i,t,e);n[o]=s,qc()&&mu(r,n,s,i),Wr(i,!1)}var D_=(e,t,n,r,o)=>(kt(!0),Im(t[ee],r));function rM(e,t,n,r,o){let i=t[et],s=!i||Gr()||Yn(n)||Qr(i,o);return kt(s),s?Im(t[ee],r):Ss(i,e,t,n)}function oM(){D_=rM}function Le(e){return Et("",e,""),Le}function Et(e,t,n){let r=te(),o=PI(r,e,t,n);return o!==qn&&iM(r,zn(),o),Et}function iM(e,t,n){let r=pg(t,e);zw(e[ee],r,n)}function eo(e,t,n){Kg(t)&&(t=t());let r=te(),o=zc();if(Rs(r,o,t)){let i=Ae(),s=Og();Vm(i,s,r,e,t,r[ee],n,!1)}return eo}function ks(e,t){let n=Kg(e);return n&&e.set(t),n}function to(e,t){let n=te(),r=Ae(),o=xe();return w_(r,n,n[ee],o,e,t),to}function sM(e,t,n){let r=Ae();if(r.firstCreatePass){let o=nt(e);Ic(n,r.data,r.blueprint,o,!0),Ic(t,r.data,r.blueprint,o,!1)}}function Ic(e,t,n,r,o){if(e=me(e),Array.isArray(e))for(let i=0;i<e.length;i++)Ic(e[i],t,n,r,o);else{let i=Ae(),s=te(),a=xe(),l=Ln(e)?e:me(e.provide),c=og(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ln(e)||!e.multi){let h=new nn(c,o,W),p=Gl(l,t,o?u:u+f,d);p===-1?(rc(Zi(a,s),i,l),zl(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Gl(l,t,u+f,d),p=Gl(l,t,u,u+f),v=h>=0&&n[h],M=p>=0&&n[p];if(o&&!M||!o&&!v){rc(Zi(a,s),i,l);let Z=cM(o?lM:aM,n.length,o,r,c);!o&&M&&(n[p].providerFactory=Z),zl(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(Z),s.push(Z)}else{let Z=x_(n[o?p:h],c,!o&&r);zl(i,e,h>-1?h:p,Z)}!o&&r&&M&&n[p].componentProviders++}}}function zl(e,t,n,r){let o=Ln(t),i=OC(t);if(o||i){let l=(i?me(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function x_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Gl(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function aM(e,t,n,r,o){return Mc(this.multi,[])}function lM(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ki(r,r[x],this.providerFactory.index,o);s=l.slice(0,a),Mc(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Mc(i,s);return s}function Mc(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function cM(e,t,n,r,o){let i=new nn(e,n,W);return i.multi=[],i.index=t,i.componentProviders=0,x_(i,o,r&&!n),i}function Cu(e,t=[]){return n=>{n.providersResolver=(r,o)=>sM(r,o?o(e):e,t)}}var uM=(()=>{class e{zone=C(se);changeDetectionScheduler=C(rn);applicationRef=C(Pe);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dM=new w("",{factory:()=>!1});function I_({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new se(J(S({},S_()),{scheduleInRootZone:n})),[{provide:se,useFactory:e},{provide:Jt,multi:!0,useFactory:()=>{let r=C(uM,{optional:!0});return()=>r.initialize()}},{provide:Jt,multi:!0,useFactory:()=>{let r=C(fM);return()=>{r.initialize()}}},t===!0?{provide:Wg,useValue:!0}:[],{provide:qg,useValue:n??Gg}]}function M_(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=I_({ngZoneFactory:()=>{let o=S_(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&un("NgZone_CoalesceEvent"),new se(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return $r([{provide:dM,useValue:!0},{provide:_s,useValue:!1},r])}function S_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var fM=(()=>{class e{subscription=new ge;initialized=!1;zone=C(se);pendingTasks=C(ln);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hM=(()=>{class e{appRef=C(Pe);taskService=C(ln);ngZone=C(se);zonelessEnabled=C(_s);tracing=C(Wn,{optional:!0});disableScheduling=C(Wg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(qg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?rp:Yg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pM(){return typeof $localize<"u"&&$localize.locale||cs}var Eu=new w("",{providedIn:"root",factory:()=>C(Eu,O.Optional|O.SkipSelf)||pM()});var Sc=new w(""),gM=new w("");function Or(e){return!e.moduleRef}function mM(e){let t=Or(e)?e.r3Injector:e.moduleRef.injector,n=t.get(se);return n.run(()=>{Or(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ot,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),Or(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Sc);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Sc);s.add(i),e.moduleRef.onDestroy(()=>{Ri(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return yM(r,n,()=>{let i=t.get(b_);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(Eu,cs);if(eM(s||cs),!t.get(gM,!0))return Or(e)?t.get(Pe):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Or(e)){let l=t.get(Pe);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return _M(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function _M(e,t){let n=e.injector.get(Pe);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new D(-403,!1);t.push(e)}function yM(e,t,n){try{let r=n();return Xr(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var ki=null;function vM(e=[],t){return vt.create({name:t,providers:[{provide:fs,useValue:"platform"},{provide:Sc,useValue:new Set([()=>ki=null])},...e]})}function bM(e=[]){if(ki)return ki;let t=vM(e);return ki=t,yI(),CM(t),t}function CM(e){let t=e.get(Qc,null);Bc(e,()=>{t?.forEach(n=>n())})}var wu=(()=>{class e{static __NG_ELEMENT_ID__=EM}return e})();function EM(e){return wM(xe(),te(),(e&16)===16)}function wM(e,t,n){if(sn(e)&&!n){let r=rt(e.index,t);return new Vr(r,r)}else if(e.type&175){let r=t[Ne];return new Vr(r,t)}return null}var Tc=class{constructor(){}supports(t){return g_(t)}create(t){return new Oc(t)}},DM=(e,t)=>t,Oc=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||DM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Rp(r,o,i)?n:r,a=Rp(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let c=a-o,u=l-o;if(c!=u){for(let f=0;f<c;f++){let h=f<i.length?i[f]:i[f]=0,p=h+f;u<=p&&p<c&&(i[f]=h+1)}let d=s.previousIndex;i[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!g_(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,oI(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Nc(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new us),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new us),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Nc=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Pc=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},us=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Pc,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rp(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function kp(){return new Du([new Tc])}var Du=(()=>{class e{factories;static \u0275prov=V({token:e,providedIn:"root",factory:kp});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||kp()),deps:[[e,new EC,new Kp]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new D(901,!1)}}return e})();function T_(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;B(8);try{let i=o?.injector??bM(r),s=[I_({}),{provide:rn,useExisting:hM},...n||[]],a=new as({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return mM({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{B(9)}}var Ti=new WeakSet,Fp="",Fi=[];function Lp(e){return e.get(dm,tw)}function O_(){let e=[{provide:dm,useFactory:()=>{let t=!0;{let n=C(gt);t=!!window._ejsas?.[n]}return t&&un("NgEventReplay"),t}}];return e.push({provide:Jt,useValue:()=>{let t=C(Pe),{injector:n}=t;if(!Ti.has(t)){let r=C(ap);if(Lp(n)){xw();let o=n.get(gt),i=ww(o,(s,a,l)=>{s.nodeType===Node.ELEMENT_NODE&&(vw(s,a,l),bw(s,r))});t.onDestroy(i)}}},multi:!0},{provide:Jr,useFactory:()=>{let t=C(Pe),{injector:n}=t;return()=>{!Lp(n)||Ti.has(t)||(Ti.add(t),t.onDestroy(()=>{Ti.delete(t);{let r=n.get(gt);Sl(r)}}),t.whenStable().then(()=>{if(t.destroyed)return;let r=n.get(Ew);xM(r,n);let o=n.get(ap);o.get(Fp)?.forEach(Cw),o.delete(Fp);let i=r.instance;kw(n)?t.onDestroy(()=>i.cleanUp()):i.cleanUp()}))}},multi:!0}),e}var xM=(e,t)=>{let n=t.get(gt),r=window._ejsas[n],o=e.instance=new jh(new Di(r.c));for(let a of r.et)o.addEvent(a);for(let a of r.etc)o.addEvent(a);let i=Bh(n);o.replayEarlyEventInfos(i),Sl(n);let s=new xi(a=>{IM(t,a,a.currentTarget)});Vh(o,s)};function IM(e,t,n){let r=(n&&n.getAttribute(Es))??"";/d\d+/.test(r)?MM(r,e,t,n):t.eventPhase===Ml.REPLAY&&_m(t,n)}function MM(e,t,n,r){Fi.push({event:n,currentTarget:r}),xI(t,e,SM)}function SM(e){let t=[...Fi],n=new Set(e);Fi=[];for(let{event:r,currentTarget:o}of t){let i=o.getAttribute(Es);n.has(i)?_m(r,o):Fi.push({event:r,currentTarget:o})}}var Vp=!1;function TM(){Vp||(Vp=!0,Nw(),ZI(),oM(),XI(),cI(),Gx(),_x(),dD())}function OM(e){return e.whenStable()}function N_(){let e=[{provide:Mi,useFactory:()=>{let t=!0;return t=!!C(Gn,{optional:!0})?.get(vm,null),t&&un("NgHydration"),t}},{provide:Jt,useValue:()=>{ux(!1),C(Mi)&&(jw(vs()),TM())},multi:!0}];return e.push({provide:um,useFactory:()=>C(Mi)},{provide:Jr,useFactory:()=>{if(C(Mi)){let t=C(Pe);return()=>{OM(t).then(()=>{t.destroyed||n_(t)})}}return()=>{}},multi:!0}),$r(e)}function P_(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ft(e){return al(e)}function no(e,t){return nl(e,t?.equal)}var jp=class{[Ue];constructor(t){this[Ue]=t}destroy(){this[Ue].destroy()}};var lt=new w("");var A_=null;function Vt(){return A_}function xu(e){A_??=e}var ro=class{};var Fs=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qn=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Fs(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),R_(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);R_(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Ps),W(Ms),W(Du))};static \u0275dir=Ct({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function R_(e,t){e.context.$implicit=t.item}var oo=(()=>{class e{_viewContainer;_context=new Ls;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){k_(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){k_(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Ps),W(Ms))};static \u0275dir=Ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Ls=class{$implicit=null;ngIf=null};function k_(e,t){if(e&&!e.createEmbeddedView)throw new D(2020,!1)}var Xn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Zn({type:e});static \u0275inj=Hn({})}return e})();function Iu(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Vs="browser",F_="server";function Mu(e){return e===Vs}function js(e){return e===F_}var io=class{};var Hs=new w(""),Nu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(z(Hs),z(se))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),so=class{_doc;constructor(t){this._doc=t}manager},Bs="ng-app-id";function V_(e){for(let t of e)t.remove()}function j_(e,t){let n=t.createElement("style");return n.textContent=e,n}function NM(e,t,n,r){let o=e.head?.querySelectorAll(`style[${Bs}="${t}"],link[${Bs}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Bs),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Tu(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Pu=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=js(i),NM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,j_);r?.forEach(o=>this.addUsage(o,this.external,Tu))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(V_(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])V_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,j_(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Tu(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bs,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(z(lt),z(gt),z(Xc,8),z(cn))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),Su={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Au=/%COMP%/g;var U_="%COMP%",PM=`_nghost-${U_}`,AM=`_ngcontent-${U_}`,RM=!0,kM=new w("",{providedIn:"root",factory:()=>RM});function FM(e){return AM.replace(Au,e)}function LM(e){return PM.replace(Au,e)}function H_(e,t){return t.map(n=>n.replace(Au,e))}var Ru=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=js(a),this.defaultRenderer=new ao(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===it.ShadowDom&&(r=J(S({},r),{encapsulation:it.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Us?o.applyToHost(n):o instanceof lo&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case it.Emulated:i=new Us(l,c,r,this.appId,u,s,a,d,f);break;case it.ShadowDom:return new Ou(l,c,n,r,s,a,this.nonce,d,f);default:i=new lo(l,c,r,u,s,a,d,f);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(z(Nu),z(Pu),z(gt),z(kM),z(lt),z(cn),z(se),z(Xc),z(Wn,8))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),ao=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Su[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(B_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(B_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Su[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Su[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(bt.DashCase|bt.Important)?t.style.setProperty(n,r,o&bt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&bt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Vt().getGlobalEventTarget(this.doc,t),!t))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function B_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ou=class extends ao{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,c){super(t,i,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=H_(o.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=o.getExternalStyles?.();if(d)for(let f of d){let h=Tu(f,i);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lo=class extends ao{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,l,c){super(t,i,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?H_(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Us=class extends lo{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,c){let u=o+"-"+r.id;super(t,n,r,i,s,a,l,c,u),this.contentAttr=FM(u),this.hostAttr=LM(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var $s=class e extends ro{supportsDOMEvents=!0;static makeCurrent(){xu(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=jM();return n==null?null:BM(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Iu(document.cookie,t)}},co=null;function jM(){return co=co||document.head.querySelector("base"),co?co.getAttribute("href"):null}function BM(e){return new URL(e,document.baseURI).pathname}var UM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),z_=(()=>{class e extends so{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(z(lt))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),$_=["alt","control","meta","shift"],HM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$M={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},G_=(()=>{class e extends so{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$_.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=HM[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),$_.forEach(s=>{if(s!==o){let a=$M[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(z(lt))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})();function ku(e,t,n){return T_(S({rootComponent:e,platformRef:n?.platformRef},zM(t)))}function zM(e){return{appProviders:[...ZM,...e?.providers??[]],platformProviders:YM}}function GM(){$s.makeCurrent()}function WM(){return new ot}function qM(){return om(document),document}var YM=[{provide:cn,useValue:Vs},{provide:Qc,useValue:GM,multi:!0},{provide:lt,useFactory:qM}];var ZM=[{provide:fs,useValue:"root"},{provide:ot,useFactory:WM},{provide:Hs,useClass:z_,multi:!0,deps:[lt]},{provide:Hs,useClass:G_,multi:!0,deps:[lt]},Ru,Pu,Nu,{provide:Bn,useExisting:Ru},{provide:io,useClass:UM},[]];var uo=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var KM="X-Request-URL",QM="text/plain",XM="application/json",sL=`${XM}, ${QM}, */*`;var Lu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Lu||{}),Fu=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new uo,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var fo=class e extends Fu{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Lu.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var W_=new w("");var aL=RegExp(`^${KM}:`,"m");var JM=new w(""),eS="b",tS="h",nS="s",rS="st",oS="u",iS="rt",Vu=new w(""),sS=["GET","HEAD"];function aS(e,t){let f=C(Vu),{isCacheActive:n}=f,r=zf(f,["isCacheActive"]),{transferCache:o,method:i}=e;if(!n||o===!1||i==="POST"&&!r.includePostRequests&&!o||i!=="POST"&&!sS.includes(i)||!r.includeRequestsWithAuthHeaders&&lS(e)||r.filter?.(e)===!1)return t(e);let s=C(Gn);if(C(JM,{optional:!0}))throw new D(2803,!1);let l=e.url,c=cS(e,l),u=s.get(c,null),d=r.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(d=o.includeHeaders),u){let{[eS]:h,[iS]:p,[tS]:v,[nS]:M,[rS]:Z,[oS]:je}=u,Be=h;switch(p){case"arraybuffer":Be=new TextEncoder().encode(h).buffer;break;case"blob":Be=new Blob([h]);break}let Dr=new uo(v);return ml(new fo({body:Be,headers:Dr,status:M,statusText:Z,url:je}))}return t(e).pipe(yl(h=>{h instanceof fo}))}function lS(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function q_(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function cS(e,t){let{params:n,method:r,responseType:o}=e,i=q_(n),s=e.serializeBody();s instanceof URLSearchParams?s=q_(s):typeof s!="string"&&(s="");let a=[r,o,t,s,i].join("|"),l=uS(a);return l}function uS(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function Y_(e){return[{provide:Vu,useFactory:()=>(un("NgHttpTransferCache"),S({isCacheActive:!0},e))},{provide:W_,useValue:aS,multi:!0},{provide:Jr,multi:!0,useFactory:()=>{let t=C(Pe),n=C(Vu);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var zs=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(zs||{});function fS(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function Z_(){return fS(zs.EventReplay,O_())}function K_(...e){let t=[],n=new Set;for(let{\u0275providers:o,\u0275kind:i}of e)n.add(i),o.length&&t.push(o);let r=n.has(zs.HttpTransferCacheOptions);return $r([[],N_(),n.has(zs.NoHttpTransferCache)||r?[]:Y_({}),t])}var Q_={providers:[M_({eventCoalescing:!0}),K_(Z_())]};var iy=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(W(Ns),W(qr))};static \u0275dir=Ct({type:e})}return e})(),hS=(()=>{class e extends iy{static \u0275fac=(()=>{let n;return function(o){return(n||(n=$g(e)))(o||e)}})();static \u0275dir=Ct({type:e,features:[Kn]})}return e})(),sy=new w("");var pS={provide:sy,useExisting:Ur(()=>nr),multi:!0};function gS(){let e=Vt()?Vt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var mS=new w(""),nr=(()=>{class e extends iy{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!gS())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(W(Ns),W(qr),W(mS,8))};static \u0275dir=Ct({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&U("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Cu([pS]),Kn]})}return e})();var _S=new w(""),yS=new w("");function ay(e){return e!=null}function ly(e){return Xr(e)?Tr(e):e}function cy(e){let t={};return e.forEach(n=>{t=n!=null?S(S({},t),n):t}),Object.keys(t).length===0?null:t}function uy(e,t){return t.map(n=>n(e))}function vS(e){return!e.validate}function dy(e){return e.map(t=>vS(t)?t:n=>t.validate(n))}function bS(e){if(!e)return null;let t=e.filter(ay);return t.length==0?null:function(n){return cy(uy(n,t))}}function fy(e){return e!=null?bS(dy(e)):null}function CS(e){if(!e)return null;let t=e.filter(ay);return t.length==0?null:function(n){let r=uy(n,t).map(ly);return _l(r).pipe(Yt(cy))}}function hy(e){return e!=null?CS(dy(e)):null}function X_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ES(e){return e._rawValidators}function wS(e){return e._rawAsyncValidators}function ju(e){return e?Array.isArray(e)?e:[e]:[]}function Ws(e,t){return Array.isArray(e)?e.includes(t):e===t}function J_(e,t){let n=ju(t);return ju(e).forEach(o=>{Ws(n,o)||n.push(o)}),n}function ey(e,t){return ju(t).filter(n=>!Ws(e,n))}var qs=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Bu=class extends qs{name;get formDirective(){return null}get path(){return null}},_o=class extends qs{_parent=null;name=null;valueAccessor=null},Uu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},DS={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_V=J(S({},DS),{"[class.ng-submitted]":"isSubmitted"}),Zs=(()=>{class e extends Uu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(W(_o,2))};static \u0275dir=Ct({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Re("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Kn]})}return e})();var ho="VALID",Gs="INVALID",Jn="PENDING",po="DISABLED",tr=class{},Ys=class extends tr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},go=class extends tr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},mo=class extends tr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},er=class extends tr{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function xS(e){return(Ks(e)?e.validators:e)||null}function IS(e){return Array.isArray(e)?fy(e):e||null}function MS(e,t){return(Ks(t)?t.asyncValidators:e)||null}function SS(e){return Array.isArray(e)?hy(e):e||null}function Ks(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Hu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ft(this.statusReactive)}set status(t){Ft(()=>this.statusReactive.set(t))}_status=no(()=>this.statusReactive());statusReactive=Yr(void 0);get valid(){return this.status===ho}get invalid(){return this.status===Gs}get pending(){return this.status==Jn}get disabled(){return this.status===po}get enabled(){return this.status!==po}errors;get pristine(){return Ft(this.pristineReactive)}set pristine(t){Ft(()=>this.pristineReactive.set(t))}_pristine=no(()=>this.pristineReactive());pristineReactive=Yr(!0);get dirty(){return!this.pristine}get touched(){return Ft(this.touchedReactive)}set touched(t){Ft(()=>this.touchedReactive.set(t))}_touched=no(()=>this.touchedReactive());touchedReactive=Yr(!1);get untouched(){return!this.touched}_events=new pt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(J_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(J_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ey(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ey(t,this._rawAsyncValidators))}hasValidator(t){return Ws(this._rawValidators,t)}hasAsyncValidator(t){return Ws(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(J(S({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new mo(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new mo(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(J(S({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new go(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new go(!0,r))}markAsPending(t={}){this.status=Jn;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new er(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(J(S({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=po,this.errors=null,this._forEachChild(o=>{o.disable(J(S({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ys(this.value,r)),this._events.next(new er(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(S({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ho,this._forEachChild(r=>{r.enable(J(S({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(J(S({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ho||this.status===Jn)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ys(this.value,n)),this._events.next(new er(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(J(S({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?po:ho}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Jn,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ly(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new er(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?po:this.errors?Gs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jn)?Jn:this._anyControlsHaveStatus(Gs)?Gs:ho}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new go(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new mo(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ks(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=IS(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=SS(this._rawAsyncValidators)}};var py=new w("",{providedIn:"root",factory:()=>$u}),$u="always";function TS(e,t){return[...t.path,e]}function OS(e,t,n=$u){PS(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),AS(e,t),kS(e,t),RS(e,t),NS(e,t)}function ty(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function NS(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function PS(e,t){let n=ES(e);t.validator!==null?e.setValidators(X_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=wS(e);t.asyncValidator!==null?e.setAsyncValidators(X_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();ty(t._rawValidators,o),ty(t._rawAsyncValidators,o)}function AS(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&gy(e,t)})}function RS(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&gy(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function gy(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function kS(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function FS(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function LS(e){return Object.getPrototypeOf(e.constructor)===hS}function VS(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===nr?n=i:LS(i)?r=i:o=i}),o||r||n||null}function ny(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function ry(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var jS=class extends Hu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(xS(n),MS(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ks(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ry(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ny(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ny(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ry(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var BS={provide:_o,useExisting:Ur(()=>yo)},oy=Promise.resolve(),yo=(()=>{class e extends _o{_changeDetectorRef;callSetDisabledState;control=new jS;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Se;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=VS(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),FS(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){OS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){oy.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&P_(r);oy.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?TS(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(W(Bu,9),W(_S,10),W(yS,10),W(sy,10),W(wu,8),W(py,8))};static \u0275dir=Ct({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Cu([BS]),Kn,Hc]})}return e})();var US=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Zn({type:e});static \u0275inj=Hn({})}return e})();var Qs=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:py,useValue:n.callSetDisabledState??$u}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Zn({type:e});static \u0275inj=Hn({imports:[US]})}return e})();var rr=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(rr||{});function zu(e,t){return{type:rr.Trigger,name:e,definitions:t,options:{}}}function Xs(e,t=null){return{type:rr.Animate,styles:t,timings:e}}function Js(e){return{type:rr.Style,styles:e,offset:null}}function ea(e,t,n=null){return{type:rr.Transition,expr:e,animation:t,options:n}}var or=class e{nightModeSubject=new Qe(!1);nightMode$=this.nightModeSubject.asObservable();setNightMode(t){this.nightModeSubject.next(t)}toggleNightMode(){this.nightModeSubject.next(!this.nightModeSubject.value)}get isNightMode(){return this.nightModeSubject.value}static \u0275fac=function(n){return new(n||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};function $S(e,t){e&1&&(g(0,"div",13)(1,"div",14)(2,"div",15),_(3,"\u{1F300}"),m(),g(4,"div",16),_(5,"\u{1F300}"),m(),g(6,"div",17),_(7,"\u{1F300}"),m(),g(8,"div",18),_(9,"\u{1F300}"),m(),g(10,"div",19),_(11,"\u{1F300}"),m(),g(12,"div",20),_(13,"\u2728"),m(),g(14,"div",21),_(15,"\u2728"),m(),g(16,"div",22),_(17,"\u2728"),m(),g(18,"div",23),_(19,"\u26A1"),m(),g(20,"div",24),_(21,"\u26A1"),m()()())}function zS(e,t){if(e&1&&(g(0,"div",25)(1,"span",26),_(2,"\u2728"),m(),g(3,"span",27),_(4,"\u2728"),m(),g(5,"span",28),_(6,"\u2728"),m(),g(7,"span",29),_(8,"\u2728"),m(),g(9,"span",30),_(10,"\u2728"),m(),g(11,"span",31),_(12,"\u2728"),m(),g(13,"span",32),_(14,"\u2728"),m(),g(15,"span",33),_(16,"\u2728"),m()()),e&2){let n=L();b(),re("top",n.globalStarPositions[0]==null?null:n.globalStarPositions[0].top,"%")("left",n.globalStarPositions[0]==null?null:n.globalStarPositions[0].left,"%"),b(2),re("top",n.globalStarPositions[1]==null?null:n.globalStarPositions[1].top,"%")("left",n.globalStarPositions[1]==null?null:n.globalStarPositions[1].left,"%"),b(2),re("top",n.globalStarPositions[2]==null?null:n.globalStarPositions[2].top,"%")("left",n.globalStarPositions[2]==null?null:n.globalStarPositions[2].left,"%"),b(2),re("top",n.globalStarPositions[3]==null?null:n.globalStarPositions[3].top,"%")("left",n.globalStarPositions[3]==null?null:n.globalStarPositions[3].left,"%"),b(2),re("top",n.globalStarPositions[4]==null?null:n.globalStarPositions[4].top,"%")("left",n.globalStarPositions[4]==null?null:n.globalStarPositions[4].left,"%"),b(2),re("top",n.globalStarPositions[5]==null?null:n.globalStarPositions[5].top,"%")("left",n.globalStarPositions[5]==null?null:n.globalStarPositions[5].left,"%"),b(2),re("top",n.globalStarPositions[6]==null?null:n.globalStarPositions[6].top,"%")("left",n.globalStarPositions[6]==null?null:n.globalStarPositions[6].left,"%"),b(2),re("top",n.globalStarPositions[7]==null?null:n.globalStarPositions[7].top,"%")("left",n.globalStarPositions[7]==null?null:n.globalStarPositions[7].left,"%")}}function GS(e,t){e&1&&(g(0,"span"),_(1,"\u2713"),m())}function WS(e,t){if(e&1&&(g(0,"div",44)(1,"span",26),_(2,"\u2728"),m(),g(3,"span",27),_(4,"\u2728"),m(),g(5,"span",28),_(6,"\u2728"),m(),g(7,"span",29),_(8,"\u2728"),m(),g(9,"span",30),_(10,"\u2728"),m(),g(11,"span",31),_(12,"\u2728"),m(),g(13,"span",32),_(14,"\u2728"),m(),g(15,"span",33),_(16,"\u2728"),m()()),e&2){let n=L().$implicit;b(),re("top",(n.randomStarPositions==null||n.randomStarPositions[0]==null?null:n.randomStarPositions[0].top)||50,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[0]==null?null:n.randomStarPositions[0].left)||50,"%"),b(2),re("top",(n.randomStarPositions==null||n.randomStarPositions[1]==null?null:n.randomStarPositions[1].top)||5,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[1]==null?null:n.randomStarPositions[1].left)||20,"%"),b(2),re("top",(n.randomStarPositions==null||n.randomStarPositions[2]==null?null:n.randomStarPositions[2].top)||5,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[2]==null?null:n.randomStarPositions[2].left)||95,"%"),b(2),re("top",(n.randomStarPositions==null||n.randomStarPositions[3]==null?null:n.randomStarPositions[3].top)||95,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[3]==null?null:n.randomStarPositions[3].left)||70,"%"),b(2),re("top",(n.randomStarPositions==null||n.randomStarPositions[4]==null?null:n.randomStarPositions[4].top)||70,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[4]==null?null:n.randomStarPositions[4].left)||2,"%"),b(2),re("top",(n.randomStarPositions==null||n.randomStarPositions[5]==null?null:n.randomStarPositions[5].top)||20,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[5]==null?null:n.randomStarPositions[5].left)||5,"%"),b(2),re("top",(n.randomStarPositions==null||n.randomStarPositions[6]==null?null:n.randomStarPositions[6].top)||95,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[6]==null?null:n.randomStarPositions[6].left)||95,"%"),b(2),re("top",(n.randomStarPositions==null||n.randomStarPositions[7]==null?null:n.randomStarPositions[7].top)||35,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[7]==null?null:n.randomStarPositions[7].left)||98,"%")}}function qS(e,t){if(e&1){let n=Fe();g(0,"div",36)(1,"div",37),U("click",function(){let o=Q(n).$implicit,i=L(2);return X(i.toggleItem(o))}),g(2,"div",38),he(3,GS,2,0,"span",39),m(),g(4,"div",40)(5,"span",41),_(6),m()()(),g(7,"button",42),U("click",function(){let o=Q(n).$implicit,i=L(2);return X(i.deleteItem(o.id))}),_(8," \u{1FA84}\uFE0F "),m(),he(9,WS,17,32,"div",43),m()}if(e&2){let n=t.$implicit;Re("checked",n.checked)("fading-out",n.fadingOut),G("@itemAnimation",void 0),b(3),G("ngIf",n.checked),b(3),Le(n.name),b(3),G("ngIf",n.showMagicStars)}}function YS(e,t){if(e&1&&(g(0,"div",34),he(1,qS,10,8,"div",35),m()),e&2){let n=L();b(),G("ngForOf",n.shoppingItems)("ngForTrackBy",n.trackByItemId)}}function ZS(e,t){e&1&&(g(0,"div",45)(1,"p"),_(2,"Aucun article dans la liste"),m(),g(3,"p",46),_(4,"Ajoutez votre premier ingr\xE9dient !"),m()())}function KS(e,t){if(e&1){let n=Fe();g(0,"div",47)(1,"button",48),U("click",function(){Q(n);let o=L();return X(o.openConfirmModal())}),_(2," \u{1F9D9}\u{1F3FB}\u200D Vider toute la liste "),m()()}}function QS(e,t){if(e&1){let n=Fe();g(0,"div",49),U("click",function(){Q(n);let o=L();return X(o.closeConfirmModal())}),g(1,"div",50),U("click",function(o){return Q(n),X(o.stopPropagation())}),g(2,"div",51)(3,"span",52),_(4,"\u{1F52E}"),m(),g(5,"h3"),_(6,"Confirmation Requise"),m(),g(7,"span",52),_(8,"\u{1F52E}"),m()(),g(9,"div",53)(10,"p"),_(11,"\xCAtes-vous s\xFBr de vouloir supprimer TOUS les articles de la liste ?"),m(),g(12,"p",54),_(13,"Cette magie noire est irr\xE9versible !"),m()(),g(14,"div",55)(15,"button",56),U("click",function(){Q(n);let o=L();return X(o.closeConfirmModal())}),_(16," \u274C Annuler "),m(),g(17,"button",57),U("click",function(){Q(n);let o=L();return X(o.confirmClearAllItems())}),_(18," \u2713 Confirmer "),m()()()()}}var ta=class e{constructor(t){this.themeService=t;this.themeSubscription=this.themeService.nightMode$.subscribe(n=>{this.darkMode=n})}newItem="";shoppingItems=[];nextId=1;showConfirmModal=!1;darkMode=!1;showBlueTornado=!1;showGlobalMagicStars=!1;globalStarPositions=[];themeSubscription;addItem(){if(this.newItem.trim()){let t={id:this.nextId++,name:this.newItem.trim(),checked:!1};this.shoppingItems.push(t),this.newItem=""}}toggleItem(t){t.checked=!t.checked,setTimeout(()=>{this.sortItems()},1e3)}sortItems(){this.shoppingItems.sort((t,n)=>t.checked===n.checked?0:t.checked?1:-1)}deleteItem(t){let n=this.shoppingItems.find(r=>r.id===t);n&&(n.showMagicStars=!0,n.fadingOut=!0,setTimeout(()=>{this.shoppingItems=this.shoppingItems.filter(r=>r.id!==t)},2e3))}openConfirmModal(){this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1}confirmClearAllItems(){this.showBlueTornado=!0,this.globalStarPositions=this.generateRandomStarPositions(),this.showGlobalMagicStars=!0,this.shoppingItems.forEach(t=>{t.fadingOut=!0}),this.closeConfirmModal(),setTimeout(()=>{this.shoppingItems=[],this.showBlueTornado=!1,this.showGlobalMagicStars=!1},4e3)}generateRandomStarPositions(){let t=[];t.push({top:50,left:50});for(let n=0;n<7;n++)t.push({top:Math.random()*100,left:Math.random()*100});return t}get uncheckedCount(){return this.shoppingItems.filter(t=>!t.checked).length}trackByItemId(t,n){return n.id}ngOnDestroy(){this.themeSubscription&&this.themeSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)(W(or))};static \u0275cmp=As({type:e,selectors:[["app-shopping-list"]],decls:17,vars:11,consts:[[1,"shopping-list-container"],["class","blue-tornado-overlay",4,"ngIf"],["class","global-magic-stars",4,"ngIf"],[1,"shopping-header"],[1,"subtitle"],[1,"add-item-section"],[1,"input-group"],["type","text","placeholder","Ajouter un ingr\xE9dient...",1,"item-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"add-button",3,"click","disabled"],["class","items-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","actions",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"blue-tornado-overlay"],[1,"tornado-container"],[1,"tornado-spiral","tornado-spiral-1"],[1,"tornado-spiral","tornado-spiral-2"],[1,"tornado-spiral","tornado-spiral-3"],[1,"tornado-spiral","tornado-spiral-4"],[1,"tornado-spiral","tornado-spiral-5"],[1,"tornado-magic"],[1,"tornado-magic","tornado-magic-2"],[1,"tornado-magic","tornado-magic-3"],[1,"tornado-lightning"],[1,"tornado-lightning","tornado-lightning-2"],[1,"global-magic-stars"],[1,"star","star-1"],[1,"star","star-2"],[1,"star","star-3"],[1,"star","star-4"],[1,"star","star-5"],[1,"star","star-6"],[1,"star","star-7"],[1,"star","star-8"],[1,"items-list"],["class","shopping-item",3,"checked","fading-out",4,"ngFor","ngForOf","ngForTrackBy"],[1,"shopping-item"],[1,"item-content",3,"click"],[1,"checkbox"],[4,"ngIf"],[1,"item-details"],[1,"item-name"],["title","Supprimer",1,"delete-button",3,"click"],["class","magic-stars",4,"ngIf"],[1,"magic-stars"],[1,"empty-state"],[1,"empty-subtitle"],[1,"actions"],[1,"clear-button",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[2,"font-size","2rem"],[1,"modal-body"],[1,"modal-warning"],[1,"modal-actions"],[1,"modal-cancel-button",3,"click"],[1,"modal-confirm-button",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0),he(1,$S,22,0,"div",1)(2,zS,17,32,"div",2),g(3,"div",3)(4,"h2"),_(5,"\u{1F35E} Victuailles \xE0 acheter"),m(),g(6,"p",4),_(7),m()(),g(8,"div",5)(9,"div",6)(10,"input",7),to("ngModelChange",function(i){return ks(r.newItem,i)||(r.newItem=i),i}),U("keyup.enter",function(){return r.addItem()}),m(),g(11,"button",8),U("click",function(){return r.addItem()}),_(12," \u2795 Ajouter "),m()()(),he(13,YS,2,2,"div",9)(14,ZS,5,0,"div",10)(15,KS,3,0,"div",11)(16,QS,19,0,"div",12),m()),n&2&&(Re("dark-mode",r.darkMode),b(),G("ngIf",r.showBlueTornado),b(),G("ngIf",r.showGlobalMagicStars),b(5),Et("",r.uncheckedCount," article(s) \xE0 acheter"),b(3),eo("ngModel",r.newItem),b(),G("disabled",!r.newItem.trim()),b(2),G("ngIf",r.shoppingItems.length>0),b(),G("ngIf",r.shoppingItems.length===0),b(),G("ngIf",r.shoppingItems.length>0),b(),G("ngIf",r.showConfirmModal))},dependencies:[Xn,Qn,oo,Qs,nr,Zs,yo],styles:['.shopping-list-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px;font-family:MedievalSharp,serif;position:relative;transition:background-color .3s ease}.shopping-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:45px;padding:30px 40px;position:relative;background:#f4e4c1;border:6px solid transparent;border-image:linear-gradient(135deg,#b8941f,#dab02c,#cfa414,#edbf2b,#b8941f) 1;outline:3px solid #3D2817;outline-offset:-9px;box-shadow:0 0 0 2px #b8941f,6px 6px #0006,inset 0 0 40px #b8941f26}.shopping-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;left:-6px;width:40px;height:40px;background:linear-gradient(135deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(45deg,#c9a227,#b8941f);border-radius:0 0 12px;box-shadow:inset 2px 2px 4px #c9a22780,2px 2px 6px #0000004d;z-index:10}.shopping-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-6px;right:-6px;width:40px;height:40px;background:linear-gradient(-45deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(135deg,#ffd44b,#b8941f);border-radius:12px 0 0;box-shadow:inset -2px -2px 4px #c9a22780,-2px -2px 6px #0000004d;z-index:10}.shopping-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:2.2em;font-weight:700;color:#8b0000;text-shadow:2px 2px 0 #d4af37,3px 3px 6px rgba(0,0,0,.3);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px}.subtitle[_ngcontent-%COMP%]{margin:0;font-size:1.1em;color:#654321;font-weight:700;text-shadow:1px 1px 2px rgba(139,69,19,.3)}.add-item-section[_ngcontent-%COMP%]{margin-bottom:45px;background:#f4e4c1;padding:25px;border:5px double #3d2817;box-shadow:6px 6px #0006;position:relative}.add-item-section[_ngcontent-%COMP%]:before{content:"\\1f3f0";position:absolute;top:-32px;left:50%;transform:translate(-50%);font-size:1.6rem;background:#d4af37;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:4px solid #3d2817;box-shadow:0 4px 8px #0006;text-align:center;line-height:50px}.input-group[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.item-input[_ngcontent-%COMP%]{flex:1;min-width:200px;padding:14px 16px;border:4px solid #3d2817;border-radius:6px;font-size:1em;font-family:MedievalSharp,serif;background:#fff8e7;box-sizing:border-box;box-shadow:inset 0 2px 6px #0003;transition:all .3s ease;color:#3d2817}.item-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d4af37;box-shadow:inset 0 2px 6px #0003,0 0 0 4px #d4af374d}.item-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.add-button[_ngcontent-%COMP%]{padding:14px 28px;background:linear-gradient(135deg,#d4af37,#c9a227);color:#3d2817;border:4px solid #3d2817;border-radius:6px;font-size:1em;font-weight:700;cursor:pointer;transition:all .3s ease;white-space:nowrap;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:1px;box-shadow:4px 4px #0000004d;text-shadow:1px 1px 2px rgba(255,255,255,.5)}.add-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translate(-2px,-2px);box-shadow:6px 6px #00000059,0 0 20px #d4af3799;background:linear-gradient(135deg,gold,#d4af37)}.add-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(2px,2px);box-shadow:2px 2px #0003}.add-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#aaa,#888);color:#555;cursor:not-allowed;opacity:.6}.items-list[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.shopping-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;margin-bottom:12px;background:#f4e4c1;border:4px solid #3d2817;border-left:8px solid #d4af37;box-shadow:4px 4px #0003;transition:all .5s cubic-bezier(.68,-.55,.265,1.55);position:relative;will-change:transform,opacity}.shopping-item.fading-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_itemFadeOut 1.5s ease-out forwards;animation-delay:.4s}@keyframes _ngcontent-%COMP%_itemFadeOut{0%{opacity:1}25%{opacity:.8}50%{opacity:.6}75%{opacity:.2}to{opacity:0}}.shopping-item[_ngcontent-%COMP%]:before{content:"\\25c6";position:absolute;left:-6px;top:50%;transform:translateY(-50%);color:#d4af37;font-size:1.2rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.shopping-item[_ngcontent-%COMP%]:hover{transform:translate(8px);box-shadow:6px 6px #00000040}.shopping-item.checked[_ngcontent-%COMP%]{background:#d4c5a0}.shopping-item.checked[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-decoration:none;color:#353535;position:relative;display:inline-block}.shopping-item.checked[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-5%;top:50%;width:110%;height:3px;background:linear-gradient(90deg,transparent 0%,#8b0000 3%,#c41515 50%,#8b0000 97%,transparent 100%);transform:translateY(-50%) scaleX(0) rotate(-.5deg);transform-origin:left;animation:_ngcontent-%COMP%_drawLine 1s ease-out forwards;border-radius:50%;box-shadow:0 1px 2px #8b000080,0 -1px 1px #8b00004d;opacity:.95}@keyframes _ngcontent-%COMP%_drawLine{0%{transform:translateY(-50%) scaleX(0) rotate(-.5deg);opacity:0}10%{opacity:.8}to{transform:translateY(-50%) scaleX(1) rotate(-.5deg);opacity:.95}}.item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;cursor:pointer;gap:15px}.checkbox[_ngcontent-%COMP%]{width:28px;height:28px;border:3px solid #3d2817;background:#fff8e7;border-radius:4px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .3s ease;box-shadow:inset 0 2px 4px #0003}.shopping-item.checked[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background:#d4af37;border-color:#3d2817;box-shadow:inset 0 2px 4px #0000004d,0 0 10px #d4af3780}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#3d2817;text-shadow:1px 1px 2px rgba(255,255,255,.5)}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.item-name[_ngcontent-%COMP%]{font-size:1.15em;font-weight:700;color:#3d2817;font-family:MedievalSharp,serif;text-shadow:1px 1px 2px rgba(212,175,55,.3)}.item-user[_ngcontent-%COMP%]{font-size:.85em;color:#654321;font-style:italic}.delete-button[_ngcontent-%COMP%]{padding:10px 14px;background:linear-gradient(135deg,#8b0000,#600);color:#d4af37;border:3px solid #3d2817;border-radius:50%;font-size:1.3em;cursor:pointer;transition:all .3s ease;flex-shrink:0;width:42px;height:42px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px #0000004d;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.delete-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:rotate(90deg) scale(1.1);box-shadow:0 6px 12px #0006,0 0 20px #8b000099}.magic-stars[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;pointer-events:none;z-index:100}.global-magic-stars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:998}.global-magic-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{position:fixed;font-size:3rem;opacity:0;animation:_ngcontent-%COMP%_magicSparkle 3s ease-in-out forwards;filter:drop-shadow(0 0 8px rgba(212,175,55,.8)) drop-shadow(0 0 15px rgba(212,175,55,.6))}.star[_ngcontent-%COMP%]{position:absolute;font-size:1.5rem;opacity:0;animation:_ngcontent-%COMP%_magicSparkle 3s ease-in-out forwards;filter:drop-shadow(0 0 3px rgba(212,175,55,.6))}.star-1[_ngcontent-%COMP%]{animation-delay:0s}.star-2[_ngcontent-%COMP%]{animation-delay:.2s}.star-3[_ngcontent-%COMP%]{animation-delay:.1s}.star-4[_ngcontent-%COMP%]{animation-delay:.3s}.star-5[_ngcontent-%COMP%]{animation-delay:.16s}.star-6[_ngcontent-%COMP%]{animation-delay:.24s}.star-7[_ngcontent-%COMP%]{animation-delay:.36s}.star-8[_ngcontent-%COMP%]{animation-delay:.12s}@keyframes _ngcontent-%COMP%_magicSparkle{0%{opacity:0;transform:translate(-50%,-50%) scale(1)}5%{opacity:.4;transform:translate(-50%,-50%) scale(.6)}10%{opacity:.8;transform:translate(-50%,-50%) scale(1.1)}20%{opacity:.6;transform:translate(-50%,-50%) scale(1.3)}30%{opacity:.2;transform:translate(-50%,-50%) scale(1.1)}40%{opacity:0;transform:translate(-50%,-50%) scale(.9)}50%{opacity:.3;transform:translate(-50%,-50%) scale(.8)}60%{opacity:.6;transform:translate(-50%,-50%) scale(.7)}70%{opacity:.9;transform:translate(-50%,-50%) scale(.6)}80%{opacity:.6;transform:translate(-50%,-50%) scale(.5)}90%{opacity:.4;transform:translate(-50%,-50%) scale(.4)}95%{opacity:.2;transform:translate(-50%,-50%) scale(.2)}to{opacity:0;transform:translate(-50%,-50%) scale(.1)}}.blue-tornado-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:999;background:radial-gradient(circle,rgba(0,100,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_tornadoGlow 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_tornadoGlow{0%,to{background:radial-gradient(circle,rgba(0,100,255,.05) 0%,transparent 70%)}50%{background:radial-gradient(circle,rgba(0,100,255,.2) 0%,transparent 70%)}}.tornado-container[_ngcontent-%COMP%]{position:relative;width:400px;height:400px;animation:_ngcontent-%COMP%_tornadoSpin 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_tornadoSpin{0%{transform:scale(0) rotate(0);opacity:0}10%{opacity:1}50%{transform:scale(1.2) rotate(720deg);opacity:1}90%{opacity:.8}to{transform:scale(.3) rotate(1440deg);opacity:0}}.tornado-spiral[_ngcontent-%COMP%]{position:absolute;font-size:4rem;color:#06f;filter:drop-shadow(0 0 10px rgba(0,100,255,.8)) drop-shadow(0 0 20px rgba(0,150,255,.6)) drop-shadow(0 0 30px rgba(0,200,255,.4));animation:_ngcontent-%COMP%_spiralRotate 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_spiralRotate{0%{transform:translate(-50%,-50%) rotate(0) scale(.5);opacity:0}10%{opacity:1}50%{opacity:1}90%{opacity:.6}to{transform:translate(-50%,-50%) rotate(1080deg) scale(1.5);opacity:0}}.tornado-spiral-1[_ngcontent-%COMP%]{top:50%;left:50%;animation-delay:0s}.tornado-spiral-2[_ngcontent-%COMP%]{top:30%;left:50%;animation-delay:.2s;font-size:3.5rem}.tornado-spiral-3[_ngcontent-%COMP%]{top:70%;left:50%;animation-delay:.4s;font-size:3rem}.tornado-spiral-4[_ngcontent-%COMP%]{top:50%;left:30%;animation-delay:.3s;font-size:3.2rem}.tornado-spiral-5[_ngcontent-%COMP%]{top:50%;left:70%;animation-delay:.5s;font-size:3.8rem}.tornado-magic[_ngcontent-%COMP%]{position:absolute;font-size:2rem;color:#0cf;filter:drop-shadow(0 0 8px rgba(0,200,255,.9));animation:_ngcontent-%COMP%_magicOrbit 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_magicOrbit{0%{transform:translate(-50%,-50%) rotate(0) translate(0) scale(0);opacity:0}10%{opacity:1}50%{transform:translate(-50%,-50%) rotate(720deg) translate(150px) scale(1.2);opacity:1}90%{opacity:.5}to{transform:translate(-50%,-50%) rotate(1440deg) translate(200px) scale(.5);opacity:0}}.tornado-magic[_ngcontent-%COMP%]{top:50%;left:50%;animation-delay:.1s}.tornado-magic-2[_ngcontent-%COMP%]{animation-delay:.6s}.tornado-magic-3[_ngcontent-%COMP%]{animation-delay:1.2s}.tornado-lightning[_ngcontent-%COMP%]{position:absolute;font-size:2.5rem;color:#4dd0ff;filter:drop-shadow(0 0 12px rgba(77,208,255,1));animation:_ngcontent-%COMP%_lightningFlash 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_lightningFlash{0%,to{opacity:0;transform:translate(-50%,-50%) scale(0)}5%,15%,25%,35%,45%{opacity:1;transform:translate(-50%,-50%) scale(1.3)}10%,20%,30%,40%,50%{opacity:.3;transform:translate(-50%,-50%) scale(.8)}55%{opacity:0;transform:translate(-50%,-50%) scale(0)}}.tornado-lightning[_ngcontent-%COMP%]{top:20%;left:50%;animation-delay:.5s}.tornado-lightning-2[_ngcontent-%COMP%]{top:80%;left:50%;animation-delay:1s}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 30px;background:#f4e4c1;border:5px double #3d2817;box-shadow:6px 6px #0006;position:relative}.empty-state[_ngcontent-%COMP%]:before{content:"\\1f4dc";position:absolute;top:-25px;left:50%;transform:translate(-50%);font-size:3rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3))}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.5em;color:#654321;font-family:MedievalSharp,serif;text-shadow:1px 1px 2px rgba(139,69,19,.3)}.empty-subtitle[_ngcontent-%COMP%]{font-size:1em!important;color:#999;font-style:italic}.actions[_ngcontent-%COMP%]{text-align:center;margin-top:25px}.clear-button[_ngcontent-%COMP%]{padding:15px 35px;background:linear-gradient(135deg,#8b0000,#600);color:#d4af37;border:5px solid #d4af37;border-radius:8px;font-size:1.1em;font-weight:700;cursor:pointer;transition:all .3s ease;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;box-shadow:6px 6px #0006;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.clear-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#b30000,#8b0000);transform:translate(-3px,-3px) scale(1.05);box-shadow:8px 8px #0006,0 0 25px #8b0000b3;border-color:gold}.clear-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(3px,3px);box-shadow:3px 3px #0000004d}.clear-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#666,#444);border-color:#888;color:#999;cursor:not-allowed;opacity:.5}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(4px);animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#f4e4c1;border:8px solid transparent;border-image:linear-gradient(135deg,#b8941f,#dab02c,#cfa414,#edbf2b,#b8941f) 1;outline:4px solid #3D2817;outline-offset:-12px;box-shadow:0 0 0 3px #b8941f,0 20px 60px #0009,inset 0 0 50px #b8941f33;padding:40px 50px;max-width:500px;width:90%;position:relative;animation:_ngcontent-%COMP%_slideDown .4s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-8px;left:-8px;width:50px;height:50px;background:linear-gradient(135deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(45deg,#c9a227,#b8941f);border-radius:0 0 15px;box-shadow:inset 2px 2px 4px #c9a22780,3px 3px 8px #0006;z-index:10}.modal-content[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;right:-8px;width:50px;height:50px;background:linear-gradient(-45deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(135deg,#ffd44b,#b8941f);border-radius:15px 0 0;box-shadow:inset -2px -2px 4px #c9a22780,-3px -3px 8px #0006;z-index:10}.modal-header[_ngcontent-%COMP%]{text-align:center;margin-top:15px;margin-bottom:25px;padding-bottom:20px;border-bottom:3px double #3d2817;position:relative;display:flex}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5em;font-weight:600;color:#8b0000;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 0 #d4af37,3px 3px 6px rgba(0,0,0,.3)}.modal-body[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0;font-size:1.15em;color:#3d2817;font-family:MedievalSharp,serif;line-height:1.6}.modal-warning[_ngcontent-%COMP%]{font-weight:700;color:#8b0000!important;font-size:1em!important;font-style:italic;text-shadow:1px 1px 2px rgba(212,175,55,.4)}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;flex-wrap:wrap}.modal-cancel-button[_ngcontent-%COMP%], .modal-confirm-button[_ngcontent-%COMP%]{padding:14px 32px;border-radius:6px;font-size:1.05em;font-weight:700;cursor:pointer;transition:all .3s ease;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:1px;border:4px solid #3d2817;box-shadow:4px 4px #0000004d;min-width:140px}.modal-cancel-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#888,#666);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.6)}.modal-cancel-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#999,#777);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059,0 0 15px #64646480}.modal-confirm-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b0000,#600);color:#d4af37;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.modal-confirm-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:translate(-2px,-2px);box-shadow:6px 6px #0006,0 0 20px #8b000099}.modal-cancel-button[_ngcontent-%COMP%]:active, .modal-confirm-button[_ngcontent-%COMP%]:active{transform:translate(2px,2px);box-shadow:2px 2px #0003}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-image:linear-gradient(135deg,#ffb347,#ff8c42,#f4a460,#ffa07a,#ffb347) 1;outline-color:#2d1f12;box-shadow:0 0 0 2px #ff8c42,6px 6px #0009,inset 0 0 40px #ff8c4233,0 0 30px #ff8c424d}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(45deg,#ffa07a,#ff8c42);box-shadow:inset 2px 2px 4px #ff8c4280,2px 2px 6px #0000004d,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]:after{background:linear-gradient(-45deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:inset -2px -2px 4px #ff8c4280,-2px -2px 6px #0000004d,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#edd39e;text-shadow:2px 2px 0px rgba(255,140,66,.6),3px 3px 6px rgba(0,0,0,.5),0 0 20px rgba(255,140,66,.5)}.dark-mode[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#d4a574;text-shadow:2px 2px 0px rgba(255,140,66,.4),0 0 10px rgba(255,140,66,.3)}.dark-mode[_ngcontent-%COMP%]   .add-item-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .add-item-section[_ngcontent-%COMP%]:before{background:#c50;border-color:#2d1f12;box-shadow:0 4px 8px #0009,0 0 15px #ff8c424d}.dark-mode[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{background:#2d1f12;border-color:#1f1409;color:#edd39e;box-shadow:inset 0 2px 6px #0006}.dark-mode[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]:focus{border-color:#ffb347;box-shadow:inset 0 2px 6px #0006,0 0 0 4px #ffb3474d,0 0 15px #ff8c424d}.dark-mode[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]::placeholder{color:#d4a574;opacity:.6}.dark-mode[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#2d1f12;box-shadow:4px 4px #00000080,inset 0 0 20px #0000004d,0 0 15px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#df5a27,#c50);box-shadow:6px 6px #0000008c,inset 0 0 30px #0003,0 0 25px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#4a3326,#3d2817);color:#d4a574}.dark-mode[_ngcontent-%COMP%]   .shopping-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a3326,#3d2817);border-color:#2d1f12;border-left-color:#ff8c42;box-shadow:4px 4px #0006,0 0 10px #ff8c4226}.dark-mode[_ngcontent-%COMP%]   .shopping-item[_ngcontent-%COMP%]:before{color:#ffb347;text-shadow:2px 2px 4px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.5)}.dark-mode[_ngcontent-%COMP%]   .shopping-item[_ngcontent-%COMP%]:hover{box-shadow:6px 6px #00000073,0 0 15px #ff8c4240}.dark-mode[_ngcontent-%COMP%]   .shopping-item.checked[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f12,#3d2817)}.dark-mode[_ngcontent-%COMP%]   .shopping-item.checked[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#8b7355}.dark-mode[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background:#2d1f12;border-color:#1f1409;box-shadow:inset 0 2px 4px #0006}.dark-mode[_ngcontent-%COMP%]   .shopping-item.checked[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background:#ffb347;border-color:#ff8c42;box-shadow:inset 0 2px 4px #0000004d,0 0 10px #ff8c4280}.dark-mode[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#edd39e;text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 8px rgba(255,140,66,.2)}.dark-mode[_ngcontent-%COMP%]   .item-user[_ngcontent-%COMP%]{color:#d4a574}.dark-mode[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#2d1f12;box-shadow:0 4px 8px #00000080,0 0 10px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#df5a27,#c50);box-shadow:0 6px 12px #0009,0 0 20px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#edd39e;text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 8px rgba(255,140,66,.2)}.dark-mode[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{color:#d4a574!important;opacity:.6}.dark-mode[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#ffb347;box-shadow:6px 6px #0009,inset 0 0 20px #0000004d,0 0 15px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#df5a27,#c50);border-color:#ffa07a;box-shadow:8px 8px #0009,inset 0 0 30px #0003,0 0 25px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#4a3326,#3d2817);border-color:#8b7355;color:#8b7355}.dark-mode[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{background:#000000d9}.dark-mode[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-image:linear-gradient(135deg,#ffb347,#ff8c42,#f4a460,#ffa07a,#ffb347) 1;outline-color:#2d1f12;box-shadow:0 0 0 3px #ff8c42,0 20px 60px #000c,inset 0 0 50px #ff8c4226,0 0 30px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(45deg,#ffa07a,#ff8c42);box-shadow:inset 2px 2px 4px #ff8c4280,3px 3px 8px #0009,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]:after{background:linear-gradient(-45deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:inset -2px -2px 4px #ff8c4280,-3px -3px 8px #0009,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#df5a27;text-shadow:2px 1px 0px #ffb347,3px 3px 6px rgba(0,0,0,.5),0 0 15px rgba(255,140,66,.4)}.dark-mode[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#edd39e}.dark-mode[_ngcontent-%COMP%]   .modal-warning[_ngcontent-%COMP%]{color:#ff8c42!important;text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.4)}.dark-mode[_ngcontent-%COMP%]   .modal-cancel-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5a4a1a,#3d3010);color:#edd39e;border-color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .modal-cancel-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6a5a2a,#4d4020);box-shadow:6px 6px #00000080,0 0 15px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .modal-confirm-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .modal-confirm-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#df5a27,#c50);box-shadow:6px 6px #0009,0 0 20px #ff8c4266}@media (max-width: 600px){.shopping-list-container[_ngcontent-%COMP%]{padding:15px}.shopping-header[_ngcontent-%COMP%]{padding:25px 20px}.shopping-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em}.input-group[_ngcontent-%COMP%]{flex-direction:column}.item-input[_ngcontent-%COMP%]{width:100%}.shopping-item[_ngcontent-%COMP%]{padding:12px 15px}.item-name[_ngcontent-%COMP%]{font-size:1em}.delete-button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1.1em}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.clear-button[_ngcontent-%COMP%]{padding:12px 25px;font-size:1em}.modal-content[_ngcontent-%COMP%]{padding:30px 25px}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.modal-cancel-button[_ngcontent-%COMP%], .modal-confirm-button[_ngcontent-%COMP%]{width:100%}}'],data:{animation:[zu("itemAnimation",[ea(":enter",[Js({opacity:0,transform:"translateX(-20px)"}),Xs("300ms ease-out",Js({opacity:1,transform:"translateX(0)"}))]),ea("* => *",[Xs("500ms ease-in-out")])])]}})};var yy=()=>{};var Gu={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(e,t){if(!e)throw fn(t)},fn=function(e){return new Error("Firebase Database ("+Gu.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var Cy=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},XS=function(e){let t=[],n=0,r=0;for(;n<e.length;){let o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){let i=e[n++];t[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){let i=e[n++],s=e[n++],a=e[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{let i=e[n++],s=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return t.join("")},oa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){let i=e[o],s=o+1<e.length,a=s?e[o+1]:0,l=o+2<e.length,c=l?e[o+2]:0,u=i>>2,d=(i&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;l||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):XS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){let i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;let c=o<e.length?n[e.charAt(o)]:64;++o;let d=o<e.length?n[e.charAt(o)]:64;if(++o,i==null||a==null||c==null||d==null)throw new Wu;let f=i<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Wu=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qu=function(e){let t=Cy(e);return oa.encodeByteArray(t,!0)},bo=function(e){return qu(e).replace(/\./g,"")},na=function(e){try{return oa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ey(e){return wy(void 0,e)}function wy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!JS(n)||(e[n]=wy(e[n],t[n]));return e}function JS(e){return e!=="__proto__"}function eT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tT=()=>eT().__FIREBASE_DEFAULTS__,nT=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rT=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&na(e[1]);return t&&JSON.parse(t)},Dy=()=>{try{return yy()||tT()||nT()||rT()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},oT=e=>Dy()?.emulatorHosts?.[e],xy=e=>{let t=oT(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Yu=()=>Dy()?.config;var jt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function ia(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Iy(e){return $(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function My(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=S({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[bo(JSON.stringify(n)),bo(JSON.stringify(s)),""].join(".")}var vo={};function iT(){let e={prod:[],emulator:[]};for(let t of Object.keys(vo))vo[t]?e.emulator.push(t):e.prod.push(t);return e}function sT(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var vy=!1;function Sy(e,t){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||vo[e]===t||vo[e]||vy)return;vo[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",i=iT().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{vy=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=sT(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),v=n("learnmore"),M=document.getElementById(v)||document.createElement("a"),Z=n("preprendIcon"),je=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let Be=f.element;a(Be),u(M,v);let Dr=c();l(je,Z),Be.append(je,p,M,Dr),document.body.appendChild(Be)}i?(p.innerText="Preview backend disconnected.",je.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(je.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function aT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(aT())}function Ty(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ct(){return Gu.NODE_CLIENT===!0||Gu.NODE_ADMIN===!0}function Oy(){try{return typeof indexedDB=="object"}catch{return!1}}function Ny(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}var lT="FirebaseError",dn=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=lT,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}},Co=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},o=`${this.service}/${t}`,i=this.errors[t],s=i?cT(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new dn(o,a,r)}};function cT(e,t){return e.replace(uT,(n,r)=>{let o=t[r];return o!=null?String(o):`<${r}?>`})}var uT=/\{\$([^}]+)}/g;function ir(e){return JSON.parse(e)}function ae(e){return JSON.stringify(e)}var Py=function(e){let t={},n={},r={},o="";try{let i=e.split(".");t=ir(na(i[0])||""),n=ir(na(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:o}};var Ay=function(e){let t=Py(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ry=function(e){let t=Py(e).claims;return typeof t=="object"&&t.admin===!0};function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hn(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Ku(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Eo(e,t,n){let r={};for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function sr(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let o of n){if(!r.includes(o))return!1;let i=e[o],s=t[o];if(by(i)&&by(s)){if(!sr(i,s))return!1}else if(i!==s)return!1}for(let o of r)if(!n.includes(o))return!1;return!0}function by(e){return e!==null&&typeof e=="object"}function ky(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var ra=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let o=this.chain_[0],i=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(s^a),u=1518500249):(c=i^s^a,u=1859775393):d<60?(c=i&s|a&(i|s),u=2400959708):(c=i^s^a,u=3395469782);let f=(o<<5|o>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=(i<<30|i>>>2)&4294967295,i=o,o=f}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,o=0,i=this.buf_,s=this.inbuf_;for(;o<n;){if(s===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<n;)if(i[s]=t.charCodeAt(o),++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}else for(;o<n;)if(i[s]=t[o],++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let i=24;i>=0;i-=8)t[r]=this.chain_[o]>>i&255,++r;return t}};function sa(e,t){return`${e} failed: ${t} argument `}var Fy=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){let i=o-55296;r++,y(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;o=65536+(i<<10)+s}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},wo=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var HV=4*60*60*1e3;function ar(e){return e&&e._delegate?e._delegate:e}var wt=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var pn="[DEFAULT]";var aa=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new jt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){let n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fT(t))try{this.getOrInitializeService({instanceIdentifier:pn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(n);try{let i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(t=pn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return $(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=pn){return this.instances.has(t)}getOptions(t=pn){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[i,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(t,n){let r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);let i=this.instances.get(r);return i&&t(i,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dT(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=pn){return this.component?this.component.multipleInstances?t:pn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dT(e){return e===pn?void 0:e}function fT(e){return e.instantiationMode==="EAGER"}var Do=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new aa(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var hT=[],q=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(q||{}),pT={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},gT=q.INFO,mT={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},_T=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),o=mT[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},lr=class{constructor(t){this.name=t,this._logLevel=gT,this._logHandler=_T,this._userLogHandler=null,hT.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in q))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...t),this._logHandler(this,q.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...t),this._logHandler(this,q.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,q.INFO,...t),this._logHandler(this,q.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,q.WARN,...t),this._logHandler(this,q.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...t),this._logHandler(this,q.ERROR,...t)}};var yT=(e,t)=>t.some(n=>e instanceof n),Ly,Vy;function vT(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bT(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jy=new WeakMap,Xu=new WeakMap,By=new WeakMap,Qu=new WeakMap,ed=new WeakMap;function CT(e){let t=new Promise((n,r)=>{let o=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{n(dt(e.result)),o()},s=()=>{r(e.error),o()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&jy.set(n,e)}).catch(()=>{}),ed.set(t,e),t}function ET(e){if(Xu.has(e))return;let t=new Promise((n,r)=>{let o=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Xu.set(e,t)}var Ju={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Xu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||By.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Uy(e){Ju=e(Ju)}function wT(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(la(this),t,...n);return By.set(r,t.sort?t.sort():[t]),dt(r)}:bT().includes(e)?function(...t){return e.apply(la(this),t),dt(jy.get(this))}:function(...t){return dt(e.apply(la(this),t))}}function DT(e){return typeof e=="function"?wT(e):(e instanceof IDBTransaction&&ET(e),yT(e,vT())?new Proxy(e,Ju):e)}function dt(e){if(e instanceof IDBRequest)return CT(e);if(Qu.has(e))return Qu.get(e);let t=DT(e);return t!==e&&(Qu.set(e,t),ed.set(t,e)),t}var la=e=>ed.get(e);function $y(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){let s=indexedDB.open(e,t),a=dt(s);return r&&s.addEventListener("upgradeneeded",l=>{r(dt(s.result),l.oldVersion,l.newVersion,dt(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var xT=["get","getKey","getAll","getAllKeys","count"],IT=["put","add","delete","clear"],td=new Map;function Hy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(td.get(t))return td.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,o=IT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||xT.includes(n)))return;let i=function(s,...a){return $(this,null,function*(){let l=this.transaction(s,o?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),o&&l.done]))[0]})};return td.set(t,i),i}Uy(e=>J(S({},e),{get:(t,n,r)=>Hy(t,n)||e.get(t,n,r),has:(t,n)=>!!Hy(t,n)||e.has(t,n)}));var rd=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MT(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function MT(e){return e.getComponent()?.type==="VERSION"}var od="@firebase/app",zy="0.14.6";var Dt=new lr("@firebase/app"),ST="@firebase/app-compat",TT="@firebase/analytics-compat",OT="@firebase/analytics",NT="@firebase/app-check-compat",PT="@firebase/app-check",AT="@firebase/auth",RT="@firebase/auth-compat",kT="@firebase/database",FT="@firebase/data-connect",LT="@firebase/database-compat",VT="@firebase/functions",jT="@firebase/functions-compat",BT="@firebase/installations",UT="@firebase/installations-compat",HT="@firebase/messaging",$T="@firebase/messaging-compat",zT="@firebase/performance",GT="@firebase/performance-compat",WT="@firebase/remote-config",qT="@firebase/remote-config-compat",YT="@firebase/storage",ZT="@firebase/storage-compat",KT="@firebase/firestore",QT="@firebase/ai",XT="@firebase/firestore-compat",JT="firebase",e1="12.6.0";var id="[DEFAULT]",t1={[od]:"fire-core",[ST]:"fire-core-compat",[OT]:"fire-analytics",[TT]:"fire-analytics-compat",[PT]:"fire-app-check",[NT]:"fire-app-check-compat",[AT]:"fire-auth",[RT]:"fire-auth-compat",[kT]:"fire-rtdb",[FT]:"fire-data-connect",[LT]:"fire-rtdb-compat",[VT]:"fire-fn",[jT]:"fire-fn-compat",[BT]:"fire-iid",[UT]:"fire-iid-compat",[HT]:"fire-fcm",[$T]:"fire-fcm-compat",[zT]:"fire-perf",[GT]:"fire-perf-compat",[WT]:"fire-rc",[qT]:"fire-rc-compat",[YT]:"fire-gcs",[ZT]:"fire-gcs-compat",[KT]:"fire-fst",[XT]:"fire-fst-compat",[QT]:"fire-vertex","fire-js":"fire-js",[JT]:"fire-js-all"};var ca=new Map,n1=new Map,sd=new Map;function Gy(e,t){try{e.container.addComponent(t)}catch(n){Dt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xo(e){let t=e.name;if(sd.has(t))return Dt.debug(`There were multiple attempts to register component ${t}.`),!1;sd.set(t,e);for(let n of ca.values())Gy(n,e);for(let n of n1.values())Gy(n,e);return!0}function Zy(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ky(e){return e==null?!1:e.settings!==void 0}var r1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bt=new Co("app","Firebase",r1);var ad=class{constructor(t,n,r){this._isDeleted=!1,this._options=S({},t),this._config=S({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}};var Qy=e1;function ud(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=S({name:id,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw Bt.create("bad-app-name",{appName:String(o)});if(n||(n=Yu()),!n)throw Bt.create("no-options");let i=ca.get(o);if(i){if(sr(n,i.options)&&sr(r,i.config))return i;throw Bt.create("duplicate-app",{appName:o})}let s=new Do(o);for(let l of sd.values())s.addComponent(l);let a=new ad(n,r,s);return ca.set(o,a),a}function Xy(e=id){let t=ca.get(e);if(!t&&e===id&&Yu())return ud();if(!t)throw Bt.create("no-app",{appName:e});return t}function Ut(e,t,n){let r=t1[e]??e;n&&(r+=`-${n}`);let o=r.match(/\s|\//),i=t.match(/\s|\//);if(o||i){let s=[`Unable to register library "${r}" with version "${t}":`];o&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&s.push("and"),i&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dt.warn(s.join(" "));return}xo(new wt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var o1="firebase-heartbeat-database",i1=1,Io="firebase-heartbeat-store",nd=null;function Jy(){return nd||(nd=$y(o1,i1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Io)}catch(n){console.warn(n)}}}}).catch(e=>{throw Bt.create("idb-open",{originalErrorMessage:e.message})})),nd}function s1(e){return $(this,null,function*(){try{let n=(yield Jy()).transaction(Io),r=yield n.objectStore(Io).get(ev(e));return yield n.done,r}catch(t){if(t instanceof dn)Dt.warn(t.message);else{let n=Bt.create("idb-get",{originalErrorMessage:t?.message});Dt.warn(n.message)}}})}function Wy(e,t){return $(this,null,function*(){try{let r=(yield Jy()).transaction(Io,"readwrite");yield r.objectStore(Io).put(t,ev(e)),yield r.done}catch(n){if(n instanceof dn)Dt.warn(n.message);else{let r=Bt.create("idb-set",{originalErrorMessage:n?.message});Dt.warn(r.message)}}})}function ev(e){return`${e.name}!${e.options.appId}`}var a1=1024,l1=30,ld=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new cd(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return $(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>l1){let o=u1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Dt.warn(t)}})}getHeartbeatsHeader(){return $(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=qy(),{heartbeatsToSend:n,unsentEntries:r}=c1(this._heartbeatsCache.heartbeats),o=bo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Dt.warn(t),""}})}};function qy(){return new Date().toISOString().substring(0,10)}function c1(e,t=a1){let n=[],r=e.slice();for(let o of e){let i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),Yy(n)>t){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var cd=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return $(this,null,function*(){return Oy()?Ny().then(()=>!0).catch(()=>!1):!1})}read(){return $(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield s1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return $(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Wy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return $(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Wy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function Yy(e){return bo(JSON.stringify({version:2,heartbeats:e})).length}function u1(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function d1(e){xo(new wt("platform-logger",t=>new rd(t),"PRIVATE")),xo(new wt("heartbeat",t=>new ld(t),"PRIVATE")),Ut(od,zy,e),Ut(od,zy,"esm2020"),Ut("fire-js","")}d1("");var f1="firebase",h1="12.7.0";Ut(f1,h1,"app");var tv="@firebase/database",nv="1.1.0";var mf="";function p1(e){mf=e}var yd=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ae(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ir(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var vd=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ut(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var kv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yd(t)}}catch{}return new vd},mn=kv("localStorage"),bd=kv("sessionStorage");var dr=new lr("@firebase/database"),g1=function(){let e=1;return function(){return e++}}(),Fv=function(e){let t=Fy(e),n=new ra;n.update(t);let r=n.digest();return oa.encodeByteArray(r)},Ho=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ho.apply(null,r):typeof r=="object"?t+=ae(r):t+=r,t+=" "}return t},yn=null,rv=!0,m1=function(e,t){y(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(dr.logLevel=q.VERBOSE,yn=dr.log.bind(dr),t&&bd.set("logging_enabled",!0)):typeof e=="function"?yn=e:(yn=null,bd.remove("logging_enabled"))},pe=function(...e){if(rv===!0&&(rv=!1,yn===null&&bd.get("logging_enabled")===!0&&m1(!0)),yn){let t=Ho.apply(null,e);yn(t)}},$o=function(e){return function(...t){pe(e,...t)}},Cd=function(...e){let t="FIREBASE INTERNAL ERROR: "+Ho(...e);dr.error(t)},xt=function(...e){let t=`FIREBASE FATAL ERROR: ${Ho(...e)}`;throw dr.error(t),new Error(t)},ve=function(...e){let t="FIREBASE WARNING: "+Ho(...e);dr.warn(t)},_1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},y1=function(e){if(ct()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pr="[MIN_NAME]",vn="[MAX_NAME]",Cr=function(e,t){if(e===t)return 0;if(e===pr||t===vn)return-1;if(t===pr||e===vn)return 1;{let n=ov(e),r=ov(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},v1=function(e,t){return e===t?0:e<t?-1:1},Mo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ae(t))},_f=function(e){if(typeof e!="object"||e===null)return ae(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ae(t[r]),n+=":",n+=_f(e[t[r]]);return n+="}",n},Vv=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function be(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var jv=function(e){y(!Lv(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,o,i,s,a,l;e===0?(i=0,s=0,o=1/e===-1/0?1:0):(o=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),i=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,s=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(o?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},b1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function E1(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var w1=new RegExp("^-?(0*)\\d{1,10}$"),D1=-2147483648,x1=2147483647,ov=function(e){if(w1.test(e)){let t=Number(e);if(t>=D1&&t<=x1)return t}return null},Er=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw ve("Exception was thrown by user callback.",n),t},Math.floor(0))}},I1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Po=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Ed=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Ky(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){ve(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var wd=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ve(t)}},Ao=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),da="5",Bv="v",Uv="s",Hv="r",$v="f",zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gv="ls",Wv="p",Dd="ac",qv="websocket",Yv="long_polling";var fa=class{constructor(t,n,r,o,i=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&mn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function M1(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Zv(e,t,n){y(typeof t=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(t===qv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Yv)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);M1(e)&&(n.ns=e.namespace);let o=[];return be(n,(i,s)=>{o.push(i+"="+s)}),r+o.join("&")}var xd=class{constructor(){this.counters_={}}incrementCounter(t,n=1){ut(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Ey(this.counters_)}};var dd={},fd={};function yf(e){let t=e.toString();return dd[t]||(dd[t]=new xd),dd[t]}function S1(e,t){let n=e.toString();return fd[n]||(fd[n]=t()),fd[n]}var Id=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Er(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var iv="start",T1="close",O1="pLPCommand",N1="pRTLPCB",Kv="id",Qv="pw",Xv="ser",P1="cb",A1="seg",R1="ts",k1="d",F1="dframe",Jv=1870,e0=30,L1=Jv-e0,V1=25e3,j1=3e4,Md=class e{constructor(t,n,r,o,i,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$o(t),this.stats_=yf(n),this.urlFn=l=>(this.appCheckToken&&(l[Dd]=this.appCheckToken),Zv(n,Yv,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Id(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(j1)),y1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sd((...i)=>{let[s,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===iv)this.id=a,this.password=l;else if(s===T1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...i)=>{let[s,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[iv]="t",r[Xv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[P1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Bv]=da,this.transportSessionId&&(r[Uv]=this.transportSessionId),this.lastSessionId&&(r[Gv]=this.lastSessionId),this.applicationId&&(r[Wv]=this.applicationId),this.appCheckToken&&(r[Dd]=this.appCheckToken),typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(r[Hv]=$v);let o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return ct()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!b1()&&!C1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ae(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=qu(n),o=Vv(r,L1);for(let i=0;i<o.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[i]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(ct())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[F1]="t",r[Kv]=t,r[Qv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ae(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Sd=class e{constructor(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ct())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g1(),window[O1+this.uniqueCallbackIdentifier]=t,window[N1+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){pe("frame writing exception"),a.stack&&pe(a.stack),pe(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||pe("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[Kv]=this.myID,t[Qv]=this.myPW,t[Xv]=this.currentSerial;let n=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+e0+r.length<=Jv;){let s=this.pendingSegs.shift();r=r+"&"+A1+o+"="+s.seg+"&"+R1+o+"="+s.ts+"&"+k1+o+"="+s.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(V1)),i=()=>{clearTimeout(o),r()};this.addTag(t,i)}addTag(t,n){ct()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{pe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var B1=16384,U1=45e3,ha=null;typeof MozWebSocket<"u"?ha=MozWebSocket:typeof WebSocket<"u"&&(ha=WebSocket);var So=(()=>{class e{constructor(n,r,o,i,s,a,l){this.connId=n,this.applicationId=o,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$o(this.connId),this.stats_=yf(r),this.connURL=e.connectionURL_(r,a,l,i,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,o,i,s){let a={};return a[Bv]=da,!ct()&&typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(a[Hv]=$v),r&&(a[Uv]=r),o&&(a[Gv]=o),i&&(a[Dd]=i),s&&(a[Wv]=s),Zv(n,qv,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mn.set("previous_websocket_failure",!0);try{let o;if(ct()){let i=this.nodeAdmin?"AdminNode":"Node";o={headers:{"User-Agent":`Firebase/${da}/${mf}/${process.platform}/${i}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a})}this.mySock=new ha(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");let i=o.message||o.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");let i=o.message||o.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(n=!0)}return!n&&ha!==null&&!e.forceDisallow_}static previouslyFailed(){return mn.isInMemoryStorage||mn.get("previous_websocket_failure")===!0}markConnectionHealthy(){mn.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let o=ir(r);this.onMessage(o)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(n){this.resetKeepAlive();let r=ae(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let o=Vv(r,B1);o.length>1&&this.sendString_(String(o.length));for(let i=0;i<o.length;i++)this.sendString_(o[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(U1))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),H1=(()=>{class e{static get ALL_TRANSPORTS(){return[Md,So]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=So&&So.isAvailable(),o=r&&!So.previouslyFailed();if(n.webSocketOnly&&(r||ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[So];else{let i=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),$1=6e4,z1=5e3,G1=10*1024,W1=100*1024,hd="t",sv="d",q1="s",av="r",Y1="e",lv="o",cv="a",uv="n",dv="p",Z1="h",Td=class{constructor(t,n,r,o,i,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$o("c:"+this.id+":"),this.transportManager_=new H1(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Po(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>W1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>G1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(hd in t){let n=t[hd];n===cv?this.upgradeIfSecondaryHealthy_():n===av?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===lv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Mo("t",t),r=Mo("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:uv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Mo("t",t),r=Mo("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Mo(hd,t);if(sv in t){let r=t[sv];if(n===Z1){let o=S({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===uv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===q1?this.onConnectionShutdown_(r):n===av?this.onReset_(r):n===Y1?Cd("Server Error: "+r):n===lv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cd("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),da!==r&&ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Po(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Po(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(z1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dv,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var pa=class{put(t,n,r,o){}merge(t,n,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var ga=class{constructor(t){this.allowedEvents_=t,this.listeners_={},y(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let o=this.getInitialEvent(t);o&&n.apply(r,o)}off(t,n,r){this.validateEventType_(t);let o=this.listeners_[t]||[];for(let i=0;i<o.length;i++)if(o[i].callback===n&&(!r||r===o[i].context)){o.splice(i,1);return}}validateEventType_(t){y(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var ma=class e extends ga{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return y(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var fv=32,hv=768,H=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function j(){return new H("")}function N(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $t(e){return e.pieces_.length-e.pieceNum_}function Y(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new H(e.pieces_,t)}function t0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function K1(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function n0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function r0(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new H(t,0)}function le(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof H)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new H(n,0)}function R(e){return e.pieceNum_>=e.pieces_.length}function ye(e,t){let n=N(e),r=N(t);if(n===null)return t;if(n===r)return ye(Y(e),Y(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function vf(e,t){if($t(e)!==$t(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ze(e,t){let n=e.pieceNum_,r=t.pieceNum_;if($t(e)>$t(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Od=class{constructor(t,n){this.errorPrefix_=n,this.parts_=n0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wo(this.parts_[r]);o0(this)}};function Q1(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=wo(t),o0(e)}function X1(e){let t=e.parts_.pop();e.byteLength_-=wo(t),e.parts_.length>0&&(e.byteLength_-=1)}function o0(e){if(e.byteLength_>hv)throw new Error(e.errorPrefix_+"has a key path longer than "+hv+" bytes ("+e.byteLength_+").");if(e.parts_.length>fv)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fv+") or object contains a cycle "+gn(e))}function gn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Nd=class e extends ga{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return y(t==="visible","Unknown event type: "+t),[this.visible_]}};var To=1e3,J1=60*5*1e3,pv=30*1e3,eO=1.3,tO=3e4,nO="server_kill",gv=3,bf=(()=>{class e extends pa{constructor(n,r,o,i,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=$o("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=To,this.maxReconnectDelay_=J1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!ct())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ma.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,o){let i=++this.requestNumber_,s={r:i,a:n,b:r};this.log_(ae(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),o&&(this.requestCBHash_[i]=o)}get(n){this.initConnection_();let r=new jt,i={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,o,i){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:i,hashFn:r,query:n,tag:o};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(n){let r=n.query,o=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+o+" for "+i);let s={p:o},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(o)&&this.listens.get(o).get(i))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(o,i),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ut(n,"w")){let o=hn(n,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){let i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Ry(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Ay(n)?"auth":"gauth",o={cred:n};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,i=>{let s=i.s,a=i.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,o=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(n,r){let o=n._path.toString(),i=n._queryIdentifier;this.log_("Unlisten called for "+o+" "+i),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,i)&&this.connected_&&this.sendUnlisten_(o,i,n._queryObject,r)}sendUnlisten_(n,r,o,i){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";i&&(s.q=o,s.t=i),this.sendRequest(a,s)}onDisconnectPut(n,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:o})}onDisconnectMerge(n,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:o})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,o,i){let s={p:r,d:o};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(n,r,o,i){this.putInternal("p",n,r,o,i)}merge(n,r,o,i){this.putInternal("m",n,r,o,i)}putInternal(n,r,o,i,s){this.initConnection_();let a={p:r,d:o};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:i}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,i=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,o,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){let s=o.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ae(n));let r=n.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Cd("Unrecognized action received from server: "+ae(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tO&&(this.reconnectDelay_=To),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eO)}this.onConnectStatus_(!1)}establishConnection_(){return $(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,o())},u=function(f){y(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?pe("getToken() completed but was canceled"):(pe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new Td(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,o,p=>{ve(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(nO)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ve(f),c())}}})}interrupt(n){pe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){pe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ku(this.interruptReasons_)&&(this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let o;r?o=r.map(s=>_f(s)).join("$"):o="default";let i=this.removeListen_(n,o);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(n,r){let o=new H(n).toString(),i;if(this.listens.has(o)){let s=this.listens.get(o);i=s.get(r),s.delete(r),s.size===0&&this.listens.delete(o)}else i=void 0;return i}onAuthRevoked_(n,r){pe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gv&&(this.reconnectDelay_=pv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){pe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";ct()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+mf.replace(/\./g,"-")]=1,Zu()?n["framework.cordova"]=1:Ty()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ma.getInstance().currentlyOnline();return Ku(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),P=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var gr=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new P(pr,t),o=new P(pr,n);return this.compare(r,o)!==0}minPost(){return P.MIN}};var ua,_a=class extends gr{static get __EMPTY_NODE(){return ua}static set __EMPTY_NODE(t){ua=t}compare(t,n){return Cr(t.name,n.name)}isDefinedOn(t){throw fn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return P.MIN}maxPost(){return new P(vn,ua)}makePost(t,n){return y(typeof t=="string","KeyIndex indexValue must always be a string."),new P(t,ua)}toString(){return".key"}},fr=new _a;var ur=class{constructor(t,n,r,o,i=null){this.isReverse_=o,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,o&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Ye=(()=>{class e{constructor(n,r,o,i,s){this.key=n,this.value=r,this.color=o??e.RED,this.left=i??Ve.EMPTY_NODE,this.right=s??Ve.EMPTY_NODE}copy(n,r,o,i,s){return new e(n??this.key,r??this.value,o??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,o){let i=this,s=o(n,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(n,r,o),null):s===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(n,r,o)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ve.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let o,i;if(o=this,r(n,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(n,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(n,o.key)===0){if(o.right.isEmpty())return Ve.EMPTY_NODE;i=o.right.min_(),o=o.copy(i.key,i.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(n,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Pd=class{copy(t,n,r,o,i){return this}insert(t,n,r){return new Ye(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ve=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ye.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ye.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ur(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ur(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ur(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ur(this.root_,null,this.comparator_,!0,t)}};Ve.EMPTY_NODE=new Pd;function rO(e,t){return Cr(e.name,t.name)}function Cf(e,t){return Cr(e,t)}var Ad;function oO(e){Ad=e}var i0=function(e){return typeof e=="number"?"number:"+jv(e):"string:"+e},s0=function(e){if(e.isLeafNode()){let t=e.val();y(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ut(t,".sv"),"Priority must be a string or number.")}else y(e===Ad||e.isEmpty(),"priority of unexpected type.");y(e===Ad||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var mv,mr=(()=>{class e{static set __childrenNodeConstructor(n){mv=n}static get __childrenNodeConstructor(){return mv}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),s0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return R(n)?this:N(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let o=N(n);return o===null?r:r.isEmpty()&&o!==".priority"?this:(y(o!==".priority"||$t(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Y(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+i0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=jv(this.value_):n+=this.value_,this.lazyHash_=Fv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,o=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(o);return y(i>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+o),i===s?o==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),a0,l0;function iO(e){a0=e}function sO(e){l0=e}var Rd=class extends gr{compare(t,n){let r=t.node.getPriority(),o=n.node.getPriority(),i=r.compareTo(o);return i===0?Cr(t.name,n.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return P.MIN}maxPost(){return new P(vn,new mr("[PRIORITY-POST]",l0))}makePost(t,n){let r=a0(t);return new P(n,new mr("[PRIORITY-POST]",r))}toString(){return".priority"}},ne=new Rd;var aO=Math.log(2),kd=class{constructor(t){let n=i=>parseInt(Math.log(i)/aO,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},ya=function(e,t,n,r){e.sort(t);let o=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new Ye(f,d.node,Ye.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=o(l,h),v=o(h+1,c);return d=e[h],f=n?n(d):d,new Ye(f,d.node,Ye.BLACK,p,v)}},i=function(l){let c=null,u=null,d=e.length,f=function(p,v){let M=d-p,Z=d;d-=p;let je=o(M+1,Z),Be=e[M],Dr=n?n(Be):Be;h(new Ye(Dr,Be.node,v,null,je))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let v=l.nextBitIsOne(),M=Math.pow(2,l.count-(p+1));v?f(M,Ye.BLACK):(f(M,Ye.BLACK),f(M,Ye.RED))}return u},s=new kd(e.length),a=i(s);return new Ve(r||t,a)};var pd,cr={},_r=class e{static get Default(){return y(cr&&ne,"ChildrenNode.ts has not been loaded"),pd=pd||new e({".priority":cr},{".priority":ne}),pd}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=hn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ve?n:null}hasIndex(t){return ut(this.indexSet_,t.toString())}addIndex(t,n){y(t!==fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],o=!1,i=n.getIterator(P.Wrap),s=i.getNext();for(;s;)o=o||t.isDefinedOn(s.node),r.push(s),s=i.getNext();let a;o?a=ya(r,t.getCompare()):a=cr;let l=t.toString(),c=S({},this.indexSet_);c[l]=t;let u=S({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=Eo(this.indexes_,(o,i)=>{let s=hn(this.indexSet_,i);if(y(s,"Missing index implementation for "+i),o===cr)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(P.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),ya(a,s.getCompare())}else return cr;else{let a=n.get(t.name),l=o;return a&&(l=l.remove(new P(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Eo(this.indexes_,o=>{if(o===cr)return o;{let i=n.get(t.name);return i?o.remove(new P(t.name,i)):o}});return new e(r,this.indexSet_)}};var Oo,T=(()=>{class e{static get EMPTY_NODE(){return Oo||(Oo=new e(new Ve(Cf),null,_r.Default))}constructor(n,r,o){this.children_=n,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&s0(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Oo}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Oo:r}}getChild(n){let r=N(n);return r===null?this:this.getImmediateChild(r).getChild(Y(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let o=new P(n,r),i,s;r.isEmpty()?(i=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(o,this.children_)):(i=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(o,this.children_));let a=i.isEmpty()?Oo:this.priorityNode_;return new e(i,a,s)}}updateChild(n,r){let o=N(n);if(o===null)return r;{y(N(n)!==".priority"||$t(n)===1,".priority must be the last token in a path");let i=this.getImmediateChild(o).updateChild(Y(n),r);return this.updateImmediateChild(o,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},o=0,i=0,s=!0;if(this.forEachChild(ne,(a,l)=>{r[a]=l.val(n),o++,s&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!n&&s&&i<2*o){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+i0(this.getPriority().val())+":"),this.forEachChild(ne,(r,o)=>{let i=o.hash();i!==""&&(n+=":"+r+":"+i)}),this.lazyHash_=n===""?"":Fv(n)}return this.lazyHash_}getPredecessorChildName(n,r,o){let i=this.resolveIndex_(o);if(i){let s=i.getPredecessorKey(new P(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new P(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new P(r,this.children_.get(r)):null}forEachChild(n,r){let o=this.resolveIndex_(n);return o?o.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(n,i=>i);{let i=this.children_.getIteratorFrom(n.name,P.Wrap),s=i.peek();for(;s!=null&&r.compare(s,n)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(n,i=>i);{let i=this.children_.getReverseIteratorFrom(n.name,P.Wrap),s=i.peek();for(;s!=null&&r.compare(s,n)>0;)i.getNext(),s=i.peek();return i}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===zo?-1:0}withIndex(n){if(n===fr||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===fr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let o=this.getIterator(ne),i=r.getIterator(ne),s=o.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=o.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===fr?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Fd=class extends T{constructor(){super(new Ve(Cf),T.EMPTY_NODE,_r.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return T.EMPTY_NODE}isEmpty(){return!1}},zo=new Fd;Object.defineProperties(P,{MIN:{value:new P(pr,T.EMPTY_NODE)},MAX:{value:new P(vn,zo)}});_a.__EMPTY_NODE=T.EMPTY_NODE;mr.__childrenNodeConstructor=T;oO(zo);sO(zo);var lO=!0;function fe(e,t=null){if(e===null)return T.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),y(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new mr(n,fe(t))}if(!(e instanceof Array)&&lO){let n=[],r=!1;if(be(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=fe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new P(s,l)))}}),n.length===0)return T.EMPTY_NODE;let i=ya(n,rO,s=>s.name,Cf);if(r){let s=ya(n,ne.getCompare());return new T(i,fe(t),new _r({".priority":s},{".priority":ne}))}else return new T(i,fe(t),_r.Default)}else{let n=T.EMPTY_NODE;return be(e,(r,o)=>{if(ut(e,r)&&r.substring(0,1)!=="."){let i=fe(o);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(fe(t))}}iO(fe);var Ld=class extends gr{constructor(t){super(),this.indexPath_=t,y(!R(t)&&N(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),o=this.extractChild(n.node),i=r.compareTo(o);return i===0?Cr(t.name,n.name):i}makePost(t,n){let r=fe(t),o=T.EMPTY_NODE.updateChild(this.indexPath_,r);return new P(n,o)}maxPost(){let t=T.EMPTY_NODE.updateChild(this.indexPath_,zo);return new P(vn,t)}toString(){return n0(this.indexPath_,0).join("/")}};var Vd=class extends gr{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Cr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return P.MIN}maxPost(){return P.MAX}makePost(t,n){let r=fe(t);return new P(n,r)}toString(){return".value"}},cO=new Vd;function c0(e){return{type:"value",snapshotNode:e}}function yr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Lo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Vo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function uO(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var jo=class{constructor(t){this.index_=t}updateChild(t,n,r,o,i,s){y(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(o).equals(r.getChild(o))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Lo(n,a)):y(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(yr(n,r)):s.trackChildChange(Vo(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ne,(o,i)=>{n.hasChild(o)||r.trackChildChange(Lo(o,i))}),n.isLeafNode()||n.forEachChild(ne,(o,i)=>{if(t.hasChild(o)){let s=t.getImmediateChild(o);s.equals(i)||r.trackChildChange(Vo(o,i,s))}else r.trackChildChange(yr(o,i))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?T.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var va=class e{constructor(t){this.indexedFilter_=new jo(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,o,i,s){return this.matches(new P(n,r))||(r=T.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,o,i,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=T.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(T.EMPTY_NODE);let i=this;return n.forEachChild(ne,(s,a)=>{i.matches(new P(s,a))||(o=o.updateImmediateChild(s,T.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var jd=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new va(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,o,i,s){return this.rangedFilter_.matches(new P(n,r))||(r=T.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,o,i,s):this.fullLimitUpdateChild_(t,n,r,i,s)}updateFullNode(t,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=T.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=T.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;i.hasNext()&&s<this.limit_;){let a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))o=o.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(T.EMPTY_NODE);let i;this.reverse_?i=o.getReverseIterator(this.index_):i=o.getIterator(this.index_);let s=0;for(;i.hasNext();){let a=i.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:o=o.updateImmediateChild(a.name,T.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,o,i){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;y(a.numChildren()===this.limit_,"");let l=new P(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=o.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=o.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return i?.trackChildChange(Vo(n,r,d)),a.updateImmediateChild(n,r);{i?.trackChildChange(Lo(n,d));let v=a.updateImmediateChild(n,T.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i?.trackChildChange(yr(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?t:u&&s(c,l)>=0?(i!=null&&(i.trackChildChange(Lo(c.name,c.node)),i.trackChildChange(yr(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,T.EMPTY_NODE)):t}};var Bd=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pr}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ne}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function dO(e){return e.loadsAllData()?new jo(e.getIndex()):e.hasLimit()?new jd(e):new va(e)}function _v(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ne?n="$priority":e.index_===cO?n="$value":e.index_===fr?n="$key":(y(e.index_ instanceof Ld,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ae(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=ae(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ae(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ae(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ae(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function yv(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ne&&(t.i=e.index_.toString()),t}var Ud=class e extends pa{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(y(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=$o("p:rest:"),this.listens_={}}listen(t,n,r,o){let i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let l=_v(t._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),hn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",o(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=_v(t._queryParams),r=t._path.toString(),o=new jt;return this.restRequest_(r+".json",n,(i,s)=>{let a=s;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),o.resolve(a)):o.reject(new Error(a))}),o.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,i])=>{o&&o.accessToken&&(n.auth=o.accessToken),i&&i.token&&(n.ac=i.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ky(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ir(a.responseText)}catch{ve("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ve("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Hd=class{constructor(){this.rootNode_=T.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function ba(){return{value:null,children:new Map}}function u0(e,t,n){if(R(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=N(t);e.children.has(r)||e.children.set(r,ba());let o=e.children.get(r);t=Y(t),u0(o,t,n)}}function $d(e,t,n){e.value!==null?n(t,e.value):fO(e,(r,o)=>{let i=new H(t.toString()+"/"+r);$d(o,i,n)})}function fO(e,t){e.children.forEach((n,r)=>{t(r,n)})}var zd=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=S({},t);return this.last_&&be(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=t,n}};var vv=10*1e3,hO=30*1e3,pO=5*60*1e3,Gd=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zd(t);let r=vv+(hO-vv)*Math.random();Po(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;be(t,(o,i)=>{i>0&&ut(this.statsToReport_,o)&&(n[o]=i,r=!0)}),r&&this.server_.reportStats(n),Po(this.reportStats_.bind(this),Math.floor(Math.random()*2*pO))}};var ft=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(ft||{});function d0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ef(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Wd=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ft.ACK_USER_WRITE,this.source=d0()}operationForChild(t){if(R(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new H(t));return new e(j(),n,this.revert)}}else return y(N(this.path)===t,"operationForChild called for unrelated child."),new e(Y(this.path),this.affectedTree,this.revert)}};var Ca=class e{constructor(t,n){this.source=t,this.path=n,this.type=ft.LISTEN_COMPLETE}operationForChild(t){return R(this.path)?new e(this.source,j()):new e(this.source,Y(this.path))}};var vr=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ft.OVERWRITE}operationForChild(t){return R(this.path)?new e(this.source,j(),this.snap.getImmediateChild(t)):new e(this.source,Y(this.path),this.snap)}};var Ea=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ft.MERGE}operationForChild(t){if(R(this.path)){let n=this.children.subtree(new H(t));return n.isEmpty()?null:n.value?new vr(this.source,j(),n.value):new e(this.source,j(),n)}else return y(N(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Y(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var It=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(R(t))return this.isFullyInitialized()&&!this.filtered_;let n=N(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var qd=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function gO(e,t,n,r){let o=[],i=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&i.push(uO(s.childName,s.snapshotNode))}),No(e,o,"child_removed",t,r,n),No(e,o,"child_added",t,r,n),No(e,o,"child_moved",i,r,n),No(e,o,"child_changed",t,r,n),No(e,o,"value",t,r,n),o}function No(e,t,n,r,o,i){let s=r.filter(a=>a.type===n);s.sort((a,l)=>_O(e,a,l)),s.forEach(a=>{let l=mO(e,a,i);o.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function mO(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function _O(e,t,n){if(t.childName==null||n.childName==null)throw fn("Should only compare child_ events.");let r=new P(t.childName,t.snapshotNode),o=new P(n.childName,n.snapshotNode);return e.index_.compare(r,o)}function Ra(e,t){return{eventCache:e,serverCache:t}}function Ro(e,t,n,r){return Ra(new It(t,n,r),e.serverCache)}function f0(e,t,n,r){return Ra(e.eventCache,new It(t,n,r))}function Yd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function bn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var gd,yO=()=>(gd||(gd=new Ve(v1)),gd),Ce=class e{static fromObject(t){let n=new e(null);return be(t,(r,o)=>{n=n.set(new H(r),o)}),n}constructor(t,n=yO()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:j(),value:this.value};if(R(t))return null;{let r=N(t),o=this.children.get(r);if(o!==null){let i=o.findRootMostMatchingPathAndValue(Y(t),n);return i!=null?{path:le(new H(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(R(t))return this;{let n=N(t),r=this.children.get(n);return r!==null?r.subtree(Y(t)):new e(null)}}set(t,n){if(R(t))return new e(n,this.children);{let r=N(t),i=(this.children.get(r)||new e(null)).set(Y(t),n),s=this.children.insert(r,i);return new e(this.value,s)}}remove(t){if(R(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=N(t),r=this.children.get(n);if(r){let o=r.remove(Y(t)),i;return o.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,o),this.value===null&&i.isEmpty()?new e(null):new e(this.value,i)}else return this}}get(t){if(R(t))return this.value;{let n=N(t),r=this.children.get(n);return r?r.get(Y(t)):null}}setTree(t,n){if(R(t))return n;{let r=N(t),i=(this.children.get(r)||new e(null)).setTree(Y(t),n),s;return i.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,i),new e(this.value,s)}}fold(t){return this.fold_(j(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((o,i)=>{r[o]=i.fold_(le(t,o),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,j(),n)}findOnPath_(t,n,r){let o=this.value?r(n,this.value):!1;if(o)return o;if(R(t))return null;{let i=N(t),s=this.children.get(i);return s?s.findOnPath_(Y(t),le(n,i),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,j(),n)}foreachOnPath_(t,n,r){if(R(t))return this;{this.value&&r(n,this.value);let o=N(t),i=this.children.get(o);return i?i.foreachOnPath_(Y(t),le(n,o),r):new e(null)}}foreach(t){this.foreach_(j(),t)}foreach_(t,n){this.children.inorderTraversal((r,o)=>{o.foreach_(le(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Ke=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ce(null))}};function ko(e,t,n){if(R(t))return new Ke(new Ce(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let o=r.path,i=r.value,s=ye(o,t);return i=i.updateChild(s,n),new Ke(e.writeTree_.set(o,i))}else{let o=new Ce(n),i=e.writeTree_.setTree(t,o);return new Ke(i)}}}function bv(e,t,n){let r=e;return be(n,(o,i)=>{r=ko(r,le(t,o),i)}),r}function Cv(e,t){if(R(t))return Ke.empty();{let n=e.writeTree_.setTree(t,new Ce(null));return new Ke(n)}}function Zd(e,t){return Cn(e,t)!=null}function Cn(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ye(n.path,t)):null}function Ev(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ne,(r,o)=>{t.push(new P(r,o))}):e.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new P(r,o.value))}),t}function Ht(e,t){if(R(t))return e;{let n=Cn(e,t);return n!=null?new Ke(new Ce(n)):new Ke(e.writeTree_.subtree(t))}}function Kd(e){return e.writeTree_.isEmpty()}function br(e,t){return h0(j(),e.writeTree_,t)}function h0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((o,i)=>{o===".priority"?(y(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=h0(le(e,o),i,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(le(e,".priority"),r)),n}}function Df(e,t){return _0(t,e)}function vO(e,t,n,r,o){y(r>e.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=ko(e.visibleWrites,t,n)),e.lastWriteId=r}function bO(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function CO(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);y(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,s=e.allWrites.length-1;for(;o&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&EO(a,r.path)?o=!1:Ze(r.path,a.path)&&(i=!0)),s--}if(o){if(i)return wO(e),!0;if(r.snap)e.visibleWrites=Cv(e.visibleWrites,r.path);else{let a=r.children;be(a,l=>{e.visibleWrites=Cv(e.visibleWrites,le(r.path,l))})}return!0}else return!1}function EO(e,t){if(e.snap)return Ze(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Ze(le(e.path,n),t))return!0;return!1}function wO(e){e.visibleWrites=p0(e.allWrites,DO,j()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DO(e){return e.visible}function p0(e,t,n){let r=Ke.empty();for(let o=0;o<e.length;++o){let i=e[o];if(t(i)){let s=i.path,a;if(i.snap)Ze(n,s)?(a=ye(n,s),r=ko(r,a,i.snap)):Ze(s,n)&&(a=ye(s,n),r=ko(r,j(),i.snap.getChild(a)));else if(i.children){if(Ze(n,s))a=ye(n,s),r=bv(r,a,i.children);else if(Ze(s,n))if(a=ye(s,n),R(a))r=bv(r,j(),i.children);else{let l=hn(i.children,N(a));if(l){let c=l.getChild(Y(a));r=ko(r,j(),c)}}}else throw fn("WriteRecord should have .snap or .children")}}return r}function g0(e,t,n,r,o){if(!r&&!o){let i=Cn(e.visibleWrites,t);if(i!=null)return i;{let s=Ht(e.visibleWrites,t);if(Kd(s))return n;if(n==null&&!Zd(s,j()))return null;{let a=n||T.EMPTY_NODE;return br(s,a)}}}else{let i=Ht(e.visibleWrites,t);if(!o&&Kd(i))return n;if(!o&&n==null&&!Zd(i,j()))return null;{let s=function(c){return(c.visible||o)&&(!r||!~r.indexOf(c.writeId))&&(Ze(c.path,t)||Ze(t,c.path))},a=p0(e.allWrites,s,t),l=n||T.EMPTY_NODE;return br(a,l)}}}function xO(e,t,n){let r=T.EMPTY_NODE,o=Cn(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ne,(i,s)=>{r=r.updateImmediateChild(i,s)}),r;if(n){let i=Ht(e.visibleWrites,t);return n.forEachChild(ne,(s,a)=>{let l=br(Ht(i,new H(s)),a);r=r.updateImmediateChild(s,l)}),Ev(i).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let i=Ht(e.visibleWrites,t);return Ev(i).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function IO(e,t,n,r,o){y(r||o,"Either existingEventSnap or existingServerSnap must exist");let i=le(t,n);if(Zd(e.visibleWrites,i))return null;{let s=Ht(e.visibleWrites,i);return Kd(s)?o.getChild(n):br(s,o.getChild(n))}}function MO(e,t,n,r){let o=le(t,n),i=Cn(e.visibleWrites,o);if(i!=null)return i;if(r.isCompleteForChild(n)){let s=Ht(e.visibleWrites,o);return br(s,r.getNode().getImmediateChild(n))}else return null}function SO(e,t){return Cn(e.visibleWrites,t)}function TO(e,t,n,r,o,i,s){let a,l=Ht(e.visibleWrites,t),c=Cn(l,j());if(c!=null)a=c;else if(n!=null)a=br(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=i?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<o;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function OO(){return{visibleWrites:Ke.empty(),allWrites:[],lastWriteId:-1}}function wa(e,t,n,r){return g0(e.writeTree,e.treePath,t,n,r)}function xf(e,t){return xO(e.writeTree,e.treePath,t)}function wv(e,t,n,r){return IO(e.writeTree,e.treePath,t,n,r)}function Da(e,t){return SO(e.writeTree,le(e.treePath,t))}function NO(e,t,n,r,o,i){return TO(e.writeTree,e.treePath,t,n,r,o,i)}function If(e,t,n){return MO(e.writeTree,e.treePath,t,n)}function m0(e,t){return _0(le(e.treePath,t),e.writeTree)}function _0(e,t){return{treePath:e,writeTree:t}}var Qd=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let o=this.changeMap.get(r);if(o){let i=o.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Vo(r,t.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Lo(r,o.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,yr(r,t.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Vo(r,t.snapshotNode,o.oldSnap));else throw fn("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Xd=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},y0=new Xd,Bo=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new It(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return If(this.writes_,t,r)}}getChildAfterChild(t,n,r){let o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bn(this.viewCache_),i=NO(this.writes_,o,n,1,r,t);return i.length===0?null:i[0]}};function PO(e){return{filter:e}}function AO(e,t){y(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),y(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function RO(e,t,n,r,o){let i=new Qd,s,a;if(n.type===ft.OVERWRITE){let c=n;c.source.fromUser?s=Jd(e,t,c.path,c.snap,r,o,i):(y(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!R(c.path),s=xa(e,t,c.path,c.snap,r,o,a,i))}else if(n.type===ft.MERGE){let c=n;c.source.fromUser?s=FO(e,t,c.path,c.children,r,o,i):(y(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=ef(e,t,c.path,c.children,r,o,a,i))}else if(n.type===ft.ACK_USER_WRITE){let c=n;c.revert?s=jO(e,t,c.path,r,o,i):s=LO(e,t,c.path,c.affectedTree,r,o,i)}else if(n.type===ft.LISTEN_COMPLETE)s=VO(e,t,n.path,r,i);else throw fn("Unknown operation type: "+n.type);let l=i.getChanges();return kO(t,s,l),{viewCache:s,changes:l}}function kO(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Yd(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(c0(Yd(t)))}}function v0(e,t,n,r,o,i){let s=t.eventCache;if(Da(r,n)!=null)return t;{let a,l;if(R(n))if(y(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=bn(t),u=c instanceof T?c:T.EMPTY_NODE,d=xf(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{let c=wa(r,bn(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,i)}else{let c=N(n);if(c===".priority"){y($t(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=wv(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=Y(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let f=wv(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=If(r,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,o,i):a=s.getNode()}}return Ro(t,a,s.isFullyInitialized()||R(n),e.filter.filtersNodes())}}function xa(e,t,n,r,o,i,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(R(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=N(n);if(!l.isCompleteForPath(n)&&$t(n)>1)return t;let p=Y(n),M=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),M):c=u.updateChild(l.getNode(),h,M,p,y0,null)}let d=f0(t,c,l.isFullyInitialized()||R(n),u.filtersNodes()),f=new Bo(o,d,i);return v0(e,d,n,o,f,a)}function Jd(e,t,n,r,o,i,s){let a=t.eventCache,l,c,u=new Bo(o,t,i);if(R(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ro(t,c,!0,e.filter.filtersNodes());else{let d=N(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ro(t,c,a.isFullyInitialized(),a.isFiltered());else{let f=Y(n),h=a.getNode().getImmediateChild(d),p;if(R(f))p=r;else{let v=u.getCompleteChild(d);v!=null?t0(f)===".priority"&&v.getChild(r0(f)).isEmpty()?p=v:p=v.updateChild(f,r):p=T.EMPTY_NODE}if(h.equals(p))l=t;else{let v=e.filter.updateChild(a.getNode(),d,p,f,u,s);l=Ro(t,v,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Dv(e,t){return e.eventCache.isCompleteForChild(t)}function FO(e,t,n,r,o,i,s){let a=t;return r.foreach((l,c)=>{let u=le(n,l);Dv(t,N(u))&&(a=Jd(e,a,u,c,o,i,s))}),r.foreach((l,c)=>{let u=le(n,l);Dv(t,N(u))||(a=Jd(e,a,u,c,o,i,s))}),a}function xv(e,t,n){return n.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function ef(e,t,n,r,o,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;R(n)?c=r:c=new Ce(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=xv(e,h,f);l=xa(e,l,new H(d),p,o,i,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),v=xv(e,p,f);l=xa(e,l,new H(d),v,o,i,s,a)}}),l}function LO(e,t,n,r,o,i,s){if(Da(o,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(R(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xa(e,t,n,l.getNode().getChild(n),o,i,a,s);if(R(n)){let c=new Ce(null);return l.getNode().forEachChild(fr,(u,d)=>{c=c.set(new H(u),d)}),ef(e,t,n,c,o,i,a,s)}else return t}else{let c=new Ce(null);return r.foreach((u,d)=>{let f=le(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),ef(e,t,n,c,o,i,a,s)}}function VO(e,t,n,r,o){let i=t.serverCache,s=f0(t,i.getNode(),i.isFullyInitialized()||R(n),i.isFiltered());return v0(e,s,n,r,y0,o)}function jO(e,t,n,r,o,i){let s;if(Da(r,n)!=null)return t;{let a=new Bo(r,t,o),l=t.eventCache.getNode(),c;if(R(n)||N(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=wa(r,bn(t));else{let d=t.serverCache.getNode();y(d instanceof T,"serverChildren would be complete if leaf node"),u=xf(r,d)}u=u,c=e.filter.updateFullNode(l,u,i)}else{let u=N(n),d=If(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,Y(n),a,i):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,T.EMPTY_NODE,Y(n),a,i):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=wa(r,bn(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,i)))}return s=t.serverCache.isFullyInitialized()||Da(r,j())!=null,Ro(t,c,s,e.filter.filtersNodes())}}var tf=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,o=new jo(r.getIndex()),i=dO(r);this.processor_=PO(i);let s=n.serverCache,a=n.eventCache,l=o.updateFullNode(T.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(T.EMPTY_NODE,a.getNode(),null),u=new It(l,s.isFullyInitialized(),o.filtersNodes()),d=new It(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ra(d,u),this.eventGenerator_=new qd(this.query_)}get query(){return this.query_}};function BO(e){return e.viewCache_.serverCache.getNode()}function UO(e,t){let n=bn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!R(t)&&!n.getImmediateChild(N(t)).isEmpty())?n.getChild(t):null}function Iv(e){return e.eventRegistrations_.length===0}function HO(e,t){e.eventRegistrations_.push(t)}function Mv(e,t,n){let r=[];if(n){y(t==null,"A cancel should cancel all event registrations.");let o=e.query._path;e.eventRegistrations_.forEach(i=>{let s=i.createCancelEvent(n,o);s&&r.push(s)})}if(t){let o=[];for(let i=0;i<e.eventRegistrations_.length;++i){let s=e.eventRegistrations_[i];if(!s.matches(t))o.push(s);else if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(i+1));break}}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function Sv(e,t,n,r){t.type===ft.MERGE&&t.source.queryId!==null&&(y(bn(e.viewCache_),"We should always have a full cache before handling merges"),y(Yd(e.viewCache_),"Missing event cache, even though we have a server cache"));let o=e.viewCache_,i=RO(e.processor_,o,t,n,r);return AO(e.processor_,i.viewCache),y(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,b0(e,i.changes,i.viewCache.eventCache.getNode(),null)}function $O(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ne,(i,s)=>{r.push(yr(i,s))}),n.isFullyInitialized()&&r.push(c0(n.getNode())),b0(e,r,n.getNode(),t)}function b0(e,t,n,r){let o=r?[r]:e.eventRegistrations_;return gO(e.eventGenerator_,t,n,o)}var Ia,nf=class{constructor(){this.views=new Map}};function zO(e){y(!Ia,"__referenceConstructor has already been defined"),Ia=e}function GO(){return y(Ia,"Reference.ts has not been loaded"),Ia}function WO(e){return e.views.size===0}function Mf(e,t,n,r){let o=t.source.queryId;if(o!==null){let i=e.views.get(o);return y(i!=null,"SyncTree gave us an op for an invalid query."),Sv(i,t,n,r)}else{let i=[];for(let s of e.views.values())i=i.concat(Sv(s,t,n,r));return i}}function qO(e,t,n,r,o){let i=t._queryIdentifier,s=e.views.get(i);if(!s){let a=wa(n,o?r:null),l=!1;a?l=!0:r instanceof T?(a=xf(n,r),l=!1):(a=T.EMPTY_NODE,l=!1);let c=Ra(new It(a,l,!1),new It(r,o,!1));return new tf(t,c)}return s}function YO(e,t,n,r,o,i){let s=qO(e,t,r,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),HO(s,n),$O(s,n)}function ZO(e,t,n,r){let o=t._queryIdentifier,i=[],s=[],a=zt(e);if(o==="default")for(let[l,c]of e.views.entries())s=s.concat(Mv(c,n,r)),Iv(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{let l=e.views.get(o);l&&(s=s.concat(Mv(l,n,r)),Iv(l)&&(e.views.delete(o),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!zt(e)&&i.push(new(GO())(t._repo,t._path)),{removed:i,events:s}}function C0(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function hr(e,t){let n=null;for(let r of e.views.values())n=n||UO(r,t);return n}function E0(e,t){if(t._queryParams.loadsAllData())return ka(e);{let r=t._queryIdentifier;return e.views.get(r)}}function w0(e,t){return E0(e,t)!=null}function zt(e){return ka(e)!=null}function ka(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Ma;function KO(e){y(!Ma,"__referenceConstructor has already been defined"),Ma=e}function QO(){return y(Ma,"Reference.ts has not been loaded"),Ma}var XO=1,Sa=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=OO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function D0(e,t,n,r,o){return vO(e.pendingWriteTree_,t,n,r,o),o?Go(e,new vr(d0(),t,n)):[]}function _n(e,t,n=!1){let r=bO(e.pendingWriteTree_,t);if(CO(e.pendingWriteTree_,t)){let i=new Ce(null);return r.snap!=null?i=i.set(j(),!0):be(r.children,s=>{i=i.set(new H(s),!0)}),Go(e,new Wd(r.path,i,n))}else return[]}function Fa(e,t,n){return Go(e,new vr(Ef(),t,n))}function JO(e,t,n){let r=Ce.fromObject(n);return Go(e,new Ea(Ef(),t,r))}function eN(e,t){return Go(e,new Ca(Ef(),t))}function tN(e,t,n){let r=Tf(e,n);if(r){let o=Of(r),i=o.path,s=o.queryId,a=ye(i,t),l=new Ca(wf(s),a);return Nf(e,i,l)}else return[]}function rf(e,t,n,r,o=!1){let i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||w0(s,t))){let l=ZO(s,t,n,r);WO(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));let c=l.removed;if(a=l.events,!o){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(i,(f,h)=>zt(h));if(u&&!d){let f=e.syncPointTree_.subtree(i);if(!f.isEmpty()){let h=oN(f);for(let p=0;p<h.length;++p){let v=h[p],M=v.query,Z=M0(e,v);e.listenProvider_.startListening(Fo(M),Ta(e,M),Z.hashFn,Z.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Fo(t),null):c.forEach(f=>{let h=e.queryToTagMap.get(La(f));e.listenProvider_.stopListening(Fo(f),h)}))}iN(e,c)}return a}function nN(e,t,n,r){let o=Tf(e,r);if(o!=null){let i=Of(o),s=i.path,a=i.queryId,l=ye(s,t),c=new vr(wf(a),l,n);return Nf(e,s,c)}else return[]}function rN(e,t,n,r){let o=Tf(e,r);if(o){let i=Of(o),s=i.path,a=i.queryId,l=ye(s,t),c=Ce.fromObject(n),u=new Ea(wf(a),l,c);return Nf(e,s,u)}else return[]}function Tv(e,t,n,r=!1){let o=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(o,(f,h)=>{let p=ye(f,o);i=i||hr(h,p),s=s||zt(h)});let a=e.syncPointTree_.get(o);a?(s=s||zt(a),i=i||hr(a,j())):(a=new nf,e.syncPointTree_=e.syncPointTree_.set(o,a));let l;i!=null?l=!0:(l=!1,i=T.EMPTY_NODE,e.syncPointTree_.subtree(o).foreachChild((h,p)=>{let v=hr(p,j());v&&(i=i.updateImmediateChild(h,v))}));let c=w0(a,t);if(!c&&!t._queryParams.loadsAllData()){let f=La(t);y(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=sN();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Df(e.pendingWriteTree_,o),d=YO(a,t,n,u,i,l);if(!c&&!s&&!r){let f=E0(a,t);d=d.concat(aN(e,t,f))}return d}function Sf(e,t,n){let o=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=ye(s,t),c=hr(a,l);if(c)return c});return g0(o,t,i,n,!0)}function Go(e,t){return x0(t,e.syncPointTree_,null,Df(e.pendingWriteTree_,j()))}function x0(e,t,n,r){if(R(e.path))return I0(e,t,n,r);{let o=t.get(j());n==null&&o!=null&&(n=hr(o,j()));let i=[],s=N(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=m0(r,s);i=i.concat(x0(a,l,c,u))}return o&&(i=i.concat(Mf(o,e,r,n))),i}}function I0(e,t,n,r){let o=t.get(j());n==null&&o!=null&&(n=hr(o,j()));let i=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=m0(r,s),u=e.operationForChild(s);u&&(i=i.concat(I0(u,a,l,c)))}),o&&(i=i.concat(Mf(o,e,r,n))),i}function M0(e,t){let n=t.query,r=Ta(e,n);return{hashFn:()=>(BO(t)||T.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?tN(e,n._path,r):eN(e,n._path);{let i=E1(o,n);return rf(e,n,null,i)}}}}function Ta(e,t){let n=La(t);return e.queryToTagMap.get(n)}function La(e){return e._path.toString()+"$"+e._queryIdentifier}function Tf(e,t){return e.tagToQueryMap.get(t)}function Of(e){let t=e.indexOf("$");return y(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new H(e.substr(0,t))}}function Nf(e,t,n){let r=e.syncPointTree_.get(t);y(r,"Missing sync point for query tag that we're tracking");let o=Df(e.pendingWriteTree_,t);return Mf(r,n,o,null)}function oN(e){return e.fold((t,n,r)=>{if(n&&zt(n))return[ka(n)];{let o=[];return n&&(o=C0(n)),be(r,(i,s)=>{o=o.concat(s)}),o}})}function Fo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(QO())(e._repo,e._path):e}function iN(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let o=La(r),i=e.queryToTagMap.get(o);e.queryToTagMap.delete(o),e.tagToQueryMap.delete(i)}}}function sN(){return XO++}function aN(e,t,n){let r=t._path,o=Ta(e,t),i=M0(e,n),s=e.listenProvider_.startListening(Fo(t),o,i.hashFn,i.onComplete),a=e.syncPointTree_.subtree(r);if(o)y(!zt(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!R(c)&&u&&zt(u))return[ka(u).query];{let f=[];return u&&(f=f.concat(C0(u).map(h=>h.query))),be(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Fo(u),Ta(e,u))}}return s}var of=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},sf=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=le(this.path_,t);return new e(this.syncTree_,n)}node(){return Sf(this.syncTree_,this.path_)}},lN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Ov=function(e,t,n){if(!e||typeof e!="object")return e;if(y(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return cN(e[".sv"],t,n);if(typeof e[".sv"]=="object")return uN(e[".sv"],t);y(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},cN=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+e)}},uN=function(e,t,n){e.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let o=t.node();if(y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;let s=o.getValue();return typeof s!="number"?r:s+r},dN=function(e,t,n,r){return Pf(t,new sf(n,e),r)},S0=function(e,t,n){return Pf(e,new of(t),n)};function Pf(e,t,n){let r=e.getPriority().val(),o=Ov(r,t.getImmediateChild(".priority"),n),i;if(e.isLeafNode()){let s=e,a=Ov(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new mr(a,fe(o)):e}else{let s=e;return i=s,o!==s.getPriority().val()&&(i=i.updatePriority(new mr(o))),s.forEachChild(ne,(a,l)=>{let c=Pf(l,t.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}var Uo=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Af(e,t){let n=t instanceof H?t:new H(t),r=e,o=N(n);for(;o!==null;){let i=hn(r.node.children,o)||{children:{},childCount:0};r=new Uo(o,r,i),n=Y(n),o=N(n)}return r}function wr(e){return e.node.value}function T0(e,t){e.node.value=t,af(e)}function O0(e){return e.node.childCount>0}function fN(e){return wr(e)===void 0&&!O0(e)}function Va(e,t){be(e.node.children,(n,r)=>{t(new Uo(n,e,r))})}function N0(e,t,n,r){n&&!r&&t(e),Va(e,o=>{N0(o,t,!0,r)}),n&&r&&t(e)}function hN(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Wo(e){return new H(e.parent===null?e.name:Wo(e.parent)+"/"+e.name)}function af(e){e.parent!==null&&pN(e.parent,e.name,e)}function pN(e,t,n){let r=fN(n),o=ut(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,af(e)):!r&&!o&&(e.node.children[t]=n.node,e.node.childCount++,af(e))}var gN=/[\[\].#$\/\u0000-\u001F\u007F]/,mN=/[\[\].#$\u0000-\u001F\u007F]/,md=10*1024*1024,P0=function(e){return typeof e=="string"&&e.length!==0&&!gN.test(e)},A0=function(e){return typeof e=="string"&&e.length!==0&&!mN.test(e)},_N=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),A0(e)};var yN=function(e,t,n,r){r&&t===void 0||Rf(sa(e,"value"),t,n)},Rf=function(e,t,n){let r=n instanceof H?new Od(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+gn(r));if(typeof t=="function")throw new Error(e+"contains a function "+gn(r)+" with contents = "+t.toString());if(Lv(t))throw new Error(e+"contains "+t.toString()+" "+gn(r));if(typeof t=="string"&&t.length>md/3&&wo(t)>md)throw new Error(e+"contains a string greater than "+md+" utf8 bytes "+gn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,i=!1;if(be(t,(s,a)=>{if(s===".value")o=!0;else if(s!==".priority"&&s!==".sv"&&(i=!0,!P0(s)))throw new Error(e+" contains an invalid key ("+s+") "+gn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Q1(r,s),Rf(e,a,r),X1(r)}),o&&i)throw new Error(e+' contains ".value" child '+gn(r)+" in addition to actual children.")}};var R0=function(e,t,n,r){if(!(r&&n===void 0)&&!A0(n))throw new Error(sa(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vN=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),R0(e,t,n,r)},k0=function(e,t){if(N(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},bN=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!P0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_N(n))throw new Error(sa(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var lf=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function kf(e,t){let n=null;for(let r=0;r<t.length;r++){let o=t[r],i=o.getPath();n!==null&&!vf(i,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function F0(e,t,n){kf(e,n),L0(e,r=>vf(r,t))}function Mt(e,t,n){kf(e,n),L0(e,r=>Ze(r,t)||Ze(t,r))}function L0(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let o=e.eventLists_[r];if(o){let i=o.path;t(i)?(CN(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function CN(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();yn&&pe("event: "+n.toString()),Er(r)}}}var EN="repo_interrupt",wN=25,cf=class{constructor(t,n,r,o){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ba(),this.transactionQueueTree_=new Uo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function DN(e,t,n){if(e.stats_=yf(e.repoInfo_),e.forceRestClient_||I1())e.server_=new Ud(e.repoInfo_,(r,o,i,s)=>{Nv(e,r,o,i,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Pv(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new bf(e.repoInfo_,t,(r,o,i,s)=>{Nv(e,r,o,i,s)},r=>{Pv(e,r)},r=>{IN(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=S1(e.repoInfo_,()=>new Gd(e.stats_,e.server_)),e.infoData_=new Hd,e.infoSyncTree_=new Sa({startListening:(r,o,i,s)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Fa(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Lf(e,"connected",!1),e.serverSyncTree_=new Sa({startListening:(r,o,i,s)=>(e.server_.listen(r,i,o,(a,l)=>{let c=s(a,l);Mt(e.eventQueue_,r._path,c)}),[]),stopListening:(r,o)=>{e.server_.unlisten(r,o)}})}function xN(e){let n=e.infoData_.getNode(new H(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ff(e){return lN({timestamp:xN(e)})}function Nv(e,t,n,r,o){e.dataUpdateCount++;let i=new H(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(o)if(r){let l=Eo(n,c=>fe(c));s=rN(e.serverSyncTree_,i,l,o)}else{let l=fe(n);s=nN(e.serverSyncTree_,i,l,o)}else if(r){let l=Eo(n,c=>fe(c));s=JO(e.serverSyncTree_,i,l)}else{let l=fe(n);s=Fa(e.serverSyncTree_,i,l)}let a=i;s.length>0&&(a=ja(e,i)),Mt(e.eventQueue_,a,s)}function Pv(e,t){Lf(e,"connected",t),t===!1&&SN(e)}function IN(e,t){be(t,(n,r)=>{Lf(e,n,r)})}function Lf(e,t,n){let r=new H("/.info/"+t),o=fe(n);e.infoData_.updateSnapshot(r,o);let i=Fa(e.infoSyncTree_,r,o);Mt(e.eventQueue_,r,i)}function V0(e){return e.nextWriteId_++}function MN(e,t,n,r,o){Vf(e,"set",{path:t.toString(),value:n,priority:r});let i=Ff(e),s=fe(n,r),a=Sf(e.serverSyncTree_,t),l=S0(s,a,i),c=V0(e),u=D0(e.serverSyncTree_,t,l,c,!0);kf(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||ve("set at "+t+" failed: "+f);let v=_n(e.serverSyncTree_,c,!p);Mt(e.eventQueue_,t,v),NN(e,o,f,h)});let d=$0(e,t);ja(e,d),Mt(e.eventQueue_,d,[])}function SN(e){Vf(e,"onDisconnectEvents");let t=Ff(e),n=ba();$d(e.onDisconnect_,j(),(o,i)=>{let s=dN(o,i,e.serverSyncTree_,t);u0(n,o,s)});let r=[];$d(n,j(),(o,i)=>{r=r.concat(Fa(e.serverSyncTree_,o,i));let s=$0(e,o);ja(e,s)}),e.onDisconnect_=ba(),Mt(e.eventQueue_,j(),r)}function TN(e,t,n){let r;N(t._path)===".info"?r=Tv(e.infoSyncTree_,t,n):r=Tv(e.serverSyncTree_,t,n),F0(e.eventQueue_,t._path,r)}function Av(e,t,n){let r;N(t._path)===".info"?r=rf(e.infoSyncTree_,t,n):r=rf(e.serverSyncTree_,t,n),F0(e.eventQueue_,t._path,r)}function ON(e){e.persistentConnection_&&e.persistentConnection_.interrupt(EN)}function Vf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),pe(n,...t)}function NN(e,t,n,r){t&&Er(()=>{if(n==="ok")t(null);else{let o=(n||"error").toUpperCase(),i=o;r&&(i+=": "+r);let s=new Error(i);s.code=o,t(s)}})}function j0(e,t,n){return Sf(e.serverSyncTree_,t,n)||T.EMPTY_NODE}function jf(e,t=e.transactionQueueTree_){if(t||Ba(e,t),wr(t)){let n=U0(e,t);y(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&PN(e,Wo(t),n)}else O0(t)&&Va(t,n=>{jf(e,n)})}function PN(e,t,n){let r=n.map(c=>c.currentWriteId),o=j0(e,t,r),i=o,s=o.hash();for(let c=0;c<n.length;c++){let u=n[c];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=ye(t,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}let a=i.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Vf(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(_n(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ba(e,Af(e.transactionQueueTree_,t)),jf(e,e.transactionQueueTree_),Mt(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Er(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ve("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ja(e,t)}},s)}function ja(e,t){let n=B0(e,t),r=Wo(n),o=U0(e,n);return AN(e,o,r),r}function AN(e,t,n){if(t.length===0)return;let r=[],o=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=ye(n,l.path),u=!1,d;if(y(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,o=o.concat(_n(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=wN)u=!0,d="maxretry",o=o.concat(_n(e.serverSyncTree_,l.currentWriteId,!0));else{let f=j0(e,l.path,s);l.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){Rf("transaction failed: Data returned ",h,l.path);let p=fe(h);typeof h=="object"&&h!=null&&ut(h,".priority")||(p=p.updatePriority(f.getPriority()));let M=l.currentWriteId,Z=Ff(e),je=S0(p,f,Z);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=je,l.currentWriteId=V0(e),s.splice(s.indexOf(M),1),o=o.concat(D0(e.serverSyncTree_,l.path,je,l.currentWriteId,l.applyLocally)),o=o.concat(_n(e.serverSyncTree_,M,!0))}else u=!0,d="nodata",o=o.concat(_n(e.serverSyncTree_,l.currentWriteId,!0))}Mt(e.eventQueue_,n,o),o=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Ba(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Er(r[a]);jf(e,e.transactionQueueTree_)}function B0(e,t){let n,r=e.transactionQueueTree_;for(n=N(t);n!==null&&wr(r)===void 0;)r=Af(r,n),t=Y(t),n=N(t);return r}function U0(e,t){let n=[];return H0(e,t,n),n.sort((r,o)=>r.order-o.order),n}function H0(e,t,n){let r=wr(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Va(t,o=>{H0(e,o,n)})}function Ba(e,t){let n=wr(t);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,T0(t,n.length>0?n:void 0)}Va(t,r=>{Ba(e,r)})}function $0(e,t){let n=Wo(B0(e,t)),r=Af(e.transactionQueueTree_,t);return hN(r,o=>{_d(e,o)}),_d(e,r),N0(r,o=>{_d(e,o)}),n}function _d(e,t){let n=wr(t);if(n){let r=[],o=[],i=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(i===s-1,"All SENT items should be at beginning of queue."),i=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(_n(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));i===-1?T0(t,void 0):n.length=i+1,Mt(e.eventQueue_,Wo(t),o);for(let s=0;s<r.length;s++)Er(r[s])}}function RN(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function kN(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ve(`Invalid query segment '${n}' in query '${e}'`)}return t}var Rv=function(e,t){let n=FN(e),r=n.namespace;n.domain==="firebase.com"&&xt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_1();let o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new fa(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new H(n.pathString)}},FN=function(e){let t="",n="",r="",o="",i="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=RN(e.substring(u,d)));let f=kN(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),i=r}"ns"in f&&(i=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:o,namespace:i}};var Oa=class{constructor(t,n,r,o){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ae(this.snapshot.exportVal())}},Na=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var uf=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var df=class e{constructor(t,n,r,o){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return R(this._path)?null:t0(this._path)}get ref(){return new St(this._repo,this._path)}get _queryIdentifier(){let t=yv(this._queryParams),n=_f(t);return n==="{}"?"default":n}get _queryObject(){return yv(this._queryParams)}isEqual(t){if(t=ar(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=vf(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+K1(this._path)}};var St=class e extends df{constructor(t,n){super(t,n,new Bd,!1)}get parent(){let t=r0(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Pa=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new H(t),r=Aa(this.ref,t);return new e(this._node.getChild(n),r,ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new e(o,Aa(this.ref,r),ne)))}hasChild(t){let n=new H(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Ua(e,t){return e=ar(e),e._checkNotDeleted("ref"),t!==void 0?Aa(e._root,t):e._root}function Aa(e,t){return e=ar(e),N(e._path)===null?vN("child","path",t,!1):R0("child","path",t,!1),new St(e._repo,le(e._path,t))}function z0(e){return k0("remove",e._path),Bf(e,null)}function Bf(e,t){e=ar(e),k0("set",e._path),yN("set",t,e._path,!1);let n=new jt;return MN(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}var ff=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Oa("value",this,new Pa(t.snapshotNode,new St(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Na(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},hf=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Na(this,t,n):null}createEvent(t,n){y(t.childName!=null,"Child events should have a childName.");let r=Aa(new St(n._repo,n._path),t.childName),o=n._queryParams.getIndex();return new Oa(t.type,this,new Pa(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function LN(e,t,n,r,o){let i;if(typeof r=="object"&&(i=void 0,o=r),typeof r=="function"&&(i=r),o&&o.onlyOnce){let l=n,c=(u,d)=>{Av(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new uf(n,i||void 0),a=t==="value"?new ff(s):new hf(t,s);return TN(e._repo,e,a),()=>Av(e._repo,e,a)}function G0(e,t,n,r){return LN(e,"value",t,n,r)}zO(St);KO(St);var VN="FIREBASE_DATABASE_EMULATOR_HOST",pf={},jN=!1;function BN(e,t,n,r){let o=t.lastIndexOf(":"),i=t.substring(0,o),s=ia(i);e.repoInfo_=new fa(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function UN(e,t,n,r,o){let i=r||e.options.databaseURL;i===void 0&&(e.options.projectId||xt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pe("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Rv(i,o),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[VN]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,s=Rv(i,o),a=s.repoInfo):l=!s.repoInfo.secure;let u=o&&l?new Ao(Ao.OWNER):new wd(e.name,e.options,t);bN("Invalid Firebase Database URL",s),R(s.path)||xt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=$N(a,e,u,new Ed(e,n));return new gf(d,e)}function HN(e,t){let n=pf[t];(!n||n[e.key]!==e)&&xt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ON(e),delete n[e.key]}function $N(e,t,n,r){let o=pf[t.name];o||(o={},pf[t.name]=o);let i=o[e.toURLString()];return i&&xt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new cf(e,jN,n,r),o[e.toURLString()]=i,i}var gf=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new St(this._repo,j())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&xt("Cannot call "+t+" on a deleted database.")}};function W0(e=Xy(),t){let n=Zy(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=xy("database");r&&zN(n,...r)}return n}function zN(e,t,n,r={}){e=ar(e),e._checkNotDeleted("useEmulator");let o=`${t}:${n}`,i=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&sr(r,i.repoInfo_.emulatorOptions))return;xt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&xt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ao(Ao.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:My(r.mockUserToken,e.app.options.projectId);s=new Ao(a)}ia(t)&&(Iy(t),Sy("Database",!0)),BN(i,o,r,s)}function GN(e){p1(Qy),xo(new wt("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return UN(r,o,i,n)},"PUBLIC").setMultipleInstances(!0)),Ut(tv,nv,e),Ut(tv,nv,"esm2020")}bf.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};bf.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};GN();var Ha=class e{db;lunchParticipantsSubject=new Qe([]);dinnerParticipantsSubject=new Qe([]);lunchParticipants$=this.lunchParticipantsSubject.asObservable();dinnerParticipants$=this.dinnerParticipantsSubject.asObservable();platformId=C(cn);isBrowser;isInitialized=!1;constructor(){if(this.isBrowser=Mu(this.platformId),this.isBrowser){console.log("\u{1F310} Initialisation Firebase c\xF4t\xE9 navigateur...");let t={apiKey:"AIzaSyBNORKbQDMjvMmovUWVAIKxmfOAcIpUtLY",authDomain:"whos-eating.firebaseapp.com",databaseURL:"https://whos-eating-default-rtdb.europe-west1.firebasedatabase.app",projectId:"whos-eating",storageBucket:"whos-eating.firebasestorage.app",messagingSenderId:"1027430586394",appId:"1:1027430586394:web:1f956d00af660575da59a3"};try{let n=ud(t);this.db=W0(n),this.isInitialized=!0,console.log("\u2705 Firebase initialis\xE9 avec succ\xE8s"),console.log("\u{1F4CD} Database URL:",t.databaseURL),this.listenToChanges("lunch"),this.listenToChanges("dinner")}catch(n){console.error("\u274C Erreur lors de l'initialisation Firebase:",n),this.isInitialized=!1}}else console.log("\u26A0\uFE0F Ex\xE9cution c\xF4t\xE9 serveur - Firebase non initialis\xE9")}listenToChanges(t){if(!this.isBrowser||!this.isInitialized){console.log("\u26A0\uFE0F listenToChanges - conditions non remplies:",{isBrowser:this.isBrowser,isInitialized:this.isInitialized});return}let n=new Date().toDateString(),r=Ua(this.db,`lunches/${n}-${t}`);console.log(`\u{1F50D} D\xE9marrage de l'\xE9coute des changements Firebase pour ${t}`),console.log("\u{1F4C5} Date du jour:",n),console.log("\u{1F517} Chemin Firebase:",`lunches/${n}-${t}`);let o=t==="lunch"?this.lunchParticipantsSubject:this.dinnerParticipantsSubject;try{G0(r,i=>{console.log(`\u{1F4E1} \xC9v\xE9nement Firebase re\xE7u pour ${t}`);let s=i.val();console.log(`\u{1F4E6} Donn\xE9es brutes ${t}:`,JSON.stringify(s,null,2)),s&&s.participants?(console.log(`\u2705 Mise \xE0 jour ${t} avec`,s.participants.length,"participants:",s.participants.map(a=>a.name).join(", ")),o.next(s.participants)):(console.log(`\u2139\uFE0F Aucune donn\xE9e ${t} - r\xE9initialisation tableau vide`),o.next([]))},i=>{console.error(`\u274C Erreur Firebase onValue pour ${t}:`,i),console.error("D\xE9tails erreur:",{code:i.code||"unknown",message:i.message||String(i),stack:i.stack})}),console.log(`\u2705 Listener Firebase configur\xE9 avec succ\xE8s pour ${t}`)}catch(i){console.error(`\u274C Erreur lors de la configuration du listener ${t}:`,i)}}saveParticipants(t,n){return $(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F saveParticipants appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de sauvegarder");return}try{let r=new Date().toDateString(),o=Ua(this.db,`lunches/${r}-${n}`);console.log(`\u{1F4BE} Tentative de sauvegarde dans Firebase pour ${n}`),console.log("\u{1F4C5} Date:",r),console.log("\u{1F4CA} Nombre de participants:",t.length),console.log("\u{1F465} Participants:",t.map(s=>s.name).join(", "));let i={date:r,participants:t};console.log("\u{1F4E4} Donn\xE9es \xE0 sauvegarder:",JSON.stringify(i,null,2)),yield Bf(o,i),console.log(`\u2705 Sauvegarde Firebase r\xE9ussie pour ${n}`)}catch(r){console.error(`\u274C Erreur lors de la sauvegarde Firebase ${n}:`,r),console.error("D\xE9tails erreur:",{name:r instanceof Error?r.name:"Unknown",message:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0})}})}resetDay(t){return $(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F resetDay appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de r\xE9initialiser");return}try{let n=new Date().toDateString(),r=Ua(this.db,`lunches/${n}-${t}`);console.log(`\u{1F504} Tentative de r\xE9initialisation Firebase pour ${t}`),console.log("\u{1F4C5} Date:",n),yield z0(r),console.log(`\u2705 R\xE9initialisation Firebase r\xE9ussie pour ${t}`)}catch(n){console.error(`\u274C Erreur lors de la r\xE9initialisation Firebase ${t}:`,n),console.error("D\xE9tails erreur:",{name:n instanceof Error?n.name:"Unknown",message:n instanceof Error?n.message:String(n)})}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};function qN(e,t){if(e&1&&(g(0,"div",46),ke(1,"div",47),m()),e&2){let n=t.$implicit;re("top",n.top,"%")("left",n.left,"%")("transform",n.transform)}}function YN(e,t){if(e&1){let n=Fe();g(0,"div",53)(1,"button",54),U("click",function(){Q(n);let o=L().$implicit,i=L(2);return X(i.openGuestForm(o))}),_(2," \u{1F3AD}+ "),m(),g(3,"button",55),U("click",function(){Q(n);let o=L().$implicit,i=L(2);return X(i.removeMember(o))}),_(4," \u2694\uFE0F "),m()()}}function ZN(e,t){if(e&1){let n=Fe();g(0,"div",48)(1,"button",49),U("click",function(){let o=Q(n).$implicit,i=L(2);return X(i.addMember(o))}),g(2,"span",50),_(3),m(),g(4,"span",51),_(5),m()(),he(6,YN,5,0,"div",52),m()}if(e&2){let n=t.$implicit,r=L(2);b(),Re("registered",r.hasMemberRegistered(n)),G("disabled",r.hasMemberRegistered(n)),b(2),Le(n),b(2),Le(r.hasMemberRegistered(n)?"\u269C\uFE0F":"\u2795"),b(),G("ngIf",r.hasMemberRegistered(n))}}function KN(e,t){if(e&1&&(g(0,"span",68),_(1),m()),e&2){let n=L().$implicit;b(),Et(" (invit\xE9 de ",n.addedBy,") ")}}function QN(e,t){if(e&1){let n=Fe();g(0,"div",61)(1,"div",62)(2,"span",63),_(3),m(),g(4,"div",64)(5,"span",65),_(6),m(),he(7,KN,2,1,"span",66),m()(),g(8,"button",67),U("click",function(){let o=Q(n).$implicit,i=L(3);return X(i.removeParticipant(o))}),_(9,"\u2694\uFE0F"),m()()}if(e&2){let n=t.$implicit;b(3),Le(n.isGuest?"\u{1F3AD}":"\u{1FAC5}\u{1F3FB}"),b(3),Le(n.name),b(),G("ngIf",n.isGuest)}}function XN(e,t){if(e&1&&(g(0,"div",56)(1,"div",57),_(2,"\u{1F3BA}"),m(),g(3,"div",58),_(4,"\u{1F3BA}"),m(),g(5,"h2",31),ke(6,"span",32),_(7),ke(8,"span",32),m(),g(9,"div",59),he(10,QN,10,3,"div",60),m()()),e&2){let n=L(2);b(7),Et(" Participants (",n.totalCount,") "),b(3),G("ngForOf",n.participants)}}function JN(e,t){if(e&1){let n=Fe();g(0,"div",69),U("click",function(){Q(n);let o=L(2);return X(o.cancelGuestForm())}),g(1,"div",70),U("click",function(o){return Q(n),X(o.stopPropagation())}),ke(2,"div",71),g(3,"h3",72),_(4),m(),g(5,"input",73),to("ngModelChange",function(o){Q(n);let i=L(2);return ks(i.guestName,o)||(i.guestName=o),X(o)}),U("keyup.enter",function(){Q(n);let o=L(2);return X(o.addGuest(o.selectedMember))}),m(),g(6,"div",74)(7,"button",75),U("click",function(){Q(n);let o=L(2);return X(o.cancelGuestForm())}),g(8,"span",76),_(9,"\u2715"),m(),_(10," Annuler "),m(),g(11,"button",77),U("click",function(){Q(n);let o=L(2);return X(o.addGuest(o.selectedMember))}),g(12,"span",76),_(13,"\u269C\uFE0F"),m(),_(14," Ajouter "),m()(),g(15,"div",78)(16,"span"),_(17,"\u2726"),m(),g(18,"span"),_(19,"\u2726"),m(),g(20,"span"),_(21,"\u2726"),m()()()()}if(e&2){let n=L(2);b(4),Et(" Invit\xE9 de ",n.selectedMember," "),b(),eo("ngModel",n.guestName),b(6),G("disabled",!n.guestName.trim())}}function eP(e,t){if(e&1){let n=Fe();g(0,"footer",79),ke(1,"div",80),g(2,"button",81),U("click",function(){Q(n);let o=L(2);return X(o.resetDay())}),g(3,"span",82),_(4,"\u2694\uFE0F"),m(),_(5," R\xE9initialiser le Festin "),m()()}}function tP(e,t){e&1&&(g(0,"div",83)(1,"div",84),_(2,"\u2728"),m(),g(3,"div",84),_(4,"\u{1F4A5}"),m(),g(5,"div",84),_(6,"\u{1F525}"),m(),g(7,"div",84),_(8,"\u2B50"),m(),g(9,"div",84),_(10,"\u{1F4AB}"),m(),g(11,"div",84),_(12,"\u{1F31F}"),m(),g(13,"div",84),_(14,"\u2728"),m(),g(15,"div",84),_(16,"\u{1F4A5}"),m()())}function nP(e,t){e&1&&(g(0,"div",85),ke(1,"div",86)(2,"div",86)(3,"div",86),m())}function rP(e,t){if(e&1){let n=Fe();g(0,"div")(1,"div",3)(2,"div",4),_(3,"\u{1F56F}\uFE0F"),m(),g(4,"div",5)(5,"div",6),_(6,"\u269C\uFE0F"),m()(),g(7,"div",7),_(8,"\u{1F56F}\uFE0F"),m()(),g(9,"header",8)(10,"div",9),U("click",function(){Q(n);let o=L();return X(o.toggleNightMode())}),g(11,"div",10),_(12),m(),g(13,"div",11),ke(14,"div",12),m()(),g(15,"div",13),U("click",function(){Q(n);let o=L();return X(o.toggleShoppingList())}),g(16,"span",14),_(17,"\u{1F6D2}"),m()(),ke(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),g(22,"h1",19),_(23),m(),g(24,"div",20),_(25),m()(),g(26,"div",21)(27,"div",22)(28,"div",23),ke(29,"div",24),g(30,"div",25),_(31),m(),g(32,"div",26),_(33),m(),g(34,"div",27),he(35,qN,2,6,"div",28),m()()(),g(36,"div",29),U("click",function(){Q(n);let o=L();return X(o.toggleEasterEggMusic())}),_(37,"\u{1F56F}\uFE0F"),m()(),g(38,"div",30)(39,"h2",31)(40,"span",32),_(41,"\u{1F3F0}"),m(),_(42," Qui vient manger ? "),g(43,"span",32),_(44,"\u{1F3F0}"),m()(),g(45,"div",33),he(46,ZN,7,6,"div",34),m(),g(47,"div",35)(48,"span",36),_(49,"\u2726"),m(),g(50,"span",36),_(51,"\u2726"),m(),g(52,"span",36),_(53,"\u2726"),m()()(),he(54,XN,11,2,"div",37)(55,JN,22,3,"div",38)(56,eP,6,0,"footer",39),g(57,"div",40)(58,"div",41)(59,"span",42),_(60,"\u25AA\uFE0F"),m(),g(61,"span",42),_(62,"\u25AA\uFE0F"),m(),g(63,"span",42),_(64,"\u25AA\uFE0F"),m(),g(65,"span",42),_(66,"\u25AA\uFE0F"),m(),g(67,"span",42),_(68,"\u25AA\uFE0F"),m()(),g(69,"div",43),U("click",function(){Q(n);let o=L();return X(o.onCandleClick())}),_(70," \u{1F56F}\uFE0F "),m(),he(71,tP,17,0,"div",44)(72,nP,4,0,"div",45),m()()}if(e&2){let n=L();b(12),Le(n.isNightMode?"\u{1F319}":"\u2600\uFE0F"),b(),Re("active",n.isNightMode),b(10),Le(n.currentTitle),b(2),Le(n.getCurrentDate()),b(6),Le(n.totalCount),b(2),Et("convive",n.totalCount>1?"s":"",""),b(2),G("ngForOf",n.getPlates()),b(),Re("candle-glowing",n.easterEggActivated),b(10),G("ngForOf",n.familyMembers),b(8),G("ngIf",n.participants.length>0),b(),G("ngIf",n.showGuestForm),b(),G("ngIf",n.participants.length>0),b(13),Re("candle-glowing",n.easterEggActivated)("candle-clicked",n.candleClicked),b(2),G("ngIf",n.showCandleParticles),b(),G("ngIf",n.showCandleShockwave)}}function oP(e,t){if(e&1){let n=Fe();g(0,"div",87)(1,"div",88)(2,"button",89),U("click",function(){Q(n);let o=L();return X(o.toggleShoppingList())}),_(3," \u2190 Retour "),m()(),ke(4,"app-shopping-list"),m()}}var $a=class e{constructor(t,n){this.dataService=t;this.themeService=n;this.dataService.lunchParticipants$.subscribe(r=>{this.lunchParticipants=r}),this.dataService.dinnerParticipants$.subscribe(r=>{this.dinnerParticipants=r})}title="Qui Mange Ce Midi ?";isNightMode=!1;showShoppingList=!1;familyMembers=["Papa","Maman","David","Apo","Clovis","Julien"];lunchParticipants=[];dinnerParticipants=[];guestName="";selectedMember="";showGuestForm=!1;easterEggActivated=!1;easterEggAudio;candleClicked=!1;showCandleParticles=!1;showCandleShockwave=!1;getCurrentDate(){return new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}get currentTitle(){return this.isNightMode?"Qui Mange Ce Soir ?":"Qui Mange Ce Midi ?"}get currentMealType(){return this.isNightMode?"dinner":"lunch"}get participants(){return this.isNightMode?this.dinnerParticipants:this.lunchParticipants}toggleNightMode(){this.isNightMode=!this.isNightMode,this.themeService.setNightMode(this.isNightMode)}toggleShoppingList(){this.showShoppingList=!this.showShoppingList}getPlates(){let t=[],n=this.totalCount,r=42,o=50,i=50;for(let s=0;s<n;s++){let a=s*360/n-90,l=a*Math.PI/180,c=o+r*Math.cos(l),u=i+r*Math.sin(l);t.push({top:u,left:c,transform:`translate(-50%, -50%) rotate(${a}deg)`})}return t}get totalCount(){return this.participants.length}hasMemberRegistered(t){return this.participants.some(n=>n.name===t&&!n.isGuest)}addMember(t){if(this.hasMemberRegistered(t))console.log("\u26A0\uFE0F Membre d\xE9j\xE0 enregistr\xE9");else{let n=[...this.participants,{name:t,isGuest:!1}];this.dataService.saveParticipants(n,this.currentMealType)}}removeMember(t){let n=this.participants.filter(r=>!(r.name===t&&!r.isGuest)&&r.addedBy!==t);this.dataService.saveParticipants(n,this.currentMealType)}addGuest(t){if(this.guestName.trim()&&t){let n=[...this.participants,{name:this.guestName.trim(),isGuest:!0,addedBy:t}];this.guestName="",this.showGuestForm=!1,this.selectedMember="",this.dataService.saveParticipants(n,this.currentMealType)}}removeParticipant(t){let n=this.participants.filter(r=>r!==t);this.dataService.saveParticipants(n,this.currentMealType)}openGuestForm(t){this.selectedMember=t,this.showGuestForm=!0}cancelGuestForm(){this.showGuestForm=!1,this.guestName="",this.selectedMember=""}resetDay(){this.dataService.resetDay(this.currentMealType)}toggleEasterEggMusic(){console.log("\u{1F3B5} Toggle Easter Egg Music - Activated:",!this.easterEggActivated),this.easterEggActivated=!this.easterEggActivated,this.easterEggActivated?this.playEasterEggMusic():this.stopEasterEggMusic()}onCandleClick(){console.log("\u{1F525} BOUGIE CLIQU\xC9E - EXPLOSION + MUSIQUE !"),this.candleClicked=!0,this.showCandleParticles=!0,this.showCandleShockwave=!0,this.toggleEasterEggMusic(),setTimeout(()=>{this.candleClicked=!1,this.showCandleParticles=!1,this.showCandleShockwave=!1},1500)}playEasterEggMusic(){console.log("\u{1F3B5} Tentative de lecture de la musique..."),this.easterEggAudio||(console.log("\u{1F3B5} Cr\xE9ation du lecteur audio..."),this.easterEggAudio=new Audio,this.easterEggAudio.src="assets/perceval-cheque-de-caution.mp3",this.easterEggAudio.loop=!0,this.easterEggAudio.volume=.5,this.easterEggAudio.load(),this.easterEggAudio.addEventListener("canplay",()=>{console.log("\u{1F3B5} Audio pr\xEAt \xE0 \xEAtre jou\xE9")}),this.easterEggAudio.addEventListener("error",n=>{console.error("\u{1F3B5} Erreur de chargement audio:",n),console.error("\u{1F3B5} Source:",this.easterEggAudio?.src),console.error("\u{1F3B5} URL compl\xE8te:",window.location.origin+"/"+this.easterEggAudio?.src)}),this.easterEggAudio.addEventListener("play",()=>{console.log("\u{1F3B5} Lecture d\xE9marr\xE9e")}),this.easterEggAudio.addEventListener("pause",()=>{console.log("\u{1F3B5} Lecture en pause")})),console.log("\u{1F3B5} Appel de play()...");let t=this.easterEggAudio.play();t!==void 0&&t.then(()=>{console.log("\u{1F3B5} Lecture r\xE9ussie!")}).catch(n=>{console.error("\u{1F3B5} Erreur lors de la lecture:",n),console.error("\u{1F3B5} Type d'erreur:",n.name),console.error("\u{1F3B5} Message:",n.message),n.name==="NotAllowedError"?(console.warn("\u{1F3B5} L'interaction utilisateur est requise pour jouer l'audio sur mobile"),alert("Cliquez sur OK pour activer la musique"),this.easterEggAudio?.play().catch(r=>{console.error("\u{1F3B5} \xC9chec apr\xE8s interaction:",r),this.easterEggActivated=!1})):this.easterEggActivated=!1})}stopEasterEggMusic(){console.log("\u{1F3B5} Arr\xEAt de la musique..."),this.easterEggAudio&&(this.easterEggAudio.pause(),this.easterEggAudio.currentTime=0,console.log("\u{1F3B5} Musique arr\xEAt\xE9e"))}ngOnDestroy(){this.easterEggAudio&&(this.easterEggAudio.pause(),this.easterEggAudio=void 0)}static \u0275fac=function(n){return new(n||e)(W(Ha),W(or))};static \u0275cmp=As({type:e,selectors:[["app-root"]],decls:3,vars:4,consts:[[1,"container"],[4,"ngIf"],["class","shopping-list-page",4,"ngIf"],[1,"castle-decoration-top"],[1,"torch","torch-left"],[1,"castle-banner"],[1,"banner-flag"],[1,"torch","torch-right"],[1,"header"],["title","Basculer entre midi et soir",1,"night-mode-toggle",3,"click"],[1,"toggle-icon"],[1,"toggle-switch"],[1,"toggle-slider"],["title","Liste de courses",1,"shopping-list-toggle",3,"click"],[1,"shopping-icon"],[1,"corner-ornament","corner-top-left"],[1,"corner-ornament","corner-top-right"],[1,"corner-ornament","corner-bottom-left"],[1,"corner-ornament","corner-bottom-right"],[1,"title"],[1,"date"],[1,"counter-section"],[1,"table-container"],[1,"table-top"],[1,"table-wood-grain"],[1,"counter-number"],[1,"counter-label"],[1,"plates-container"],["class","plate",3,"top","left","transform",4,"ngFor","ngForOf"],["title","\u{1F3B5} Cliquez pour une surprise...",1,"candelabra","candelabra-left",3,"click"],[1,"add-section"],[1,"section-title"],[1,"title-decoration"],[1,"family-grid"],["class","member-card",4,"ngFor","ngForOf"],[1,"section-footer"],[1,"footer-ornament"],["class","participants-section",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","footer",4,"ngIf"],[1,"castle-decoration-bottom"],[1,"castle-foundation"],[1,"foundation-stone"],[1,"candle-decoration","candle-decoration-right",3,"click"],["class","candle-particles",4,"ngIf"],["class","candle-shockwave",4,"ngIf"],[1,"plate"],[1,"plate-inner"],[1,"member-card"],[1,"member-btn",3,"click","disabled"],[1,"member-name"],[1,"member-status"],["class","member-actions",4,"ngIf"],[1,"member-actions"],["title","Ajouter un invit\xE9",1,"action-btn","guest-add-btn",3,"click"],["title","Se d\xE9sinscrire",1,"action-btn","member-remove-btn",3,"click"],[1,"participants-section"],[1,"trumpet","trumpet-left"],[1,"trumpet","trumpet-right"],[1,"participants-list"],["class","participant-card",4,"ngFor","ngForOf"],[1,"participant-card"],[1,"participant-info"],[1,"participant-icon"],[1,"participant-details"],[1,"participant-name"],["class","participant-label",4,"ngIf"],["title","Retirer",1,"remove-btn",3,"click"],[1,"participant-label"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-banner"],[1,"modal-title"],["type","text","placeholder","Nom de l'invit\xE9","autofocus","",1,"guest-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-buttons"],[1,"btn-cancel",3,"click"],[1,"btn-icon"],[1,"btn-confirm",3,"click","disabled"],[1,"modal-decoration"],[1,"footer"],[1,"footer-decoration"],[1,"reset-btn",3,"click"],[1,"reset-icon"],[1,"candle-particles"],[1,"particle"],[1,"candle-shockwave"],[1,"shockwave-ring"],[1,"shopping-list-page"],[1,"shopping-list-header-bar"],["title","Retour",1,"back-btn",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0),he(1,rP,73,20,"div",1)(2,oP,5,0,"div",2),m()),n&2&&(Re("night-mode",r.isNightMode),b(),G("ngIf",!r.showShoppingList),b(),G("ngIf",r.showShoppingList))},dependencies:[Xn,Qn,oo,Qs,nr,Zs,yo,ta],styles:['[_nghost-%COMP%]{--medieval-gold: #d4af37;--medieval-red: #8b0000;--medieval-purple: #4b0082;--medieval-green: #2d5016;--medieval-brown: #3d2817;--medieval-stone: #8b8680;--parchment: #f4e4c1;--parchment-dark: #d4c5a0;--royal-blue: #002366;--blood-red: #8b0000;--dragon-fire: #ff4500;--castle-shadow: 6px 6px 0px rgba(0, 0, 0, .4);--night-bg: #2a1a0f;--night-bg-dark: #1f1409;--night-parchment: #3d2817;--night-parchment-dark: #2d1f12;--night-gold: #ffb347;--night-silver: #d4a574;--night-blue: #b85618;--night-orange: #df5a27;--night-amber: #f4a460;--night-text: #edd39e;--night-glow: rgba(255, 140, 66, .3)}.container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:30px 25px;min-height:100vh;position:relative;z-index:1;border-left:15px solid #6b5d54;border-right:15px solid #6b5d54;box-shadow:inset 5px 0 15px #0000004d,inset -5px 0 15px #0000004d;background:linear-gradient(90deg,rgba(107,93,84,.1) 0%,transparent 10%,transparent 90%,rgba(107,93,84,.1) 100%)}.header[_ngcontent-%COMP%]{text-align:center;padding:60px 50px 55px;position:relative;min-height:180px;border:6px solid transparent;border-image:linear-gradient(135deg,#b8941f,#dab02c,#cfa414,#edbf2b,#b8941f) 1;outline:3px solid #3D2817;outline-offset:-9px;box-shadow:0 0 0 2px #b8941f,0 0 0 12px #b8941f1a,inset 0 0 40px #b8941f26;filter:drop-shadow(0 12px 20px rgba(0,0,0,.35)) drop-shadow(0 5px 8px rgba(0,0,0,.25));background-color:#fff8e1}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;left:-6px;width:50px;height:50px;background:linear-gradient(135deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(45deg,#c9a227,#b8941f);border-radius:0 0 15px;box-shadow:inset 2px 2px 4px #c9a22780,2px 2px 6px #0000004d;z-index:10}.header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-6px;right:-6px;width:50px;height:50px;background:linear-gradient(-45deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(135deg,#ffd44b,#b8941f);border-radius:15px 0 0;box-shadow:inset -2px -2px 4px #c9a22780,-2px -2px 6px #0000004d;z-index:10}.corner-ornament[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;z-index:15}.corner-ornament[_ngcontent-%COMP%]:before, .corner-ornament[_ngcontent-%COMP%]:after{content:"";position:absolute;background:linear-gradient(135deg,#ffd44b,#b8941f);border-radius:50%}.corner-top-left[_ngcontent-%COMP%]{top:8px;left:8px}.corner-top-left[_ngcontent-%COMP%]:before{width:12px;height:12px;top:0;left:0;box-shadow:0 0 8px #c9a227cc}.corner-top-left[_ngcontent-%COMP%]:after{width:8px;height:8px;top:16px;left:16px;box-shadow:0 0 6px #b8941f99}.corner-top-right[_ngcontent-%COMP%]{top:8px;right:8px}.corner-top-right[_ngcontent-%COMP%]:before{width:12px;height:12px;top:0;right:0;box-shadow:0 0 8px #c9a227cc}.corner-top-right[_ngcontent-%COMP%]:after{width:8px;height:8px;top:16px;right:16px;box-shadow:0 0 6px #b8941f99}.corner-bottom-left[_ngcontent-%COMP%]{bottom:8px;left:8px}.corner-bottom-left[_ngcontent-%COMP%]:before{width:12px;height:12px;bottom:0;left:0;box-shadow:0 0 8px #c9a227cc}.corner-bottom-left[_ngcontent-%COMP%]:after{width:8px;height:8px;bottom:16px;left:16px;box-shadow:0 0 6px #b8941f99}.corner-bottom-right[_ngcontent-%COMP%]{bottom:8px;right:8px}.corner-bottom-right[_ngcontent-%COMP%]:before{width:12px;height:12px;bottom:0;right:0;box-shadow:0 0 8px #c9a227cc}.corner-bottom-right[_ngcontent-%COMP%]:after{width:8px;height:8px;bottom:16px;right:16px;box-shadow:0 0 6px #b8941f99}.title[_ngcontent-%COMP%]{font-size:3rem;margin:0;color:#2c1810;text-shadow:2px 2px 0px rgba(139,69,19,.4),-1px -1px 0px rgba(0,0,0,.3);font-weight:700;line-height:1.3;font-family:Old London,cursive;letter-spacing:3px;position:relative;z-index:10}.date[_ngcontent-%COMP%]{font-size:1.1rem;color:#654321;margin-top:12px;font-weight:700;text-transform:capitalize;text-shadow:2px 2px 0px rgba(139,69,19,.3),-1px -1px 0px rgba(255,255,255,.5);font-style:italic;font-family:MedievalSharp,serif;position:relative;z-index:10}.counter-section[_ngcontent-%COMP%]{padding:25px;margin-bottom:20px}.counter-section[_ngcontent-%COMP%]:before, .counter-section[_ngcontent-%COMP%]:after{content:"\\2726";position:absolute;font-size:2rem;color:var(--medieval-gold);text-shadow:2px 2px 4px rgba(0,0,0,.5)}.counter-section[_ngcontent-%COMP%]:before{top:-10px;left:-10px}.counter-section[_ngcontent-%COMP%]:after{bottom:-10px;right:-10px}.table-container[_ngcontent-%COMP%]{perspective:1000px}.table-top[_ngcontent-%COMP%]{position:relative;width:100%;max-width:380px;height:380px;margin:0 auto;background:linear-gradient(135deg,#654321,#8b6914,#654321,#8b6914,#654321);border:12px solid var(--medieval-brown);border-radius:50%;box-shadow:0 15px 40px #00000080,inset 0 0 60px #0000004d,inset 0 0 100px #8b451366,0 0 0 4px var(--medieval-gold);display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(30deg)}.table-wood-grain[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:50%;background:repeating-linear-gradient(90deg,transparent,transparent 8px,rgba(0,0,0,.1) 8px,rgba(0,0,0,.1) 12px),repeating-linear-gradient(45deg,transparent,transparent 20px,rgba(101,67,33,.05) 20px,rgba(101,67,33,.05) 40px);pointer-events:none}.table-top[_ngcontent-%COMP%]:before{content:"\\269c\\fe0f";position:absolute;top:15%;left:50%;transform:translate(-50%);font-size:2rem;opacity:.3;z-index:1}.counter-number[_ngcontent-%COMP%]{font-size:4.5rem;font-weight:900;color:var(--medieval-gold);text-shadow:4px 4px 0px var(--medieval-brown),0 0 30px rgba(212,175,55,.8),0 0 50px rgba(255,215,0,.6);line-height:1;z-index:10;position:relative;font-family:UnifrakturMaguntia,serif;animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{text-shadow:4px 4px 0px var(--medieval-brown),0 0 30px rgba(212,175,55,.8),0 0 50px rgba(255,215,0,.6)}to{text-shadow:4px 4px 0px var(--medieval-brown),0 0 40px rgba(212,175,55,1),0 0 70px rgba(255,215,0,.8)}}.counter-label[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--parchment);margin-top:8px;font-weight:700;text-transform:uppercase;letter-spacing:3px;z-index:10;position:relative;text-shadow:3px 3px 6px rgba(0,0,0,.7);font-family:MedievalSharp,serif}.plates-container[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.plate[_ngcontent-%COMP%]{position:absolute;width:55px;height:55px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#e8e8e8,#a9a9a9);border:4px solid var(--medieval-brown);box-shadow:0 6px 12px #0006,inset 0 0 15px #0003,inset 0 2px 4px #ffffff80;animation:_ngcontent-%COMP%_plateAppear .6s ease-out}.plate-inner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:38px;height:38px;border-radius:50%;border:3px solid #808080;background:radial-gradient(circle at 40% 40%,#d3d3d3,#999)}@keyframes _ngcontent-%COMP%_plateAppear{0%{transform:translate(-50%,-50%) scale(0) rotate(360deg);opacity:0}to{transform:translate(-50%,-50%) scale(1) rotate(0);opacity:1}}.add-section[_ngcontent-%COMP%]{margin-bottom:20px;background:var(--parchment);padding:30px 20px 20px;border:5px double var(--medieval-brown);box-shadow:var(--castle-shadow);position:relative}.section-title[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:15px;margin-top:8px;color:var(--medieval-red);text-align:center;font-weight:700;text-shadow:2px 2px 0px var(--medieval-gold),3px 3px 6px rgba(0,0,0,.3);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;white-space:nowrap;overflow:visible;display:flex;align-items:center;justify-content:space-between;flex-wrap:nowrap;width:100%}.family-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:15px}.member-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:8px}.member-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--royal-blue) 0%,#003d99 100%);color:var(--medieval-gold);border:5px solid var(--medieval-gold);border-radius:8px;padding:18px 14px;font-size:1.1rem;font-weight:700;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease;box-shadow:var(--castle-shadow),inset 0 0 20px #0000004d;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:1px;position:relative;overflow:hidden}.member-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shine 3s infinite}@keyframes _ngcontent-%COMP%_shine{0%{transform:translate(-100%) translateY(-100%) rotate(45deg)}to{transform:translate(100%) translateY(100%) rotate(45deg)}}.member-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translate(-3px,-3px) scale(1.02);box-shadow:8px 8px #0006,inset 0 0 30px #0003,0 0 20px #d4af3780;border-color:gold}.member-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(3px,3px);box-shadow:3px 3px #0006}.member-btn.registered[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--medieval-green) 0%,#3d6b28 100%);color:var(--medieval-gold);cursor:default;border-color:var(--medieval-gold)}.member-btn.registered[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:-8px;right:-8px;background:var(--medieval-gold);color:var(--medieval-green);width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;border:3px solid var(--medieval-brown);box-shadow:0 2px 6px #00000080}.member-status[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.member-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{flex:1;border:4px solid var(--medieval-brown);border-radius:6px;padding:10px 8px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:3px 3px #0000004d;font-family:MedievalSharp,serif;position:relative}.action-btn[_ngcontent-%COMP%]:hover{transform:translate(-2px,-2px);box-shadow:5px 5px #00000059}.action-btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px);box-shadow:1px 1px #0003}.guest-add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--dragon-fire) 0%,#cc3700 100%);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.guest-add-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff5722,#ff4500);box-shadow:5px 5px #00000059,0 0 15px #ff450099}.member-remove-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);color:var(--medieval-gold);text-shadow:2px 2px 4px rgba(0,0,0,.7)}.member-remove-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);box-shadow:5px 5px #00000059,0 0 15px #8b000099}.participants-section[_ngcontent-%COMP%]{margin-top:20px;background:var(--parchment-dark);padding:20px;border:5px double var(--medieval-brown);box-shadow:var(--castle-shadow);position:relative}.participants-section[_ngcontent-%COMP%]:before{content:"\\1f451";position:absolute;top:-25px;right:20px;font-size:2rem;background:var(--medieval-gold);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:4px solid var(--medieval-brown);box-shadow:0 4px 8px #0006;text-align:center}.participants-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.participant-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff8e7 0%,var(--parchment) 100%);padding:14px;border:4px solid var(--medieval-brown);border-left:8px solid var(--medieval-gold);display:flex;justify-content:space-between;align-items:center;box-shadow:4px 4px #0003;transition:transform .3s ease;position:relative}.participant-card[_ngcontent-%COMP%]:hover{transform:translate(8px);box-shadow:6px 6px #00000040}.participant-card[_ngcontent-%COMP%]:before{content:"\\25c6";position:absolute;left:-6px;top:50%;transform:translateY(-50%);color:var(--medieval-gold);font-size:1.2rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.participant-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.participant-icon[_ngcontent-%COMP%]{font-size:1.8rem;filter:drop-shadow(2px 2px 3px rgba(0,0,0,.3))}.participant-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.participant-name[_ngcontent-%COMP%]{font-weight:700;color:var(--medieval-brown);font-size:1.1rem;font-family:MedievalSharp,serif;text-shadow:1px 1px 2px rgba(212,175,55,.3)}.participant-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;font-family:MedievalSharp,serif}.remove-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);border:3px solid var(--medieval-brown);color:var(--medieval-gold);font-size:1.4rem;cursor:pointer;width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;font-weight:700;flex-shrink:0;box-shadow:0 4px 8px #0000004d;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.remove-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:rotate(90deg) scale(1.1);box-shadow:0 6px 12px #0006,0 0 20px #8b000099}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#3d2817e6;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .4s ease;padding:20px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal[_ngcontent-%COMP%]{background:var(--parchment);padding:30px;border:8px double var(--medieval-brown);box-shadow:0 15px 60px #0009,inset 0 0 40px #8b45131a;width:100%;max-width:400px;position:relative;animation:_ngcontent-%COMP%_slideDown .4s ease}.modal[_ngcontent-%COMP%]:before, .modal[_ngcontent-%COMP%]:after{content:"\\1f531";position:absolute;font-size:2rem;top:-20px}.modal[_ngcontent-%COMP%]:before{left:20px}.modal[_ngcontent-%COMP%]:after{right:20px}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100px) scale(.8);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.modal-title[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:20px;color:var(--medieval-red);text-align:center;font-weight:700;font-family:MedievalSharp,serif;text-shadow:2px 2px 0px var(--medieval-gold);text-transform:uppercase;letter-spacing:2px}.guest-input[_ngcontent-%COMP%]{width:100%;padding:14px;border:4px solid var(--medieval-brown);border-radius:6px;font-size:1.1rem;margin-bottom:20px;font-family:MedievalSharp,serif;background:#fff8e7;box-sizing:border-box;box-shadow:inset 0 2px 6px #0003}.guest-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--medieval-gold);box-shadow:inset 0 2px 6px #0003,0 0 0 4px #d4af374d}.modal-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{flex:1;padding:14px;border:4px solid var(--medieval-brown);border-radius:6px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:4px 4px #0000004d;font-family:MedievalSharp,serif;text-transform:uppercase}.btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b8680,#6b6660);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.btn-cancel[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7b7670,#5b5650);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059}.btn-confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--medieval-gold) 0%,#c9a227 100%);color:var(--medieval-brown);text-shadow:1px 1px 2px rgba(255,255,255,.5)}.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#ffd700 0%,var(--medieval-gold) 100%);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059,0 0 20px #d4af3799}.btn-confirm[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#aaa,#888);color:#555;cursor:not-allowed;opacity:.6}.footer[_ngcontent-%COMP%]{margin-top:25px;text-align:center;padding:15px}.reset-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);color:var(--medieval-gold);border:5px solid var(--medieval-gold);border-radius:8px;padding:15px 35px;font-size:1.2rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:var(--castle-shadow);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.reset-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:translate(-3px,-3px) scale(1.05);box-shadow:8px 8px #0006,0 0 25px #8b0000b3;border-color:gold}.reset-btn[_ngcontent-%COMP%]:active{transform:translate(3px,3px);box-shadow:3px 3px #0000004d}@media screen and (max-width: 500px){.container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{padding:15px 12px;margin-bottom:15px}.title[_ngcontent-%COMP%]{font-size:1.4rem;letter-spacing:1px;padding-top:2.3rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1.2rem;margin:0 6px}.date[_ngcontent-%COMP%]{font-size:.85rem;margin-top:8px}.counter-section[_ngcontent-%COMP%]{padding:15px 10px;margin-bottom:15px}.table-top[_ngcontent-%COMP%]{max-width:280px;height:280px;transform:rotateX(25deg)}.counter-number[_ngcontent-%COMP%]{font-size:3rem}.counter-label[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:2px}.plate[_ngcontent-%COMP%]{width:45px;height:45px}.plate-inner[_ngcontent-%COMP%]{width:32px;height:32px}.add-section[_ngcontent-%COMP%]{padding-top:25px}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:12px;margin-top:5px}.title-decoration[_ngcontent-%COMP%]{margin:0 6px}.family-grid[_ngcontent-%COMP%]{gap:8px;grid-template-columns:repeat(2,1fr)}.member-btn[_ngcontent-%COMP%]{padding:12px 10px;font-size:.95rem}.member-status[_ngcontent-%COMP%]{font-size:1.2rem}.action-btn[_ngcontent-%COMP%]{padding:8px 6px;font-size:.95rem}.participant-card[_ngcontent-%COMP%]{padding:10px}.participant-icon[_ngcontent-%COMP%]{font-size:1.4rem}.participant-name[_ngcontent-%COMP%]{font-size:.95rem}.participant-label[_ngcontent-%COMP%]{font-size:.75rem}.remove-btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1.1rem}.modal[_ngcontent-%COMP%]{padding:20px 15px;width:92%}.modal-title[_ngcontent-%COMP%]{font-size:1.2rem}.guest-input[_ngcontent-%COMP%]{padding:10px;font-size:1rem}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{padding:10px;font-size:.9rem}.reset-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:.95rem}.torch[_ngcontent-%COMP%]{font-size:2rem}.participants-section[_ngcontent-%COMP%]:before{font-size:1.5rem;width:40px;height:40px;top:-20px;right:15px}.participants-section[_ngcontent-%COMP%]{padding-top:25px}}@media screen and (max-width: 350px){.family-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.title[_ngcontent-%COMP%]{font-size:1.2rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1rem}.table-top[_ngcontent-%COMP%]{max-width:250px;height:250px}.counter-number[_ngcontent-%COMP%]{font-size:2.5rem}.counter-label[_ngcontent-%COMP%]{font-size:.8rem}.plate[_ngcontent-%COMP%]{width:40px;height:40px}.plate-inner[_ngcontent-%COMP%]{width:28px;height:28px}.add-section[_ngcontent-%COMP%]{padding-top:22px}.section-title[_ngcontent-%COMP%]{margin-top:4px}.title-decoration[_ngcontent-%COMP%]{margin:0 5px}}@media screen and (min-width: 351px) and (max-width: 400px){.container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{padding:18px 14px;min-height:160px}.title[_ngcontent-%COMP%]{font-size:1.8rem;letter-spacing:1.5px;line-height:1.4;padding-top:2.3rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1.15rem;margin:0 8px}.date[_ngcontent-%COMP%]{font-size:.9rem;margin-top:10px}.table-top[_ngcontent-%COMP%]{max-width:265px;height:265px}.counter-number[_ngcontent-%COMP%]{font-size:2.8rem}.counter-label[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:1.5px}.plate[_ngcontent-%COMP%]{width:42px;height:42px}.plate-inner[_ngcontent-%COMP%]{width:30px;height:30px}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;letter-spacing:1px;line-height:1.5;margin-bottom:14px;margin-top:5px;word-spacing:2px}.title-decoration[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 6px;display:inline-block}.family-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:9px}.member-btn[_ngcontent-%COMP%]{padding:13px 11px;font-size:.97rem}.member-status[_ngcontent-%COMP%]{font-size:1.25rem}.action-btn[_ngcontent-%COMP%]{padding:9px 7px;font-size:.97rem}.participant-icon[_ngcontent-%COMP%]{font-size:1.45rem}.participant-name[_ngcontent-%COMP%]{font-size:.97rem}.participant-label[_ngcontent-%COMP%]{font-size:.78rem}.participants-section[_ngcontent-%COMP%]:before{font-size:1.6rem;width:42px;height:42px;top:-21px}.add-section[_ngcontent-%COMP%]:before{font-size:1.5rem;width:40px;height:40px;top:-12px}.modal[_ngcontent-%COMP%]{padding:22px 16px;width:90%}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.torch[_ngcontent-%COMP%]{font-size:2.2rem}.banner-flag[_ngcontent-%COMP%]{font-size:3.2rem}.candelabra[_ngcontent-%COMP%]{font-size:2.2rem}.trumpet[_ngcontent-%COMP%]{font-size:2rem}.royal-seal[_ngcontent-%COMP%]{font-size:2.5rem}.footer-ornament[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 12px}.participant-card[_ngcontent-%COMP%]:before{font-size:1.3rem;left:-10px}.reset-btn[_ngcontent-%COMP%]{padding:12px 22px;font-size:.98rem}.reset-icon[_ngcontent-%COMP%]{font-size:1.15rem}.foundation-stone[_ngcontent-%COMP%]{font-size:1.6rem}}*[_ngcontent-%COMP%]{font-variant-emoji:emoji;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.participant-icon[_ngcontent-%COMP%], .member-status[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after, .torch[_ngcontent-%COMP%], .participants-section[_ngcontent-%COMP%]:before{font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji",sans-serif;display:inline-block}.castle-decoration-top[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:30px;padding:20px 0}.torch[_ngcontent-%COMP%]{position:absolute;top:0;font-size:3rem;filter:drop-shadow(0 0 20px rgba(255,140,0,.8))}.torch-left[_ngcontent-%COMP%]{left:10px}.torch-right[_ngcontent-%COMP%]{right:10px}.castle-banner[_ngcontent-%COMP%]{display:inline-block;position:relative}.banner-flag[_ngcontent-%COMP%]{font-size:4rem;filter:drop-shadow(0 8px 15px rgba(0,0,0,.4))}.herald-left[_ngcontent-%COMP%], .herald-right[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:2.5rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.5))}.herald-left[_ngcontent-%COMP%]{left:-15px}.herald-right[_ngcontent-%COMP%]{right:-15px}.feast-banner[_ngcontent-%COMP%]{position:absolute;top:20px;font-size:3rem;filter:drop-shadow(0 6px 10px rgba(0,0,0,.4))}.feast-banner-left[_ngcontent-%COMP%]{left:-10px}.feast-banner-right[_ngcontent-%COMP%]{right:-10px}.candelabra[_ngcontent-%COMP%]{position:absolute;bottom:20px;font-size:2.5rem;filter:drop-shadow(0 0 15px rgba(255,200,100,.8))}.candelabra-left[_ngcontent-%COMP%]{left:15px;cursor:pointer}.candelabra-right[_ngcontent-%COMP%]{right:15px}.royal-crown[_ngcontent-%COMP%]{position:absolute;top:-25px;left:50%;transform:translate(-50%);font-size:3rem;filter:drop-shadow(0 0 20px rgba(255,215,0,.8));z-index:10}.title-decoration[_ngcontent-%COMP%]{display:inline-block}.section-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:15px;border-top:3px double var(--medieval-gold)}.footer-ornament[_ngcontent-%COMP%]{display:inline-block;margin:0 15px;font-size:1.5rem;color:var(--medieval-gold)}.trumpet[_ngcontent-%COMP%]{position:absolute;top:15px;font-size:2.5rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}.trumpet-left[_ngcontent-%COMP%]{left:10px;transform:rotate(30deg)}.trumpet-right[_ngcontent-%COMP%]{right:10px;transform:rotate(30deg)}.royal-seal[_ngcontent-%COMP%]{position:absolute;bottom:-20px;right:20px;font-size:3rem;filter:drop-shadow(0 6px 12px rgba(139,0,0,.6))}.modal-banner[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%);width:100%;text-align:center}.modal-crown[_ngcontent-%COMP%]{font-size:3.5rem;display:inline-block;filter:drop-shadow(0 0 25px rgba(255,215,0,.9))}.modal-decoration[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:15px;border-top:2px solid var(--medieval-gold)}.modal-decoration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:1.2rem;color:var(--medieval-gold)}.btn-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:8px;font-size:1.2rem}.footer-decoration[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%)}.footer-shield[_ngcontent-%COMP%]{font-size:3rem;display:inline-block;filter:drop-shadow(0 8px 15px rgba(0,0,0,.5))}.reset-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;font-size:1.3rem}.castle-decoration-bottom[_ngcontent-%COMP%]{margin-top:40px;padding:30px 0;text-align:center;border-top:5px double var(--medieval-gold);position:relative}.castle-foundation[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;padding-bottom:50px}.foundation-stone[_ngcontent-%COMP%]{font-size:2rem;color:var(--medieval-stone)}.candle-easter-egg[_ngcontent-%COMP%]{position:absolute;bottom:60px;cursor:pointer;transition:all .3s ease;z-index:100}.candle-easter-egg-left[_ngcontent-%COMP%]{left:20px}.candle-easter-egg[_ngcontent-%COMP%]:hover   .candle-lever[_ngcontent-%COMP%]{transform:scale(1.2);filter:drop-shadow(0 0 15px rgba(255,200,0,.8))}.candle-lever[_ngcontent-%COMP%]{font-size:2.5rem;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);display:inline-block;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3))}.candle-easter-egg.activated[_ngcontent-%COMP%]   .candle-lever[_ngcontent-%COMP%]{transform:translateY(15px) rotate(-10deg);animation:_ngcontent-%COMP%_leverPull .6s ease-out;filter:drop-shadow(0 0 20px rgba(255,140,0,1))}@keyframes _ngcontent-%COMP%_leverPull{0%{transform:translateY(0) rotate(0)}30%{transform:translateY(20px) rotate(-15deg)}50%{transform:translateY(18px) rotate(-12deg)}70%{transform:translateY(16px) rotate(-11deg)}to{transform:translateY(15px) rotate(-10deg)}}.candle-mechanism[_ngcontent-%COMP%]{position:absolute;top:-60px;left:50%;transform:translate(-50%);display:flex;gap:15px;animation:_ngcontent-%COMP%_mechanismActivate .5s ease-out}@keyframes _ngcontent-%COMP%_mechanismActivate{0%{opacity:0;transform:translate(-50%) translateY(20px) scale(.5)}to{opacity:1;transform:translate(-50%) translateY(0) scale(1)}}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:2.5rem;animation:_ngcontent-%COMP%_floatNote 2s ease-in-out infinite;filter:drop-shadow(0 0 10px rgba(212,175,55,.8))}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}@keyframes _ngcontent-%COMP%_floatNote{0%,to{transform:translateY(0) rotate(0);opacity:1}25%{transform:translateY(-10px) rotate(5deg);opacity:.8}50%{transform:translateY(-5px) rotate(-5deg);opacity:1}75%{transform:translateY(-8px) rotate(3deg);opacity:.9}}.candle-decoration[_ngcontent-%COMP%]{position:absolute;bottom:8px;font-size:3rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3));animation:candleFlicker 3s ease-in-out infinite;cursor:pointer;transition:all .3s ease;padding:10px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;display:inline-flex;align-items:center;justify-content:center;line-height:1}.candle-decoration[_ngcontent-%COMP%]:hover{transform:scale(1.1);filter:drop-shadow(0 6px 16px rgba(255,200,0,.6))}.candle-decoration-right[_ngcontent-%COMP%]{right:20px}.candle-decoration.candle-clicked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_candleExplosion .8s cubic-bezier(.68,-.55,.265,1.55) forwards,_ngcontent-%COMP%_candleSpin 1.5s ease-in-out .8s forwards,_ngcontent-%COMP%_candleShake .1s ease-in-out infinite,_ngcontent-%COMP%_candleRainbow 2s linear infinite;filter:drop-shadow(0 0 30px rgba(255,200,0,1)) drop-shadow(0 0 60px rgba(255,150,0,.9)) drop-shadow(0 0 90px rgba(255,100,0,.7))!important;z-index:10000}@keyframes _ngcontent-%COMP%_candleExplosion{0%{transform:scale(1) rotate(0)}20%{transform:scale(.5) rotate(-30deg)}40%{transform:scale(2.5) rotate(180deg)}60%{transform:scale(1.8) rotate(360deg)}80%{transform:scale(2.2) rotate(540deg)}to{transform:scale(2) rotate(720deg)}}@keyframes _ngcontent-%COMP%_candleSpin{0%{transform:scale(2) rotate(720deg)}to{transform:scale(2) rotate(1440deg)}}@keyframes _ngcontent-%COMP%_candleShake{0%,to{transform:translate(0) scale(2) rotate(0)}25%{transform:translate(-5px,-5px) scale(2) rotate(-5deg)}50%{transform:translate(5px,5px) scale(2) rotate(5deg)}75%{transform:translate(-5px,5px) scale(2) rotate(-3deg)}}@keyframes _ngcontent-%COMP%_candleRainbow{0%{filter:drop-shadow(0 0 40px rgba(255,0,0,1)) drop-shadow(0 0 80px rgba(255,100,0,.9)) brightness(2)}14%{filter:drop-shadow(0 0 40px rgba(255,165,0,1)) drop-shadow(0 0 80px rgba(255,200,0,.9)) brightness(2)}28%{filter:drop-shadow(0 0 40px rgba(255,255,0,1)) drop-shadow(0 0 80px rgba(200,255,0,.9)) brightness(2)}42%{filter:drop-shadow(0 0 40px rgba(0,255,0,1)) drop-shadow(0 0 80px rgba(0,200,100,.9)) brightness(2)}57%{filter:drop-shadow(0 0 40px rgba(0,0,255,1)) drop-shadow(0 0 80px rgba(0,100,255,.9)) brightness(2)}71%{filter:drop-shadow(0 0 40px rgba(75,0,130,1)) drop-shadow(0 0 80px rgba(100,0,200,.9)) brightness(2)}85%{filter:drop-shadow(0 0 40px rgba(238,130,238,1)) drop-shadow(0 0 80px rgba(255,0,255,.9)) brightness(2)}to{filter:drop-shadow(0 0 40px rgba(255,0,0,1)) drop-shadow(0 0 80px rgba(255,100,0,.9)) brightness(2)}}.candle-particles[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:20px;width:200px;height:200px;pointer-events:none;z-index:9999;transform:translate(50%,50%)}.particle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:2.5rem;opacity:0}.particle[_ngcontent-%COMP%]:nth-child(1){animation:_ngcontent-%COMP%_particleExplosion1 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(2){animation:_ngcontent-%COMP%_particleExplosion2 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(3){animation:_ngcontent-%COMP%_particleExplosion3 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(4){animation:_ngcontent-%COMP%_particleExplosion4 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(5){animation:_ngcontent-%COMP%_particleExplosion5 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(6){animation:_ngcontent-%COMP%_particleExplosion6 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(7){animation:_ngcontent-%COMP%_particleExplosion7 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(8){animation:_ngcontent-%COMP%_particleExplosion8 1.5s ease-out forwards}@keyframes _ngcontent-%COMP%_particleExplosion1{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-150px,-180px) rotate(720deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion2{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(150px,-180px) rotate(-720deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion3{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-180px,-50px) rotate(360deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion4{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(180px,-50px) rotate(-360deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion5{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-120px,150px) rotate(540deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion6{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(120px,150px) rotate(-540deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion7{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-200px,-100px) rotate(900deg) scale(2.5);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion8{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(200px,-100px) rotate(-900deg) scale(2.5);opacity:0}}.candle-shockwave[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:20px;width:80px;height:80px;pointer-events:none;z-index:9998;transform:translate(50%,50%)}.shockwave-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;border:5px solid rgba(255,200,0,.9);border-radius:50%;animation:_ngcontent-%COMP%_shockwaveExpand 1.2s ease-out forwards;box-shadow:0 0 20px #ffc800cc,inset 0 0 20px #ffc80080}.shockwave-ring[_ngcontent-%COMP%]:nth-child(2){animation-delay:.15s;border-color:#ff9600b3;box-shadow:0 0 20px #ff9600cc,inset 0 0 20px #ff960080}.shockwave-ring[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s;border-color:#ff640080;box-shadow:0 0 20px #ff6400cc,inset 0 0 20px #ff640080}@keyframes _ngcontent-%COMP%_shockwaveExpand{0%{transform:translate(-50%,-50%) scale(0);opacity:1}50%{opacity:.8}to{transform:translate(-50%,-50%) scale(10);opacity:0}}.candle-glowing[_ngcontent-%COMP%]{animation:candleGlowing 1s ease-in-out infinite,candleFlicker 3s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(255,200,0,.9)) drop-shadow(0 0 40px rgba(255,150,0,.7))!important}@media screen and (max-width: 500px){.candle-easter-egg-left[_ngcontent-%COMP%]{left:10px}.candle-decoration-right[_ngcontent-%COMP%]{right:5px;bottom:30px}.candle-lever[_ngcontent-%COMP%], .candle-decoration[_ngcontent-%COMP%]{font-size:2rem}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:1.7rem}.candelabra-left[_ngcontent-%COMP%]{bottom:40px}}.night-mode-toggle[_ngcontent-%COMP%]{position:absolute!important;top:-60px!important;right:-8px!important;display:flex;align-items:center;gap:4px;cursor:pointer;z-index:20;background:#fff8e1;padding:4px 6px;border-radius:4px;border:2px solid var(--medieval-gold);box-shadow:0 2px 4px #0003;transition:all .3s ease}.night-mode-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.08);box-shadow:0 3px 6px #0000004d;opacity:1}.toggle-icon[_ngcontent-%COMP%]{font-size:1.1rem;transition:transform .3s ease;line-height:1}.night-mode-toggle[_ngcontent-%COMP%]:hover   .toggle-icon[_ngcontent-%COMP%]{transform:rotate(20deg) scale(1.1)}.toggle-switch[_ngcontent-%COMP%]{position:relative;width:32px;height:18px;background:linear-gradient(135deg,#f4d175,#ffd16f);border-radius:9px;border:1.5px solid var(--medieval-brown);transition:all .4s ease}.toggle-switch.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#b32706,#ec5b1e)}.toggle-slider[_ngcontent-%COMP%]{position:absolute;top:1.5px;left:1.5px;width:13px;height:13px;background:radial-gradient(circle,#fff,#f0f0f0);border-radius:50%;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 1px 3px #0000004d}.toggle-switch.active[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{transform:translate(14px);background:radial-gradient(circle,gold,#f0c020)}.toggle-label[_ngcontent-%COMP%]{display:none}.night-mode[_ngcontent-%COMP%]{border-left-color:#3d2817;border-right-color:#3d2817;box-shadow:inset 5px 0 15px #0009,inset -5px 0 15px #0009,inset 0 0 50px #ff8c421a;background:linear-gradient(90deg,rgba(61,40,23,.2) 0%,transparent 10%,transparent 90%,rgba(61,40,23,.2) 100%)}.night-mode[_ngcontent-%COMP%]   .night-mode-toggle[_ngcontent-%COMP%]{background:#3d2817e6;border-color:var(--night-gold)}.night-mode[_ngcontent-%COMP%]   .night-mode-toggle[_ngcontent-%COMP%]:hover{opacity:1}.night-mode[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:var(--night-text);text-shadow:1px 1px 2px rgba(0,0,0,.5)}.night-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-image:linear-gradient(135deg,#ffb347,#ff8c42,#f4a460,#ffa07a,#ffb347) 1;outline-color:#2d1f12;box-shadow:0 0 0 2px #ff8c42,0 0 0 12px #ff8c4226,inset 0 0 40px #ff8c4233,0 0 30px #ff8c424d;filter:drop-shadow(0 12px 20px rgba(0,0,0,.6)) drop-shadow(0 5px 8px rgba(0,0,0,.4))}.night-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(45deg,#ffa07a,#ff8c42);box-shadow:inset 2px 2px 4px #ff8c4280,2px 2px 6px #0000004d,0 0 15px #ff8c4266}.night-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:after{background:linear-gradient(-45deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:inset -2px -2px 4px #ff8c4280,-2px -2px 6px #0000004d,0 0 15px #ff8c4266}.night-mode[_ngcontent-%COMP%]   .corner-ornament[_ngcontent-%COMP%]:before, .night-mode[_ngcontent-%COMP%]   .corner-ornament[_ngcontent-%COMP%]:after{background:linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:0 0 12px #ff8c4299}.night-mode[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--night-text);text-shadow:2px 2px 0px rgba(255,140,66,.6),-1px -1px 0px rgba(0,0,0,.5),0 0 20px rgba(255,140,66,.5)}.night-mode[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:var(--night-silver);text-shadow:2px 2px 0px rgba(255,140,66,.4),-1px -1px 0px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.3)}.night-mode[_ngcontent-%COMP%]   .table-top[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326,#3d2817,#4a3326,#3d2817);border-color:#2d1f12;box-shadow:0 15px 40px #000000b3,inset 0 0 60px #00000080,inset 0 0 100px #ff8c4226,0 0 0 4px var(--night-orange),0 0 30px #ff8c424d}.night-mode[_ngcontent-%COMP%]   .counter-number[_ngcontent-%COMP%]{color:var(--night-gold);text-shadow:4px 4px 0px #2d1f12,0 0 30px rgba(255,179,71,.9),0 0 50px rgba(255,140,66,.7),0 0 70px rgba(255,107,53,.5)}@keyframes _ngcontent-%COMP%_glowNightWarm{0%{text-shadow:4px 4px 0px #2d1f12,0 0 30px rgba(255,179,71,.9),0 0 50px rgba(255,140,66,.7),0 0 70px rgba(255,107,53,.5)}to{text-shadow:4px 4px 0px #2d1f12,0 0 40px rgba(255,179,71,1),0 0 60px rgba(255,140,66,.9),0 0 80px rgba(255,107,53,.7)}}.night-mode[_ngcontent-%COMP%]   .counter-number[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glowNightWarm 2s ease-in-out infinite alternate}.night-mode[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{color:var(--night-silver);text-shadow:3px 3px 6px rgba(0,0,0,.9),0 0 10px rgba(255,140,66,.3)}.night-mode[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--night-orange);text-shadow:2px 1px 0px var(--night-gold),3px 3px 6px rgba(0,0,0,.5),0 0 15px rgba(255,140,66,.4)}.night-mode[_ngcontent-%COMP%]   .participants-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f12,#3d2817);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .member-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:var(--night-gold);border-color:var(--night-gold);box-shadow:6px 6px #0006,inset 0 0 20px #0000004d,0 0 15px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .member-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:8px 8px #0006,inset 0 0 30px #0003,0 0 25px #ff8c4266}.night-mode[_ngcontent-%COMP%]   .member-btn.registered[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5a4a1a,#3d3010);color:var(--night-gold)}.night-mode[_ngcontent-%COMP%]   .participant-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a3326,#3d2817);border-color:#2d1f12;border-left-color:var(--night-orange);box-shadow:4px 4px #0000004d,0 0 10px #ff8c4226}.night-mode[_ngcontent-%COMP%]   .participant-card[_ngcontent-%COMP%]:hover{box-shadow:6px 6px #00000059,0 0 15px #ff8c4240}.night-mode[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{color:var(--night-text);text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 8px rgba(255,140,66,.2)}.night-mode[_ngcontent-%COMP%]   .participant-label[_ngcontent-%COMP%]{color:var(--night-silver)}.night-mode[_ngcontent-%COMP%]   .participant-card[_ngcontent-%COMP%]:before{color:var(--night-gold);text-shadow:2px 2px 4px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.5)}.night-mode[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:0 15px 60px #000c,inset 0 0 40px #ff8c4226,0 0 30px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:var(--night-orange);text-shadow:2px 1px 0px var(--night-gold),0 0 15px rgba(255,140,66,.4)}.night-mode[_ngcontent-%COMP%]   .guest-input[_ngcontent-%COMP%]{background:#2d1f12;border-color:#1f1409;color:var(--night-text)}.night-mode[_ngcontent-%COMP%]   .guest-input[_ngcontent-%COMP%]::placeholder{color:var(--night-silver);opacity:.6}.night-mode[_ngcontent-%COMP%]   .guest-input[_ngcontent-%COMP%]:focus{border-color:var(--night-gold);box-shadow:inset 0 2px 6px #0006,0 0 0 4px #ffb3474d,0 0 15px #ff8c424d}.night-mode[_ngcontent-%COMP%]   .footer-ornament[_ngcontent-%COMP%]{color:var(--night-gold);text-shadow:0 0 10px rgba(255,140,66,.5)}.night-mode[_ngcontent-%COMP%]   .foundation-stone[_ngcontent-%COMP%]{color:#5a4a3d;text-shadow:0 0 5px rgba(255,140,66,.2)}.night-mode[_ngcontent-%COMP%]   .torch[_ngcontent-%COMP%], .night-mode[_ngcontent-%COMP%]   .candelabra[_ngcontent-%COMP%], .night-mode[_ngcontent-%COMP%]   .candle-decoration[_ngcontent-%COMP%]{filter:drop-shadow(0 0 25px rgba(255,140,66,.9)) drop-shadow(0 0 40px rgba(255,107,53,.6))!important}.night-mode[_ngcontent-%COMP%]   .counter-section[_ngcontent-%COMP%]:before, .night-mode[_ngcontent-%COMP%]   .counter-section[_ngcontent-%COMP%]:after{color:var(--night-gold);text-shadow:2px 2px 4px rgba(0,0,0,.5),0 0 15px rgba(255,140,66,.6)}@media screen and (max-width: 500px){.night-mode-toggle[_ngcontent-%COMP%]{top:8px;right:8px;padding:3px 5px;gap:3px}.toggle-icon[_ngcontent-%COMP%]{font-size:1rem}.toggle-switch[_ngcontent-%COMP%]{width:28px;height:16px}.toggle-slider[_ngcontent-%COMP%]{width:11px;height:11px}.toggle-switch.active[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{transform:translate(12px)}}.shopping-list-toggle[_ngcontent-%COMP%]{visibility:hidden;position:absolute!important;top:-68px!important;left:-8px!important;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;background:#fff8e1;padding:8px;border-radius:4px;border:2px solid var(--medieval-gold);box-shadow:0 2px 4px #0003;transition:all .3s ease}.shopping-list-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.08);box-shadow:0 3px 6px #0000004d}.shopping-icon[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1;transition:transform .3s ease}.shopping-list-toggle[_ngcontent-%COMP%]:hover   .shopping-icon[_ngcontent-%COMP%]{transform:rotate(-10deg) scale(1.1)}.night-mode[_ngcontent-%COMP%]   .shopping-list-toggle[_ngcontent-%COMP%]{background:#3d2817e6;border-color:var(--night-gold)}.shopping-list-page[_ngcontent-%COMP%]{min-height:100vh;padding:20px 0}.shopping-list-header-bar[_ngcontent-%COMP%]{padding-left:16px;margin-bottom:20px;text-align:left}.back-btn[_ngcontent-%COMP%]{padding:15px 30px;background:linear-gradient(135deg,#d4af37,#c9a227);color:#3d2817;border:5px solid #3d2817;border-radius:8px;font-size:.9em;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:6px 6px #0006;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;text-shadow:1px 1px 2px rgba(255,255,255,.5)}.back-btn[_ngcontent-%COMP%]:hover{transform:translate(-3px,-3px);box-shadow:8px 8px #0006,0 0 20px #d4af3799;background:linear-gradient(135deg,gold,#d4af37)}.back-btn[_ngcontent-%COMP%]:active{transform:translate(3px,3px);box-shadow:3px 3px #0000004d}.night-mode[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffb347,#ff8c42);color:#2d1f12;border-color:#2d1f12;box-shadow:6px 6px #0009}.night-mode[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffc470,#ffb347);box-shadow:8px 8px #0009,0 0 20px #ff8c4299}']})};ku($a,Q_).catch(e=>console.error(e));
