var qC=Object.defineProperty,YC=Object.defineProperties;var KC=Object.getOwnPropertyDescriptors;var Go=Object.getOwnPropertySymbols;var $p=Object.prototype.hasOwnProperty,zp=Object.prototype.propertyIsEnumerable;var Up=(t,e,n)=>e in t?qC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})$p.call(e,n)&&Up(t,n,e[n]);if(Go)for(var n of Go(e))zp.call(e,n)&&Up(t,n,e[n]);return t},ne=(t,e)=>YC(t,KC(e));var Wo=(t,e)=>{var n={};for(var r in t)$p.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Go)for(var r of Go(t))e.indexOf(r)<0&&zp.call(t,r)&&(n[r]=t[r]);return n};var K=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});function hc(t,e){return Object.is(t,e)}var ge=null,qo=!1,pc=1,ot=Symbol("SIGNAL");function B(t){let e=ge;return ge=t,e}function gc(){return ge}var gi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ko(t){if(qo)throw new Error("");if(ge===null)return;ge.consumerOnSignalRead(t);let e=ge.nextProducerIndex++;if(Jo(ge),e<ge.producerNode.length&&ge.producerNode[e]!==t&&pi(ge)){let n=ge.producerNode[e];Qo(n,ge.producerIndexOfThis[e])}ge.producerNode[e]!==t&&(ge.producerNode[e]=t,ge.producerIndexOfThis[e]=pi(ge)?Wp(t,ge,e):0),ge.producerLastReadVersion[e]=t.version}function Gp(){pc++}function mc(t){if(!(pi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===pc)){if(!t.producerMustRecompute(t)&&!Ec(t)){fc(t);return}t.producerRecomputeValue(t),fc(t)}}function yc(t){if(t.liveConsumerNode===void 0)return;let e=qo;qo=!0;try{for(let n of t.liveConsumerNode)n.dirty||ZC(n)}finally{qo=e}}function _c(){return ge?.consumerAllowSignalWrites!==!1}function ZC(t){t.dirty=!0,yc(t),t.consumerMarkedDirty?.(t)}function fc(t){t.dirty=!1,t.lastCleanEpoch=pc}function Zo(t){return t&&(t.nextProducerIndex=0),B(t)}function vc(t,e){if(B(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(pi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Qo(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ec(t){Jo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mc(n),r!==n.version))return!0}return!1}function bc(t){if(Jo(t),pi(t))for(let e=0;e<t.producerNode.length;e++)Qo(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wp(t,e,n){if(qp(t),t.liveConsumerNode.length===0&&Yp(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Wp(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Qo(t,e){if(qp(t),t.liveConsumerNode.length===1&&Yp(t))for(let r=0;r<t.producerNode.length;r++)Qo(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jo(i),i.producerIndexOfThis[r]=e}}function pi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Yp(t){return t.producerNode!==void 0}function Cc(t,e){let n=Object.create(QC);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(mc(n),Ko(n),n.value===Yo)throw n.error;return n.value};return r[ot]=n,r}var uc=Symbol("UNSET"),dc=Symbol("COMPUTING"),Yo=Symbol("ERRORED"),QC=ne(S({},gi),{value:uc,dirty:!0,error:null,equal:hc,kind:"computed",producerMustRecompute(t){return t.value===uc||t.value===dc},producerRecomputeValue(t){if(t.value===dc)throw new Error("Detected cycle in computations.");let e=t.value;t.value=dc;let n=Zo(t),r,i=!1;try{r=t.computation(),B(null),i=e!==uc&&e!==Yo&&r!==Yo&&t.equal(e,r)}catch(o){r=Yo,t.error=o}finally{vc(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function JC(){throw new Error}var Kp=JC;function Zp(t){Kp(t)}function wc(t){Kp=t}var XC=null;function Dc(t,e){let n=Object.create(Mc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Ko(n),n.value);return r[ot]=n,r}function Xo(t,e){_c()||Zp(t),t.equal(t.value,e)||(t.value=e,ew(t))}function Ic(t,e){_c()||Zp(t),Xo(t,e(t.value))}var Mc=ne(S({},gi),{equal:hc,value:void 0,kind:"signal"});function ew(t){t.version++,Gp(),yc(t),XC?.()}function xc(t){let e=B(null);try{return t()}finally{B(e)}}var Sc;function mi(){return Sc}function Lt(t){let e=Sc;return Sc=t,e}var es=Symbol("NotFound");function U(t){return typeof t=="function"}function ts(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ns=ts(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(o){e=o instanceof ns?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Qp(o)}catch(s){e=e??[],s instanceof ns?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ns(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Qp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yi(n,e)}remove(e){let{_finalizers:n}=this;n&&yi(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var Tc=Se.EMPTY;function rs(t){return t instanceof Se||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Qp(t){U(t)?t():t.unsubscribe()}var st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ur={setTimeout(t,e,...n){let{delegate:r}=ur;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ur;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function is(t){ur.setTimeout(()=>{let{onUnhandledError:e}=st;if(e)e(t);else throw t})}function Nc(){}var Jp=Ac("C",void 0,void 0);function Xp(t){return Ac("E",void 0,t)}function eg(t){return Ac("N",t,void 0)}function Ac(t,e,n){return{kind:t,value:e,error:n}}var Dn=null;function dr(t){if(st.useDeprecatedSynchronousErrorHandling){let e=!Dn;if(e&&(Dn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Dn;if(Dn=null,n)throw r}}else t()}function tg(t){st.useDeprecatedSynchronousErrorHandling&&Dn&&(Dn.errorThrown=!0,Dn.error=t)}var In=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rs(e)&&e.add(this)):this.destination=sw}static create(e,n,r){return new fr(e,n,r)}next(e){this.isStopped?Pc(eg(e),this):this._next(e)}error(e){this.isStopped?Pc(Xp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pc(Jp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iw=Function.prototype.bind;function Oc(t,e){return iw.call(t,e)}var Rc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){os(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){os(r)}else os(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){os(n)}}},fr=class extends In{constructor(e,n,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&st.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Oc(e.next,o),error:e.error&&Oc(e.error,o),complete:e.complete&&Oc(e.complete,o)}):i=e}this.destination=new Rc(i)}};function os(t){st.useDeprecatedSynchronousErrorHandling?tg(t):is(t)}function ow(t){throw t}function Pc(t,e){let{onStoppedNotification:n}=st;n&&ur.setTimeout(()=>n(t,e))}var sw={closed:!0,next:Nc,error:ow,complete:Nc};var hr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ss(t){return t}function ng(t){return t.length===0?ss:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=lw(n)?n:new fr(n,r,i);return dr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rg(r),new r((i,o)=>{let s=new fr({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hr](){return this}pipe(...n){return ng(n)(this)}toPromise(n){return n=rg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function rg(t){var e;return(e=t??st.Promise)!==null&&e!==void 0?e:Promise}function aw(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function lw(t){return t&&t instanceof In||aw(t)&&rs(t)}function cw(t){return U(t?.lift)}function rn(t){return e=>{if(cw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function on(t,e,n,r,i){return new kc(t,e,n,r,i)}var kc=class extends In{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ig=ts(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Vt=(()=>{class t extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new as(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ig}next(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tc:(this.currentObservers=null,o.push(n),new Se(()=>{this.currentObservers=null,yi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ee;return n.source=this,n}}return t.create=(e,n)=>new as(e,n),t})(),as=class extends Vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Tc}};var at=class extends Vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function og(t){return t&&U(t.schedule)}function sg(t){return t[t.length-1]}function ag(t){return U(sg(t))?t.pop():void 0}function lg(t){return og(sg(t))?t.pop():void 0}function ug(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function cg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mn(t){return this instanceof Mn?(this.v=t,this):new Mn(t)}function dg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(E,T){o.push([h,g,E,T])>1||l(h,g)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(g){f(o[0][3],g)}}function c(h){h.value instanceof Mn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function fg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cg=="function"?cg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var ls=t=>t&&typeof t.length=="number"&&typeof t!="function";function cs(t){return U(t?.then)}function us(t){return U(t[hr])}function ds(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function fs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hs=uw();function ps(t){return U(t?.[hs])}function gs(t){return dg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mn(n.read());if(i)return yield Mn(void 0);yield yield Mn(r)}}finally{n.releaseLock()}})}function ms(t){return U(t?.getReader)}function sn(t){if(t instanceof Ee)return t;if(t!=null){if(us(t))return dw(t);if(ls(t))return fw(t);if(cs(t))return hw(t);if(ds(t))return hg(t);if(ps(t))return pw(t);if(ms(t))return gw(t)}throw fs(t)}function dw(t){return new Ee(e=>{let n=t[hr]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fw(t){return new Ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function hw(t){return new Ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,is)})}function pw(t){return new Ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hg(t){return new Ee(e=>{mw(t,e).catch(n=>e.error(n))})}function gw(t){return hg(gs(t))}function mw(t,e){var n,r,i,o;return ug(this,void 0,void 0,function*(){try{for(n=fg(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ys(t,e=0){return rn((n,r)=>{n.subscribe(on(r,i=>bt(r,t,()=>r.next(i),e),()=>bt(r,t,()=>r.complete(),e),i=>bt(r,t,()=>r.error(i),e)))})}function _s(t,e=0){return rn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pg(t,e){return sn(t).pipe(_s(e),ys(e))}function gg(t,e){return sn(t).pipe(_s(e),ys(e))}function mg(t,e){return new Ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yg(t,e){return new Ee(n=>{let r;return bt(n,e,()=>{r=t[hs](),bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function vs(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ee(n=>{bt(n,e,()=>{let r=t[Symbol.asyncIterator]();bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _g(t,e){return vs(gs(t),e)}function vg(t,e){if(t!=null){if(us(t))return pg(t,e);if(ls(t))return mg(t,e);if(cs(t))return gg(t,e);if(ds(t))return vs(t,e);if(ps(t))return yg(t,e);if(ms(t))return _g(t,e)}throw fs(t)}function _i(t,e){return e?vg(t,e):sn(t)}function Fc(...t){let e=lg(t);return _i(t,e)}function xn(t,e){return rn((n,r)=>{let i=0;n.subscribe(on(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:yw}=Array;function _w(t,e){return yw(e)?t(...e):t(e)}function Eg(t){return xn(e=>_w(t,e))}var{isArray:vw}=Array,{getPrototypeOf:Ew,prototype:bw,keys:Cw}=Object;function bg(t){if(t.length===1){let e=t[0];if(vw(e))return{args:e,keys:null};if(ww(e)){let n=Cw(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ww(t){return t&&typeof t=="object"&&Ew(t)===bw}function Cg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Lc(...t){let e=ag(t),{args:n,keys:r}=bg(t),i=new Ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;sn(n[u]).subscribe(on(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Cg(r,a):a),o.complete())}))}});return e?i.pipe(Eg(e)):i}function Vc(t,e,n){let r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?rn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(on(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ss}var $c={JSACTION:"jsaction"},zc={JSACTION:"__jsaction",OWNER:"__owner"},Mg={};function Dw(t){return t[zc.JSACTION]}function wg(t,e){t[zc.JSACTION]=e}function Iw(t){return Mg[t]}function Mw(t,e){Mg[t]=e}var M={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},xw=[M.MOUSEENTER,M.MOUSELEAVE,"pointerenter","pointerleave"],bV=[M.CLICK,M.DBLCLICK,M.FOCUSIN,M.FOCUSOUT,M.KEYDOWN,M.KEYUP,M.KEYPRESS,M.MOUSEOVER,M.MOUSEOUT,M.SUBMIT,M.TOUCHSTART,M.TOUCHEND,M.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],Sw=[M.FOCUS,M.BLUR,M.ERROR,M.LOAD,M.TOGGLE],Gc=t=>Sw.indexOf(t)>=0;function Tw(t){return t===M.MOUSEENTER?M.MOUSEOVER:t===M.MOUSELEAVE?M.MOUSEOUT:t===M.POINTERENTER?M.POINTEROVER:t===M.POINTERLEAVE?M.POINTEROUT:t}function Nw(t,e,n,r){let i=!1;Gc(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function Aw(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function Ow(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var Dg=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function Pw(t){return t.which===2||t.which==null&&t.button===4}function Rw(t){return Dg&&t.metaKey||!Dg&&t.ctrlKey||Pw(t)||t.shiftKey}function kw(t,e,n){let r=t.relatedTarget;return(t.type===M.MOUSEOVER&&e===M.MOUSEENTER||t.type===M.MOUSEOUT&&e===M.MOUSELEAVE||t.type===M.POINTEROVER&&e===M.POINTERENTER||t.type===M.POINTEROUT&&e===M.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function Fw(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===M.MOUSEOVER?n.type=M.MOUSEENTER:t.type===M.MOUSEOUT?n.type=M.MOUSELEAVE:t.type===M.POINTEROVER?n.type=M.POINTERENTER:n.type=M.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var Lw=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),ws=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){Lw&&(this.element.style.cursor="pointer"),this.handlerInfos.push(Nw(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)Aw(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},Vw={EVENT_ACTION_SEPARATOR:":"};function an(t){return t.eventType}function Wc(t,e){t.eventType=e}function bs(t){return t.event}function xg(t,e){t.event=e}function Sg(t){return t.targetElement}function Tg(t,e){t.targetElement=e}function Ng(t){return t.eic}function jw(t,e){t.eic=e}function Bw(t){return t.timeStamp}function Hw(t,e){t.timeStamp=e}function Cs(t){return t.eia}function Ag(t,e,n){t.eia=[e,n]}function jc(t){t.eia=void 0}function Es(t){return t[1]}function Uw(t){return t.eirp}function Og(t,e){t.eirp=e}function Pg(t){return t.eir}function Rg(t,e){t.eir=e}function kg(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function $w(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Bc=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return an(this.eventInfo)}setEventType(e){Wc(this.eventInfo,e)}getEvent(){return bs(this.eventInfo)}setEvent(e){xg(this.eventInfo,e)}getTargetElement(){return Sg(this.eventInfo)}setTargetElement(e){Tg(this.eventInfo,e)}getContainer(){return Ng(this.eventInfo)}setContainer(e){jw(this.eventInfo,e)}getTimestamp(){return Bw(this.eventInfo)}setTimestamp(e){Hw(this.eventInfo,e)}getAction(){let e=Cs(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){jc(this.eventInfo);return}Ag(this.eventInfo,e.name,e.element)}getIsReplay(){return Uw(this.eventInfo)}setIsReplay(e){Og(this.eventInfo,e)}getResolved(){return Pg(this.eventInfo)}setResolved(e){Rg(this.eventInfo,e)}clone(){return new t(kg(this.eventInfo))}},zw={},Gw=/\s*;\s*/,Ww=M.CLICK,Hc=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&an(e)===M.CLICK&&Rw(bs(e))?Wc(e,M.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){Pg(e)||(this.populateAction(e,Sg(e)),Rg(e,!0))}resolveParentAction(e){let n=Cs(e),r=n&&Es(n);jc(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==Ng(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Cs(e));)r=this.getParentNode(r);let i=Cs(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(an(e)===M.MOUSEENTER||an(e)===M.MOUSELEAVE||an(e)===M.POINTERENTER||an(e)===M.POINTERLEAVE)))if(kw(bs(e),an(e),Es(i))){let o=Fw(bs(e),Es(i));xg(e,o),Tg(e,Es(i))}else jc(e)}getParentNode(e){let n=e[zc.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[an(n)];i!==void 0&&Ag(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=Dw(e);if(!n){let r=e.getAttribute($c.JSACTION);if(!r)n=zw,wg(e,n);else{if(n=Iw(r),!n){n={};let i=r.split(Gw);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(Vw.EVENT_ACTION_SEPARATOR),l=a!==-1,c=l?s.substr(0,a).trim():Ww,u=l?s.substr(a+1).trim():s;n[c]=u}Mw(r,n)}wg(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Fg=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(Fg||{}),Uc=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Bc(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&qw(r.element,n)&&Ow(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function qw(t,e){return t.tagName==="A"&&(e.getEventType()===M.CLICK||e.getEventType()===M.CLICKMOD)}var Lg=Symbol.for("propagationStopped"),qc={REPLAY:101};var Yw="`preventDefault` called during event replay.";var Kw="`composedPath` called during event replay.",Ds=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Hc({clickModSupport:n}),this.dispatcher=new Uc(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&Jw(e),Zw(e);e.getAction();){if(Xw(e),Gc(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),Qw(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function Zw(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[Lg]=!0,n()};Sn(e,"stopPropagation",r),Sn(e,"stopImmediatePropagation",r)}function Qw(t){return!!t.getEvent()[Lg]}function Jw(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Sn(e,"target",n),Sn(e,"eventPhase",qc.REPLAY),Sn(e,"preventDefault",()=>{throw r(),new Error(Yw+"")}),Sn(e,"composedPath",()=>{throw new Error(Kw+"")})}function Xw(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Sn(e,"currentTarget",n,{configurable:!0})}function Sn(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function Vg(t,e){t.ecrd(n=>{e.dispatch(n)},Fg.I_AM_THE_JSACTION_FRAMEWORK)}function eD(t){return t?.q??[]}function tD(t){t&&(Ig(t.c,t.et,t.h),Ig(t.c,t.etc,t.h,!0))}function Ig(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var nD=!1,jg=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=nD;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=$w(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){Og(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&xw.indexOf(n)>=0)return;let o=(a,l,c)=>{this.handleEvent(a,l,c)};this.eventHandlers[n]=o;let s=Tw(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{o(n,l,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),tD(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=kg(i);Wc(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function Bg(t,e=window){return eD(e._ejsas?.[t])}function Yc(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var rD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",N=class extends Error{code;constructor(e,n){super(Xu(e,n)),this.code=e}};function iD(t){return`NG0${Math.abs(t)}`}function Xu(t,e){return`${iD(t)}${e?": "+e:""}`}function Ti(t){return{toString:t}.toString()}var Is="__parameters__";function oD(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Bm(t,e,n){return Ti(()=>{let r=oD(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Is)?l[Is]:Object.defineProperty(l,Is,{value:[]})[Is];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function sD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(qe).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Hg(t,e){return t?e?`${t} ${e}`:t:e||""}var aD=oe({__forward_ref__:oe});function Ni(t){return t.__forward_ref__=Ni,t.toString=function(){return qe(this())},t}function Te(t){return Hm(t)?t():t}function Hm(t){return typeof t=="function"&&t.hasOwnProperty(aD)&&t.__forward_ref__===Ni}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ed(t){return Ug(t,Um)||Ug(t,$m)}function Ug(t,e){return t.hasOwnProperty(e)?t[e]:null}function lD(t){let e=t&&(t[Um]||t[$m]);return e||null}function $g(t){return t&&(t.hasOwnProperty(zg)||t.hasOwnProperty(cD))?t[zg]:null}var Um=oe({\u0275prov:oe}),zg=oe({\u0275inj:oe}),$m=oe({ngInjectableDef:oe}),cD=oe({ngInjectorDef:oe}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zm(t){return t&&!!t.\u0275providers}var uD=oe({\u0275cmp:oe}),dD=oe({\u0275dir:oe}),fD=oe({\u0275pipe:oe});var Fs=oe({\u0275fac:oe}),Ci=oe({__NG_ELEMENT_ID__:oe}),Gg=oe({__NG_ENV_ID__:oe});function Gm(t){return typeof t=="string"?t:t==null?"":String(t)}function hD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gm(t)}function Wm(t,e){throw new N(-200,t)}function td(t,e){throw new N(-201,!1)}var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{}),fu;function qm(){return fu}function ze(t){let e=fu;return fu=t,e}function Ym(t,e,n){let r=ed(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;td(t,"Injector")}var pD={},Tn=pD,hu="__NG_DI_FLAG__",Ls=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?es:Tn,r)}},Vs="ngTempTokenPath",gD="ngTokenPath",mD=/\n/gm,yD="\u0275",Wg="__source";function _D(t,e=k.Default){if(mi()===void 0)throw new N(-203,!1);if(mi()===null)return Ym(t,void 0,e);{let n=mi(),r;return n instanceof Ls?r=n.injector:r=n,r.get(t,e&k.Optional?null:void 0,e)}}function G(t,e=k.Default){return(qm()||_D)(Te(t),e)}function w(t,e=k.Default){return G(t,ua(e))}function ua(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pu(t){let e=[];for(let n=0;n<t.length;n++){let r=Te(t[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=k.Default;for(let s=0;s<r.length;s++){let a=r[s],l=vD(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function Km(t,e){return t[hu]=e,t.prototype[hu]=e,t}function vD(t){return t[hu]}function ED(t,e,n,r){let i=t[Vs];throw e[Wg]&&i.unshift(e[Wg]),t.message=bD(`
`+t.message,i,n,r),t[gD]=i,t[Vs]=null,t}function bD(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yD?t.slice(2):t;let i=qe(e);if(Array.isArray(e))i=e.map(qe).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mD,`
  `)}`}var Zm=Km(Bm("Optional"),8);var CD=Km(Bm("SkipSelf"),4);function wr(t,e){let n=t.hasOwnProperty(Fs);return n?t[Fs]:null}function nd(t,e){t.forEach(n=>Array.isArray(n)?nd(n,e):e(n))}function Qm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function js(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function DD(t,e,n){let r=Ai(t,e);return r>=0?t[r|1]=n:(r=~r,wD(t,r,e,n)),r}function Kc(t,e){let n=Ai(t,e);if(n>=0)return t[n|1]}function Ai(t,e){return ID(t,e,1)}function ID(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var An={},Ge=[],On=new I(""),Jm=new I("",-1),Xm=new I(""),Bs=class{get(e,n=Tn){if(n===Tn){let r=new Error(`NullInjectorError: No provider for ${qe(e)}!`);throw r.name="NullInjectorError",r}return n}};function Dr(t){return t[uD]||null}function ey(t){return t[dD]||null}function ty(t){return t[fD]||null}function Oi(t){return{\u0275providers:t}}function MD(...t){return{\u0275providers:rd(!0,t),\u0275fromNgModule:!0}}function rd(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return nd(e,s=>{let a=s;gu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ny(i,o),n}function ny(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];id(i,o=>{e(o,r)})}}function gu(t,e,n,r){if(t=Te(t),!t)return!1;let i=null,o=$g(t),s=!o&&Dr(t);if(!o&&!s){let l=t.ngModule;if(o=$g(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)gu(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{nd(o.imports,u=>{gu(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&ny(c,e)}if(!a){let c=wr(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ge},i),e({provide:Xm,useValue:i,multi:!0},i),e({provide:On,useValue:()=>G(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;id(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function id(t,e){for(let n of t)zm(n)&&(n=n.\u0275providers),Array.isArray(n)?id(n,e):e(n)}var xD=oe({provide:String,useValue:oe});function ry(t){return t!==null&&typeof t=="object"&&xD in t}function SD(t){return!!(t&&t.useExisting)}function TD(t){return!!(t&&t.useFactory)}function Ir(t){return typeof t=="function"}function ND(t){return!!t.useClass}var da=new I(""),Ts={},qg={},Zc;function od(){return Zc===void 0&&(Zc=new Bs),Zc}var Bt=class{},wi=class extends Bt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,yu(e,s=>this.processProvider(s)),this.records.set(Jm,pr(void 0,this)),i.has("environment")&&this.records.set(Bt,pr(void 0,this));let o=this.records.get(da);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xm,Ge,k.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?es:Tn,r)}destroy(){Ei(this),this._destroyed=!0;let e=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(e)}}onDestroy(e){return Ei(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ei(this);let n=Lt(this),r=ze(void 0),i;try{return e()}finally{Lt(n),ze(r)}}get(e,n=Tn,r=k.Default){if(Ei(this),e.hasOwnProperty(Gg))return e[Gg](this);r=ua(r);let i,o=Lt(this),s=ze(void 0);try{if(!(r&k.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=kD(e)&&ed(e);c&&this.injectableDefInScope(c)?l=pr(mu(e),Ts):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&k.Self?od():this.parent;return n=r&k.Optional&&n===Tn?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vs]=a[Vs]||[]).unshift(qe(e)),o)throw a;return ED(a,e,"R3InjectorError",this.source)}else throw a}finally{ze(s),Lt(o)}}resolveInjectorInitializers(){let e=B(null),n=Lt(this),r=ze(void 0),i;try{let o=this.get(On,Ge,k.Self);for(let s of o)s()}finally{Lt(n),ze(r),B(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(qe(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Te(e);let n=Ir(e)?e:Te(e&&e.provide),r=OD(e);if(!Ir(e)&&e.multi===!0){let i=this.records.get(n);i||(i=pr(void 0,Ts,!0),i.factory=()=>pu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=B(null);try{return n.value===qg?Wm(qe(e)):n.value===Ts&&(n.value=qg,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&RD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{B(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Te(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mu(t){let e=ed(t),n=e!==null?e.factory:wr(t);if(n!==null)return n;if(t instanceof I)throw new N(204,!1);if(t instanceof Function)return AD(t);throw new N(204,!1)}function AD(t){if(t.length>0)throw new N(204,!1);let n=lD(t);return n!==null?()=>n.factory(t):()=>new t}function OD(t){if(ry(t))return pr(void 0,t.useValue);{let e=iy(t);return pr(e,Ts)}}function iy(t,e,n){let r;if(Ir(t)){let i=Te(t);return wr(i)||mu(i)}else if(ry(t))r=()=>Te(t.useValue);else if(TD(t))r=()=>t.useFactory(...pu(t.deps||[]));else if(SD(t))r=(i,o)=>G(Te(t.useExisting),o!==void 0&&o&k.Optional?k.Optional:void 0);else{let i=Te(t&&(t.useClass||t.provide));if(PD(t))r=()=>new i(...pu(t.deps));else return wr(i)||mu(i)}return r}function Ei(t){if(t.destroyed)throw new N(205,!1)}function pr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PD(t){return!!t.deps}function RD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kD(t){return typeof t=="function"||typeof t=="object"&&t instanceof I}function yu(t,e){for(let n of t)Array.isArray(n)?yu(n,e):n&&zm(n)?yu(n.\u0275providers,e):e(n)}function sd(t,e){let n;t instanceof wi?(Ei(t),n=t):n=new Ls(t);let r,i=Lt(n),o=ze(void 0);try{return e()}finally{Lt(i),ze(o)}}function oy(){return qm()!==void 0||mi()!=null}function sy(t){if(!oy())throw new N(-203,!1)}function FD(t){return typeof t=="function"}var He=0,A=1,O=2,be=3,ct=4,ft=5,wt=6,Hs=7,Ae=8,Dt=9,cn=10,se=11,Di=12,Yg=13,Tr=14,Ke=15,Mr=16,gr=17,xr=18,fa=19,ay=20,ln=21,Qc=22,Us=23,Ye=24,vr=25,Ce=26,ly=1,Ht=6,Ut=7,$s=8,zs=9,Be=10;function ut(t){return Array.isArray(t)&&typeof t[ly]=="object"}function Tt(t){return Array.isArray(t)&&t[ly]===!0}function cy(t){return(t.flags&4)!==0}function jn(t){return t.componentOffset>-1}function ad(t){return(t.flags&1)===1}function It(t){return!!t.template}function Ii(t){return(t[O]&512)!==0}function Bn(t){return(t[O]&256)===256}var _u=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function uy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ld=(()=>{let t=()=>dy;return t.ngInherit=!0,t})();function dy(t){return t.type.prototype.ngOnChanges&&(t.setInput=VD),LD}function LD(){let t=hy(this),e=t?.current;if(e){let n=t.previous;if(n===An)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VD(t,e,n,r,i){let o=this.declaredInputs[r],s=hy(t)||jD(t,{previous:An,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new _u(c&&c.currentValue,n,l===An),uy(t,e,i,n)}var fy="__ngSimpleChanges__";function hy(t){return t[fy]||null}function jD(t,e){return t[fy]=e}var Kg=null;var Z=function(t,e=null,n){Kg?.(t,e,n)},BD="svg",HD="math";function dt(t){for(;Array.isArray(t);)t=t[He];return t}function py(t,e){return dt(e[t])}function Nt(t,e){return dt(e[t.index])}function ha(t,e){return t.data[e]}function Mt(t,e){let n=e[t];return ut(n)?n:n[He]}function cd(t){return(t[O]&128)===128}function UD(t){return Tt(t[be])}function Gs(t,e){return e==null?null:t[e]}function gy(t){t[gr]=0}function my(t){t[O]&1024||(t[O]|=1024,cd(t)&&Pi(t))}function $D(t,e){for(;t>0;)e=e[Tr],t--;return e}function pa(t){return!!(t[O]&9216||t[Ye]?.dirty)}function vu(t){t[cn].changeDetectionScheduler?.notify(8),t[O]&64&&(t[O]|=1024),pa(t)&&Pi(t)}function Pi(t){t[cn].changeDetectionScheduler?.notify(0);let e=Pn(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!cd(e)));)e=Pn(e)}function yy(t,e){if(Bn(t))throw new N(911,!1);t[ln]===null&&(t[ln]=[]),t[ln].push(e)}function zD(t,e){if(t[ln]===null)return;let n=t[ln].indexOf(e);n!==-1&&t[ln].splice(n,1)}function Pn(t){let e=t[be];return Tt(e)?e[be]:e}function _y(t){return t[Hs]??=[]}function vy(t){return t.cleanup??=[]}var V={lFrame:xy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Eu=!1;function GD(){return V.lFrame.elementDepthCount}function WD(){V.lFrame.elementDepthCount++}function qD(){V.lFrame.elementDepthCount--}function Ey(){return V.bindingsEnabled}function Ri(){return V.skipHydrationRootTNode!==null}function YD(t){return V.skipHydrationRootTNode===t}function KD(t){V.skipHydrationRootTNode=t}function ZD(){V.skipHydrationRootTNode=null}function de(){return V.lFrame.lView}function Qe(){return V.lFrame.tView}function ae(t){return V.lFrame.contextLView=t,t[Ae]}function le(t){return V.lFrame.contextLView=null,t}function Ue(){let t=by();for(;t!==null&&t.type===64;)t=t.parent;return t}function by(){return V.lFrame.currentTNode}function QD(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ki(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function Cy(){return V.lFrame.isParent}function JD(){V.lFrame.isParent=!1}function wy(){return Eu}function Zg(t){let e=Eu;return Eu=t,e}function XD(t){return V.lFrame.bindingIndex=t}function ud(){return V.lFrame.bindingIndex++}function eI(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tI(){return V.lFrame.inI18n}function nI(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,bu(e)}function rI(){return V.lFrame.currentDirectiveIndex}function bu(t){V.lFrame.currentDirectiveIndex=t}function iI(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Dy(t){V.lFrame.currentQueryIndex=t}function oI(t){let e=t[A];return e.type===2?e.declTNode:e.type===1?t[ft]:null}function Iy(t,e,n){if(n&k.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&k.Host);)if(i=oI(o),i===null||(o=o[Tr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=V.lFrame=My();return r.currentTNode=e,r.lView=t,!0}function dd(t){let e=My(),n=t[A];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function My(){let t=V.lFrame,e=t===null?null:t.child;return e===null?xy(t):e}function xy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Sy(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ty=Sy;function fd(){let t=Sy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sI(t){return(V.lFrame.contextLView=$D(t,V.lFrame.contextLView))[Ae]}function Nr(){return V.lFrame.selectedIndex}function Rn(t){V.lFrame.selectedIndex=t}function Ny(){let t=V.lFrame;return ha(t.tView,t.selectedIndex)}function Ay(){return V.lFrame.currentNamespace}var Oy=!0;function hd(){return Oy}function dn(t){Oy=t}function aI(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dy(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Py(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Ns(t,e,n){Ry(t,e,3,n)}function As(t,e,n,r){(t[O]&3)===n&&Ry(t,e,n,r)}function Jc(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function Ry(t,e,n,r){let i=r!==void 0?t[gr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[gr]+=65536),(a<o||o==-1)&&(lI(t,n,e,l),t[gr]=(t[gr]&4294901760)+l+2),l++}function Qg(t,e){Z(4,t,e);let n=B(null);try{e.call(t)}finally{B(n),Z(5,t,e)}}function lI(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[gr]>>16&&(t[O]&3)===e&&(t[O]+=16384,Qg(a,o)):Qg(a,o)}var Er=-1,kn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function cI(t){return(t.flags&8)!==0}function uI(t){return(t.flags&16)!==0}function dI(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];hI(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function fI(t){return t===3||t===4||t===6}function hI(t){return t.charCodeAt(0)===64}function Mi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jg(t,n,i,null,e[++r]):Jg(t,n,i,null,null))}}return t}function Jg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function ky(t){return t!==Er}function Ws(t){return t&32767}function pI(t){return t>>16}function qs(t,e){let n=pI(t),r=e;for(;n>0;)r=r[Tr],n--;return r}var Cu=!0;function Xg(t){let e=Cu;return Cu=t,e}var gI=256,Fy=gI-1,Ly=5,mI=0,Ct={};function yI(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ci)&&(r=n[Ci]),r==null&&(r=n[Ci]=mI++);let i=r&Fy,o=1<<i;e.data[t+(i>>Ly)]|=o}function Ys(t,e){let n=Vy(t,e);if(n!==-1)return n;let r=e[A];r.firstCreatePass&&(t.injectorIndex=e.length,Xc(r.data,t),Xc(e,null),Xc(r.blueprint,null));let i=pd(t,e),o=t.injectorIndex;if(ky(i)){let s=Ws(i),a=qs(i,e),l=a[A].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Xc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Vy(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function pd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=zy(i),r===null)return Er;if(n++,i=i[Tr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Er}function wu(t,e,n){yI(t,e,n)}function jy(t,e,n){if(n&k.Optional||t!==void 0)return t;td(e,"NodeInjector")}function By(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),(n&(k.Self|k.Host))===0){let i=t[Dt],o=ze(void 0);try{return i?i.get(e,r,n&k.Optional):Ym(e,r,n&k.Optional)}finally{ze(o)}}return jy(r,e,n)}function Hy(t,e,n,r=k.Default,i){if(t!==null){if(e[O]&2048&&!(r&k.Self)){let s=CI(t,e,n,r,Ct);if(s!==Ct)return s}let o=Uy(t,e,n,r,Ct);if(o!==Ct)return o}return By(e,n,r,i)}function Uy(t,e,n,r,i){let o=EI(n);if(typeof o=="function"){if(!Iy(e,t,r))return r&k.Host?jy(i,n,r):By(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&k.Optional))td(n);else return s}finally{Ty()}}else if(typeof o=="number"){let s=null,a=Vy(t,e),l=Er,c=r&k.Host?e[Ke][ft]:null;for((a===-1||r&k.SkipSelf)&&(l=a===-1?pd(t,e):e[a+8],l===Er||!tm(r,!1)?a=-1:(s=e[A],a=Ws(l),e=qs(l,e)));a!==-1;){let u=e[A];if(em(o,a,u.data)){let d=_I(a,e,n,s,r,c);if(d!==Ct)return d}l=e[a+8],l!==Er&&tm(r,e[A].data[a+8]===c)&&em(o,a,e)?(s=u,a=Ws(l),e=qs(l,e)):a=-1}}return i}function _I(t,e,n,r,i,o){let s=e[A],a=s.data[t+8],l=r==null?jn(a)&&Cu:r!=s&&(a.type&3)!==0,c=i&k.Host&&o===a,u=vI(a,s,n,l,c);return u!==null?Ks(e,s,u,a,i):Ct}function vI(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&It(h)&&h.type===n)return l}return null}function Ks(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof kn){let a=o;a.resolving&&Wm(hD(s[n]));let l=Xg(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?ze(a.injectImpl):null,d=Iy(t,r,k.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&aI(n,s[n],e)}finally{u!==null&&ze(u),Xg(l),a.resolving=!1,Ty()}}return o}function EI(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ci)?t[Ci]:void 0;return typeof e=="number"?e>=0?e&Fy:bI:e}function em(t,e,n){let r=1<<t;return!!(n[e+(t>>Ly)]&r)}function tm(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var Nn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Hy(this._tNode,this._lView,e,ua(r),n)}};function bI(){return new Nn(Ue(),de())}function $y(t){return Ti(()=>{let e=t.prototype.constructor,n=e[Fs]||Du(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Fs]||Du(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Du(t){return Hm(t)?()=>{let e=Du(Te(t));return e&&e()}:wr(t)}function CI(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!Ii(s);){let a=Uy(o,s,n,r|k.Self,Ct);if(a!==Ct)return a;let l=o.parent;if(!l){let c=s[ay];if(c){let u=c.get(n,Ct,r);if(u!==Ct)return u}l=zy(s),s=s[Tr]}o=l}return i}function zy(t){let e=t[A],n=e.type;return n===2?e.declTNode:n===1?t[ft]:null}function nm(t,e=null,n=null,r){let i=wI(t,e,n,r);return i.resolveInjectorInitializers(),i}function wI(t,e=null,n=null,r,i=new Set){let o=[n||Ge,MD(t)];return r=r||(typeof t=="object"?void 0:qe(t)),new wi(o,e||od(),r||null,i)}var $t=class t{static THROW_IF_NOT_FOUND=Tn;static NULL=new Bs;static create(e,n){if(Array.isArray(e))return nm({name:""},n,e,"");{let r=e.name??"";return nm({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:t,providedIn:"any",factory:()=>G(Jm)});static __NG_ELEMENT_ID__=-1};var DI=new I("");DI.__NG_ELEMENT_ID__=t=>{let e=Ue();if(e===null)throw new N(204,!1);if(e.type&2)return e.value;if(t&k.Optional)return null;throw new N(204,!1)};var Gy=!1,ga=(()=>{class t{static __NG_ELEMENT_ID__=II;static __NG_ENV_ID__=n=>n}return t})(),Iu=class extends ga{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Bn(n)?(e(),()=>{}):(yy(n,e),()=>zD(n,e))}};function II(){return new Iu(de())}var Fn=class{},ma=new I("",{providedIn:"root",factory:()=>!1});var Wy=new I(""),qy=new I(""),Hn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new at(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),MI=(()=>{class t{internalPendingTasks=w(Hn);scheduler=w(Fn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return K(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),Mu=class extends Vt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,oy()&&(this.destroyRef=w(ga,{optional:!0})??void 0,this.pendingTasks=w(Hn,{optional:!0})??void 0)}emit(e){let n=B(null);try{super.next(e)}finally{B(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},We=Mu;function Zs(...t){}function Yy(t){let e,n;function r(){t=Zs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function rm(t){return queueMicrotask(()=>t()),()=>{t=Zs}}var gd="isAngularZone",Qs=gd+"_ID",xI=0,he=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new We(!1);onMicrotaskEmpty=new We(!1);onStable=new We(!1);onError=new We(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Gy}=e;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,NI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,SI,Zs,Zs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SI={};function md(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TI(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Yy(()=>{t.callbackScheduled=!1,xu(t),t.isCheckStableRunning=!0,md(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),xu(t)}function NI(t){let e=()=>{TI(t)},n=xI++;t._inner=t._inner.fork({name:"angular",properties:{[gd]:!0,[Qs]:n,[Qs+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(AI(l))return r.invokeTask(o,s,a,l);try{return im(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),om(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return im(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!OI(l)&&e(),om(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,xu(t),md(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function xu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function im(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function om(t){t._nesting--,md(t)}var Su=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new We;onMicrotaskEmpty=new We;onStable=new We;onError=new We;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function AI(t){return Ky(t,"__ignore_ng_zone__")}function OI(t){return Ky(t,"__scheduler_tick__")}function Ky(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var xt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},PI=new I("",{providedIn:"root",factory:()=>{let t=w(he),e=w(xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function RI(){return ya(Ue(),de())}function ya(t,e){return new Fi(Nt(t,e))}var Fi=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=RI}return t})();function kI(t){return typeof t=="function"&&t[ot]!==void 0}function Li(t,e){let n=Dc(t,e?.equal),r=n[ot];return n.set=i=>Xo(r,i),n.update=i=>Ic(r,i),n.asReadonly=FI.bind(n),n}function FI(){let t=this[ot];if(t.readonlyFn===void 0){let e=()=>this();e[ot]=t,t.readonlyFn=e}return t.readonlyFn}function Zy(t){return kI(t)&&typeof t.set=="function"}var LI="ngSkipHydration",VI="ngskiphydration";function Qy(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===VI)return!0}return!1}function Jy(t){return t.hasAttribute(LI)}function Js(t){return(t.flags&128)===128}function jI(t){if(Js(t))return!0;let e=t.parent;for(;e;){if(Js(t)||Qy(e))return!0;e=e.parent}return!1}var Xy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xy||{}),e_=new Map,BI=0;function HI(){return BI++}function UI(t){e_.set(t[fa],t)}function Tu(t){e_.delete(t[fa])}var sm="__ngContext__";function Vi(t,e){ut(e)?(t[sm]=e[fa],UI(e)):t[sm]=e}function t_(t){return r_(t[Di])}function n_(t){return r_(t[ct])}function r_(t){for(;t!==null&&!Tt(t);)t=t[ct];return t}var Nu;function i_(t){Nu=t}function _a(){if(Nu!==void 0)return Nu;if(typeof document<"u")return document;throw new N(210,!1)}var jt=new I("",{providedIn:"root",factory:()=>$I}),$I="ng",yd=new I(""),Un=new I("",{providedIn:"platform",factory:()=>"unknown"});var _d=new I(""),vd=new I("",{providedIn:"root",factory:()=>_a().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function zI(){let t=new Ar;return t.store=GI(_a(),w(jt)),t}var Ar=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:zI});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function GI(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var o_="h",s_="b",WI="f",qI="n",YI="e",KI="t",Ed="c",a_="x",Xs="r",ZI="i",QI="n",l_="d";var JI="di",XI="s",eM="p";var Ms=new I(""),c_=!1,u_=new I("",{providedIn:"root",factory:()=>c_});var d_=new I(""),tM=!1,nM=new I(""),am=new I("",{providedIn:"root",factory:()=>new Map}),bd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(bd||{}),Or=new I(""),lm=new Set;function Gt(t){lm.has(t)||(lm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var f_=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=rM}return t})();function rM(){return new f_(de(),Ue())}var mr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(mr||{}),h_=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),iM=[mr.EarlyRead,mr.Write,mr.MixedReadWrite,mr.Read],oM=(()=>{class t{ngZone=w(he);scheduler=w(Fn);errorHandler=w(xt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){w(Or,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(16),this.executing=!0;for(let r of iM)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(17)}register(n){let{view:r}=n;r!==void 0?((r[vr]??=[]).push(n),Pi(r),r[O]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(bd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),Au=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[vr];e&&(this.view[vr]=e.filter(n=>n!==this))}};function p_(t,e){!e?.injector&&sy(p_);let n=e?.injector??w($t);return Gt("NgAfterNextRender"),aM(t,n,e,!0)}function sM(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function aM(t,e,n,r){let i=e.get(h_);i.impl??=e.get(oM);let o=e.get(Or,null,{optional:!0}),s=n?.phase??mr.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(ga):null,l=e.get(f_,null,{optional:!0}),c=new Au(i.impl,sM(t,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var je=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(je||{}),cm=0,lM=1,me=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(me||{});var cM=0,va=1;var uM=4,dM=5;var fM=7,br=8,hM=9,g_=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(g_||{});function Os(t,e){let n=gM(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function pM(t){Os(1,t),Os(0,t),Os(2,t)}function gM(t){let e=uM;return t===1?e=dM:t===2&&(e=hM),e}function m_(t){return t+1}function ji(t,e){let n=t[A],r=m_(e.index);return t[r]}function Ea(t,e){let n=m_(e.index);return t.data[n]}function mM(t,e,n){let r=e[A],i=Ea(r,n);switch(t){case me.Complete:return i.primaryTmplIndex;case me.Loading:return i.loadingTmplIndex;case me.Error:return i.errorTmplIndex;case me.Placeholder:return i.placeholderTmplIndex;default:return null}}function um(t,e){return e===me.Placeholder?t.placeholderBlockConfig?.[cm]??null:e===me.Loading?t.loadingBlockConfig?.[cm]??null:null}function yM(t){return t.loadingBlockConfig?.[lM]??null}function dm(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function _M(t,e){let n=e.primaryTmplIndex+Ce;return ha(t,n)}var ba="ngb";var vM=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},EM=(t,e)=>{let n=t,r=n.getAttribute(ba)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var bM=t=>{t.removeAttribute($c.JSACTION),t.removeAttribute(ba),t.__jsaction_fns=void 0},CM=new I("",{providedIn:"root",factory:()=>({})});function y_(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Ou=new Map;function wM(t,e){return Ou.set(t,e),()=>Ou.delete(t)}var fm=!1,__=(t,e,n,r)=>{};function DM(t,e,n,r){__(t,e,n,r)}function IM(){fm||(__=(t,e,n,r)=>{let i=t[Dt].get(jt);Ou.get(i)?.(e,n,r)},fm=!0)}var Cd=new I("");var MM="__nghData__",v_=MM,xM="__nghDeferData__",SM=xM,eu="ngh",TM="nghm",E_=()=>null;function NM(t,e,n=!1){let r=t.getAttribute(eu);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,l={};if(r!==""){let u=e.get(Ar,null,{optional:!0});u!==null&&(l=u.get(v_,[])[Number(r)])}let c={data:l,firstChild:t.firstChild??null};return n&&(c.firstChild=t,Ca(c,0,t.nextSibling)),a?t.setAttribute(eu,a):t.removeAttribute(eu),c}function AM(){E_=NM}function b_(t,e,n=!1){return E_(t,e,n)}function OM(t){let e=t._lView;return e[A].type===2?null:(Ii(e)&&(e=e[Ce]),e)}function PM(t){return t.textContent?.replace(/\s/gm,"")}function RM(t){let e=_a(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=PM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ca(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Pu(t,e){return t.segmentHeads?.[e]??null}function kM(t){return t.get(nM,!1,{optional:!0})}function FM(t,e){let n=t.data,r=n[YI]?.[e]??null;return r===null&&n[Ed]?.[e]&&(r=wd(t,e)),r}function C_(t,e){return t.data[Ed]?.[e]??null}function wd(t,e){let n=C_(t,e)??[],r=0;for(let i of n)r+=i[Xs]*(i[a_]??1);return r}function LM(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[l_];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Bi(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[l_];t.disconnectedNodes=n?new Set(n):null}return!!LM(t)?.has(e)}function VM(t,e){let n=e.get(Cd),i=e.get(Ar).get(SM,{}),o=!1,s=t,a=null,l=[];for(;!o&&s;){o=n.has(s);let c=n.hydrating.get(s);if(a===null&&c!=null){a=c.promise;break}l.unshift(s),s=i[s][eM]}return{parentBlockPromise:a,hydrationQueue:l}}function tu(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===TM}function hm(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function jM(t){for(let r of t.body.childNodes)if(tu(r))return;let e=hm(t.body.previousSibling);if(tu(e))return;let n=hm(t.head.lastChild);if(!tu(n))throw new N(-507,!1)}function w_(t,e){let n=t.contentQueries;if(n!==null){let r=B(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Dy(o),a.contentQueries(2,e[s],s)}}}finally{B(r)}}}function Ru(t,e,n){Dy(0);let r=B(null);try{e(t,n)}finally{B(r)}}function D_(t,e,n){if(cy(e)){let r=B(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{B(r)}}}var St=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(St||{});var ku=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rD})`}};function I_(t){return t instanceof ku?t.changingThisBreaksApplicationSecurity:t}var BM=/^>|^->|<!--|-->|--!>|<!-$/g,HM=/(<|>)/g,UM="\u200B$1\u200B";function $M(t){return t.replace(BM,e=>e.replace(HM,UM))}function M_(t,e){return t.createText(e)}function zM(t,e,n){t.setValue(e,n)}function x_(t,e){return t.createComment($M(e))}function Dd(t,e,n){return t.createElement(e,n)}function ea(t,e,n,r,i){t.insertBefore(e,n,r,i)}function S_(t,e,n){t.appendChild(e,n)}function pm(t,e,n,r,i){r!==null?ea(t,e,n,r,i):S_(t,e,n)}function Id(t,e,n){t.removeChild(null,e,n)}function T_(t){t.textContent=""}function GM(t,e,n){t.setAttribute(e,"style",n)}function WM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function N_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&dI(t,e,r),i!==null&&WM(t,e,i),o!==null&&GM(t,e,o)}function qM(t){return t.ownerDocument.body}function YM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var A_="ng-template";function KM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&YM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Md(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Md(t){return t.type===4&&t.value!==A_}function ZM(t,e,n){let r=t.type===4&&!n?A_:t.value;return e===r}function QM(t,e,n){let r=4,i=t.attrs,o=i!==null?ex(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!lt(r)&&!lt(l))return!1;if(s&&lt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!ZM(t,l,n)||l===""&&e.length===1){if(lt(r))return!1;s=!0}}else if(r&8){if(i===null||!KM(t,i,l,n)){if(lt(r))return!1;s=!0}}else{let c=e[++a],u=JM(l,i,Md(t),n);if(u===-1){if(lt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(lt(r))return!1;s=!0}}}}return lt(r)||s}function lt(t){return(t&1)===0}function JM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tx(e,t)}function XM(t,e,n=!1){for(let r=0;r<e.length;r++)if(QM(t,e[r],n))return!0;return!1}function ex(t){for(let e=0;e<t.length;e++){let n=t[e];if(fI(n))return e}return t.length}function tx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function gm(t,e){return t?":not("+e.trim()+")":e}function nx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!lt(s)&&(e+=gm(o,i),i=""),r=s,o=o||!lt(r);n++}return i!==""&&(e+=gm(o,i)),e}function rx(t){return t.map(nx).join(",")}function ix(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!lt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Pr={};function xd(t,e,n,r,i,o,s,a,l,c,u){let d=Ce+r,f=d+i,h=ox(d,f),p=typeof c=="function"?c():c;return h[A]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function ox(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pr);return n}function sx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sd(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[He]=i,d[O]=r|4|128|8|64|1024,(c!==null||t&&t[O]&2048)&&(d[O]|=2048),gy(d),d[be]=d[Tr]=t,d[Ae]=n,d[cn]=s||t&&t[cn],d[se]=a||t&&t[se],d[Dt]=l||t&&t[Dt]||null,d[ft]=o,d[fa]=HI(),d[wt]=u,d[ay]=c,d[Ke]=e.type==2?t[Ke]:d,d}function ax(t,e,n){let r=Nt(e,t),i=sx(n),o=t[cn].rendererFactory,s=Td(t,Sd(t,i,null,O_(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function O_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function P_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Td(t,e){return t[Di]?t[Yg][ct]=e:t[Di]=e,t[Yg]=e,e}function C(t=1){R_(Qe(),de(),Nr()+t,!1)}function R_(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ns(e,o,n)}else{let o=t.preOrderHooks;o!==null&&As(e,o,0,n)}Rn(n)}var wa=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wa||{});function Fu(t,e,n,r){let i=B(null);try{let[o,s,a]=t.inputs[n],l=null;(s&wa.SignalBased)!==0&&(l=e[o][ot]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):uy(e,l,o,r)}finally{B(i)}}function k_(t,e,n,r,i){let o=Nr(),s=r&2;try{Rn(-1),s&&e.length>Ce&&R_(t,e,Ce,!1),Z(s?2:0,i),n(r,i)}finally{Rn(o),Z(s?3:1,i)}}function Nd(t,e,n){px(t,e,n),(n.flags&64)===64&&gx(t,e,n)}function F_(t,e,n=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function lx(t,e,n,r){let o=r.get(u_,c_)||n===St.ShadowDom,s=t.selectRootElement(e,o);return cx(s),s}function cx(t){L_(t)}var L_=()=>null;function ux(t){Jy(t)?T_(t):RM(t)}function dx(){L_=ux}function fx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function V_(t,e,n,r,i,o,s,a){if(!a&&Od(e,t,n,r,i)){jn(e)&&hx(n,e.index);return}if(e.type&3){let l=Nt(e,n);r=fx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function hx(t,e){let n=Mt(e,t);n[O]&16||(n[O]|=64)}function px(t,e,n){let r=n.directiveStart,i=n.directiveEnd;jn(n)&&ax(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ys(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Ks(e,t,s,n);if(Vi(l,e),o!==null&&yx(e,s-r,l,a,n,o),It(a)){let c=Mt(n.index,e);c[Ae]=Ks(e,t,s,n)}}}function gx(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=rI();try{Rn(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];bu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&mx(l,c)}}finally{Rn(-1),bu(s)}}function mx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function j_(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];XM(e,o.selectors,!1)&&(r??=[],It(o)?r.unshift(o):r.push(o))}return r}function yx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Fu(r,n,l,c)}}function Ad(t,e){let n=t[Dt],r=n?n.get(xt,null):null;r&&r.handleError(e)}function Od(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];Fu(d,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=e.data[l];Fu(u,c,r,i),a=!0}return a}function _x(t,e){let n=Mt(e,t),r=n[A];vx(r,n);let i=n[He];i!==null&&n[wt]===null&&(n[wt]=b_(i,n[Dt])),Z(18),Pd(r,n,n[Ae]),Z(19,n[Ae])}function vx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pd(t,e,n){dd(e);try{let r=t.viewQuery;r!==null&&Ru(1,r,n);let i=t.template;i!==null&&k_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xr]?.finishViewCreation(t),t.staticContentQueries&&w_(t,e),t.staticViewQueries&&Ru(2,t.viewQuery,n);let o=t.components;o!==null&&Ex(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,fd()}}function Ex(t,e){for(let n=0;n<e.length;n++)_x(t,e[n])}function B_(t,e,n,r){let i=B(null);try{let o=e.tView,a=t[O]&4096?4096:16,l=Sd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[Mr]=c;let u=t[xr];return u!==null&&(l[xr]=u.createEmbeddedView(o)),Pd(o,l,n),l}finally{B(i)}}function Lu(t,e){return!e||e.firstChild===null||Js(t)}var bx;function Rd(t,e){return bx(t,e)}var zt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zt||{});function Rr(t){return(t.flags&32)===32}function yr(t,e,n,r,i){if(r!=null){let o,s=!1;Tt(r)?o=r:ut(r)&&(s=!0,r=r[He]);let a=dt(r);t===0&&n!==null?i==null?S_(e,n,a):ea(e,n,a,i||null,!0):t===1&&n!==null?ea(e,n,a,i||null,!0):t===2?Id(e,a,s):t===3&&e.destroyNode(a),o!=null&&Px(e,t,o,n,i)}}function Cx(t,e){H_(t,e),e[He]=null,e[ft]=null}function wx(t,e,n,r,i,o){r[He]=i,r[ft]=e,Da(t,r,n,1,i,o)}function H_(t,e){e[cn].changeDetectionScheduler?.notify(9),Da(t,e,e[se],2,null,null)}function Dx(t){let e=t[Di];if(!e)return nu(t[A],t);for(;e;){let n=null;if(ut(e))n=e[Di];else{let r=e[Be];r&&(n=r)}if(!n){for(;e&&!e[ct]&&e!==t;)ut(e)&&nu(e[A],e),e=e[be];e===null&&(e=t),ut(e)&&nu(e[A],e),n=e&&e[ct]}e=n}}function kd(t,e){let n=t[zs],r=n.indexOf(e);n.splice(r,1)}function Fd(t,e){if(Bn(e))return;let n=e[se];n.destroyNode&&Da(t,e,n,3,null,null),Dx(e)}function nu(t,e){if(Bn(e))return;let n=B(null);try{e[O]&=-129,e[O]|=256,e[Ye]&&bc(e[Ye]),Mx(t,e),Ix(t,e),e[A].type===1&&e[se].destroy();let r=e[Mr];if(r!==null&&Tt(e[be])){r!==e[be]&&kd(r,e);let i=e[xr];i!==null&&i.detachView(t)}Tu(e)}finally{B(n)}}function Ix(t,e){let n=t.cleanup,r=e[Hs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Hs]=null);let i=e[ln];if(i!==null){e[ln]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Us];if(o!==null){e[Us]=null;for(let s of o)s.destroy()}}function Mx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof kn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Z(4,a,l);try{l.call(a)}finally{Z(5,a,l)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function xx(t,e,n){return Sx(t,e.parent,n)}function Sx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[He];if(jn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===St.None||i===St.Emulated)return null}return Nt(r,n)}function Tx(t,e,n){return Ax(t,e,n)}function Nx(t,e,n){return t.type&40?Nt(t,n):null}var Ax=Nx,mm;function Ld(t,e,n,r){let i=xx(t,r,e),o=e[se],s=r.parent||e[ft],a=Tx(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)pm(o,i,n[l],a,!1);else pm(o,i,n,a,!1);mm!==void 0&&mm(o,r,e,n,i)}function bi(t,e){if(e!==null){let n=e.type;if(n&3)return Nt(e,t);if(n&4)return Vu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return bi(t,r);{let i=t[e.index];return Tt(i)?Vu(-1,i):dt(i)}}else{if(n&128)return bi(t,e.next);if(n&32)return Rd(e,t)()||dt(t[e.index]);{let r=U_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pn(t[Ke]);return bi(i,r)}else return bi(t,e.next)}}}return null}function U_(t,e){if(e!==null){let r=t[Ke][ft],i=e.projection;return r.projection[i]}return null}function Vu(t,e){let n=Be+t+1;if(n<e.length){let r=e[n],i=r[A].firstChild;if(i!==null)return bi(r,i)}return e[Ut]}function Vd(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Vi(dt(a),r),n.flags|=2),!Rr(n))if(l&8)Vd(t,e,n.child,r,i,o,!1),yr(e,t,i,a,o);else if(l&32){let c=Rd(n,r),u;for(;u=c();)yr(e,t,i,u,o);yr(e,t,i,a,o)}else l&16?Ox(t,e,r,n,i,o):yr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Da(t,e,n,r,i,o){Vd(n,r,t.firstChild,e,i,o,!1)}function Ox(t,e,n,r,i,o){let s=n[Ke],l=s[ft].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];yr(e,t,i,u,o)}else{let c=l,u=s[be];Js(r)&&(c.flags|=128),Vd(t,e,c,u,i,o,!0)}}function Px(t,e,n,r,i){let o=n[Ut],s=dt(n);o!==s&&yr(e,t,r,o,i);for(let a=Be;a<n.length;a++){let l=n[a];Da(l[A],l,t,e,r,o)}}function Rx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:zt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zt.Important),t.setStyle(n,r,i,o))}}function ta(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(dt(o)),Tt(o)&&kx(o,r);let s=n.type;if(s&8)ta(t,e,n.child,r);else if(s&32){let a=Rd(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=U_(e,n);if(Array.isArray(a))r.push(...a);else{let l=Pn(e[Ke]);ta(l[A],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kx(t,e){for(let n=Be;n<t.length;n++){let r=t[n],i=r[A].firstChild;i!==null&&ta(r[A],r,i,e)}t[Ut]!==t[He]&&e.push(t[Ut])}function $_(t){if(t[vr]!==null){for(let e of t[vr])e.impl.addSequence(e);t[vr].length=0}}var z_=[];function Fx(t){return t[Ye]??Lx(t)}function Lx(t){let e=z_.pop()??Object.create(jx);return e.lView=t,e}function Vx(t){t.lView[Ye]!==t&&(t.lView=null,z_.push(t))}var jx=ne(S({},gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Pi(t.lView)},consumerOnSignalRead(){this.lView[Ye]=this}});function Bx(t){let e=t[Ye]??Object.create(Hx);return e.lView=t,e}var Hx=ne(S({},gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Pn(t.lView);for(;e&&!G_(e[A]);)e=Pn(e);e&&my(e)},consumerOnSignalRead(){this.lView[Ye]=this}});function G_(t){return t.type!==2}function W_(t){if(t[Us]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Us])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[O]&8192)}}var Ux=100;function q_(t,e=!0,n=0){let i=t[cn].rendererFactory,o=!1;o||i.begin?.();try{$x(t,n)}catch(s){throw e&&Ad(t,s),s}finally{o||i.end?.()}}function $x(t,e){let n=wy();try{Zg(!0),ju(t,e);let r=0;for(;pa(t);){if(r===Ux)throw new N(103,!1);r++,ju(t,1)}}finally{Zg(n)}}function zx(t,e,n,r){if(Bn(e))return;let i=e[O],o=!1,s=!1;dd(e);let a=!0,l=null,c=null;o||(G_(t)?(c=Fx(e),l=Zo(c)):gc()===null?(a=!1,c=Bx(e),l=Zo(c)):e[Ye]&&(bc(e[Ye]),e[Ye]=null));try{gy(e),XD(t.bindingStartIndex),n!==null&&k_(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Ns(e,h,null)}else{let h=t.preOrderHooks;h!==null&&As(e,h,0,null),Jc(e,0)}if(s||Gx(e),W_(e),Y_(e,0),t.contentQueries!==null&&w_(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Ns(e,h)}else{let h=t.contentHooks;h!==null&&As(e,h,1),Jc(e,1)}qx(t,e);let d=t.components;d!==null&&Z_(e,d,0);let f=t.viewQuery;if(f!==null&&Ru(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Ns(e,h)}else{let h=t.viewHooks;h!==null&&As(e,h,2),Jc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qc]){for(let h of e[Qc])h();e[Qc]=null}o||($_(e),e[O]&=-73)}catch(u){throw o||Pi(e),u}finally{c!==null&&(vc(c,l),a&&Vx(c)),fd()}}function Y_(t,e){for(let n=t_(t);n!==null;n=n_(n))for(let r=Be;r<n.length;r++){let i=n[r];K_(i,e)}}function Gx(t){for(let e=t_(t);e!==null;e=n_(e)){if(!(e[O]&2))continue;let n=e[zs];for(let r=0;r<n.length;r++){let i=n[r];my(i)}}}function Wx(t,e,n){Z(18);let r=Mt(e,t);K_(r,n),Z(19,r[Ae])}function K_(t,e){cd(t)&&ju(t,e)}function ju(t,e){let r=t[A],i=t[O],o=t[Ye],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ec(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)zx(r,t,r.template,t[Ae]);else if(i&8192){W_(t),Y_(t,1);let a=r.components;a!==null&&Z_(t,a,1),$_(t)}}function Z_(t,e,n){for(let r=0;r<e.length;r++)Wx(t,e[r],n)}function qx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Rn(~i);else{let o=i,s=n[++r],a=n[++r];nI(s,o);let l=e[o];Z(24,l),a(2,l),Z(25,l)}}}finally{Rn(-1)}}function Ia(t,e){let n=wy()?64:1088;for(t[cn].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=Pn(t);if(Ii(t)&&!r)return t;t=r}return null}function Q_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function J_(t,e,n,r=!0){let i=e[A];if(Kx(i,e,t,n),r){let s=Vu(n,t),a=e[se],l=a.parentNode(t[Ut]);l!==null&&wx(i,t[ft],a,e,l,s)}let o=e[wt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Yx(t,e){let n=na(t,e);return n!==void 0&&Fd(n[A],n),n}function na(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n];if(r){let i=r[Mr];i!==null&&i!==t&&kd(i,r),e>0&&(t[n-1][ct]=r[ct]);let o=js(t,Be+e);Cx(r[A],r);let s=o[xr];s!==null&&s.detachView(o[A]),r[be]=null,r[ct]=null,r[O]&=-129}return r}function Kx(t,e,n,r){let i=Be+r,o=n.length;r>0&&(n[i-1][ct]=e),r<o-Be?(e[ct]=n[i],Qm(n,Be+r,e)):(n.push(e),e[ct]=null),e[be]=n;let s=e[Mr];s!==null&&n!==s&&X_(s,e);let a=e[xr];a!==null&&a.insertView(t),vu(e),e[O]|=128}function X_(t,e){let n=t[zs],r=e[be];if(ut(r))t[O]|=2;else{let i=r[be][Ke];e[Ke]!==i&&(t[O]|=2)}n===null?t[zs]=[e]:n.push(e)}var xi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[A];return ta(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ae]}set context(e){this._lView[Ae]=e}get destroyed(){return Bn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[be];if(Tt(e)){let n=e[$s],r=n?n.indexOf(this):-1;r>-1&&(na(e,r),js(n,r))}this._attachedToViewContainer=!1}Fd(this._lView[A],this._lView)}onDestroy(e){yy(this._lView,e)}markForCheck(){Ia(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){vu(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,q_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ii(this._lView),n=this._lView[Mr];n!==null&&!e&&kd(n,this._lView),H_(this._lView[A],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e;let n=Ii(this._lView),r=this._lView[Mr];r!==null&&!n&&X_(r,this._lView),vu(this._lView)}};var Ma=(()=>{class t{static __NG_ELEMENT_ID__=Jx}return t})(),Zx=Ma,Qx=class extends Zx{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=B_(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new xi(i)}};function Jx(){return Xx(Ue(),de())}function Xx(t,e){return t.type&4?new Qx(e,t,ya(t,e)):null}function jd(t,e,n,r,i){let o=t.data[e];if(o===null)o=eS(t,e,n,r,i),tI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=QD();o.injectorIndex=s===null?-1:s.injectorIndex}return ki(o,!0),o}function eS(t,e,n,r,i){let o=by(),s=Cy(),a=s?o:o&&o.parent,l=t.data[e]=nS(t,a,n,e,r,i);return tS(t,l,o,s),l}function tS(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function nS(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ri()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rS=new RegExp(`^(\\d+)*(${s_}|${o_})*(.*)`);function iS(t){let e=t.match(rS),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[l,c,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[s,...a]}function oS(t){return!t.prev&&t.parent?.type===8}function ru(t){return t.index-Ce}function sS(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function xa(t,e,n,r){let i=ru(r),o=sS(t,i);if(o===void 0){let s=t.data[QI];if(s?.[i])o=lS(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(oS(r)){let c=ru(r.parent);o=Pu(t,c)}else{let c=Nt(l,n);if(a)o=c.firstChild;else{let u=ru(l),d=Pu(t,u);if(l.type===2&&d){let h=wd(t,u)+1;o=Sa(h,d)}else o=c.nextSibling}}}}return o}function Sa(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function aS(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case WI:n=n.firstChild;break;case qI:n=n.nextSibling;break}}return n}function lS(t,e){let[n,...r]=iS(t),i;if(n===o_)i=e[Ke][He];else if(n===s_)i=qM(e[Ke][He]);else{let o=Number(n);i=dt(e[o+Ce])}return aS(i,r)}var cS=!1;function uS(t){cS=t}function dS(t){let e=t[wt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[se];for(let o of r.values())fS(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function fS(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Ce);i&&Id(t,i,!1)}}function ev(t){let e=t[Ht]??[],r=t[be][se],i=[];for(let o of e)o.data[JI]!==void 0?i.push(o):tv(o,r);t[Ht]=i}function hS(t){let{lContainer:e}=t,n=e[Ht];if(n===null)return;let i=e[be][se];for(let o of n)tv(o,i)}function tv(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Xs];for(;n<i;){let o=r.nextSibling;Id(e,r,!1),r=o,n++}}}function Ta(t){ev(t);let e=t[He];ut(e)&&ra(e);for(let n=Be;n<t.length;n++)ra(t[n])}function ra(t){dS(t);let e=t[A];for(let n=Ce;n<e.bindingStartIndex;n++)if(Tt(t[n])){let r=t[n];Ta(r)}else ut(t[n])&&ra(t[n])}function nv(t){let e=t._views;for(let n of e){let r=OM(n);r!==null&&r[He]!==null&&(ut(r)?ra(r):Ta(r))}}function pS(t,e,n,r){t!==null&&(n.cleanup(e),Ta(t.lContainer),nv(r))}function gS(t,e){let n=[];for(let r of e)for(let i=0;i<(r[a_]??1);i++){let o={data:r,firstChild:null};r[Xs]>0&&(o.firstChild=t,t=Sa(r[Xs],t)),n.push(o)}return[t,n]}var rv=()=>null;function mS(t,e){let n=t[Ht];return!e||n===null||n.length===0?null:n[0].data[ZI]===e?n.shift():(ev(t),null)}function yS(){rv=mS}function ym(t,e){return rv(t,e)}var _S=class{},iv=class{},Bu=class{resolveComponentFactory(e){throw Error(`No component factory found for ${qe(e)}.`)}},Bd=class{static NULL=new Bu},un=class{},Na=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>vS()}return t})();function vS(){let t=de(),e=Ue(),n=Mt(e.index,t);return(ut(n)?n:t)[se]}var ES=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();var iu={},Cr=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ua(r);let i=this.injector.get(e,iu,r);return i!==iu||n===iu?i:this.parentInjector.get(e,n,r)}};function _m(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hg(i,a);else if(o==2){let l=a,c=e[++s];r=Hg(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function J(t,e=k.Default){let n=de();if(n===null)return G(t,e);let r=Ue();return Hy(r,n,Te(t),e)}function ov(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,l=null,c=null,u=CS(s);u===null?a=s:[a,l,c]=u,IS(t,e,n,a,o,l,c)}o!==null&&r!==null&&bS(n,r,o)}function bS(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new N(-301,!1);r.push(e[i],o)}}function CS(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&It(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,wS(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function wS(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function DS(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function IS(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&It(h)&&(l=!0,DS(t,n,f)),wu(Ys(n,e),t,h.type)}AS(n,t.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=P_(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Mi(n.mergedAttrs,h.hostAttrs),xS(t,n,e,d,h),NS(d,h,i),s!==null&&s.has(h)){let[g,E]=s.get(h);n.directiveToIndex.set(h.type,[d,g+n.directiveStart,E+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}MS(t,n,o)}function MS(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))vm(0,e,i,r),vm(1,e,i,r),bm(e,r,!1);else{let o=n.get(i);Em(0,e,o,r),Em(1,e,o,r),bm(e,r,!0)}}}function vm(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),sv(e,o)}}function Em(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),sv(e,s)}}function sv(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function bm(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Md(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function xS(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=wr(i.type,!0)),s=new kn(o,It(i),J);t.blueprint[r]=s,n[r]=s,SS(t,e,r,P_(t,n,i.hostVars,Pr),i)}function SS(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;TS(s)!=a&&s.push(a),s.push(n,r,o)}}function TS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function NS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;It(e)&&(n[""]=t)}}function AS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function av(t,e,n,r,i,o,s,a){let l=e.consts,c=Gs(l,s),u=jd(e,t,2,r,c);return o&&ov(e,n,u,Gs(l,a),i),u.mergedAttrs=Mi(u.mergedAttrs,u.attrs),u.attrs!==null&&_m(u,u.attrs,!1),u.mergedAttrs!==null&&_m(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function lv(t,e){Py(t,e),cy(e)&&t.queries.elementEnd(e)}var Hu=class extends Bd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Dr(e);return new ia(n,this.ngModule)}};function OS(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&wa.SignalBased)!==0};return i&&(o.transform=i),o})}function PS(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function RS(t,e,n){let r=e instanceof Bt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Cr(n,r):n}function kS(t){let e=t.get(un,null);if(e===null)throw new N(407,!1);let n=t.get(ES,null),r=t.get(Fn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function FS(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Dd(e,n,n==="svg"?BD:n==="math"?HD:null)}var ia=class extends iv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=OS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PS(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Z(22);let o=B(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:ix(this.componentDef.selectors[0]),l=xd(0,null,null,1,0,null,null,null,null,[a],null),c=RS(s,i||this.ngModule,e),u=kS(c),d=u.rendererFactory.createRenderer(null,s),f=r?lx(d,r,s.encapsulation,c):FS(s,d),h=Sd(null,l,null,512|O_(s),null,null,u,d,c,null,b_(f,c,!0));h[Ce]=f,dd(h);let p=null;try{let g=av(Ce,l,h,"#host",()=>[this.componentDef],!0,0);f&&(N_(d,f,g),Vi(f,h)),Nd(l,h,g),D_(l,g,h),lv(l,g),n!==void 0&&LS(g,this.ngContentSelectors,n),p=Mt(g.index,h),h[Ae]=p[Ae],Pd(l,h,null)}catch(g){throw p!==null&&Tu(p),Tu(h),g}finally{Z(23),fd()}return new Uu(this.componentType,h)}finally{B(o)}}},Uu=class extends _S{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=ha(n[A],Ce),this.location=ya(this._tNode,n),this.instance=Mt(this._tNode.index,n)[Ae],this.hostView=this.changeDetectorRef=new xi(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Od(r,i[A],i,e,n);this.previousInputValues.set(e,n);let s=Mt(r.index,i);Ia(s,1)}get injector(){return new Nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Aa=(()=>{class t{static __NG_ELEMENT_ID__=VS}return t})();function VS(){let t=Ue();return BS(t,de())}var jS=Aa,cv=class extends jS{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new Nn(this._hostTNode,this._hostLView)}get parentInjector(){let e=pd(this._hostTNode,this._hostLView);if(ky(e)){let n=qs(e,this._hostLView),r=Ws(e),i=n[A].data[r+8];return new Nn(i,n)}else return new Nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Cm(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ym(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Lu(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!FD(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new ia(Dr(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(Bt,null);g&&(o=g)}let u=Dr(l.componentType??{}),d=ym(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,Lu(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(UD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[be],c=new cv(l,l[ft],l[be]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return J_(s,i,o,r),e.attachToViewContainerRef(),Qm(ou(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Cm(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);r&&(js(ou(this._lContainer),n),Fd(r[A],r))}detach(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);return r&&js(ou(this._lContainer),n)!=null?new xi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Cm(t){return t[$s]}function ou(t){return t[$s]||(t[$s]=[])}function BS(t,e){let n,r=e[t.index];return Tt(r)?n=r:(n=Q_(r,e,null,t),e[t.index]=n,Td(e,n)),uv(n,e,t,r),new cv(n,t,e)}function HS(t,e){let n=t[se],r=n.createComment(""),i=Nt(e,t),o=n.parentNode(i);return ea(n,o,r,n.nextSibling(i),!1),r}var uv=dv,Hd=()=>!1;function US(t,e,n){return Hd(t,e,n)}function dv(t,e,n,r){if(t[Ut])return;let i;n.type&8?i=dt(r):i=HS(e,n),t[Ut]=i}function $S(t,e,n){if(t[Ut]&&t[Ht])return!0;let r=n[wt],i=e.index-Ce;if(!r||jI(e)||Bi(r,i))return!1;let s=Pu(r,i),a=r.data[Ed]?.[i],[l,c]=gS(s,a);return t[Ut]=l,t[Ht]=c,!0}function zS(t,e,n,r){Hd(t,n,e)||dv(t,e,n,r)}function GS(){uv=zS,Hd=$S}var oa=class{};var sa=class extends oa{injector;componentFactoryResolver=new Hu(this);instance=null;constructor(e){super();let n=new wi([...e.providers,{provide:oa,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],e.parent||od(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fv(t,e,n=null){return new sa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var WS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=rd(!1,n.type),i=r.length>0?fv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(G(Bt))})}return t})();function Oa(t){return Ti(()=>{let e=hv(t),n=ne(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(WS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||St.Emulated,styles:t.styles||Ge,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Gt("NgStandalone"),pv(n);let r=t.dependencies;return n.directiveDefs=wm(r,!1),n.pipeDefs=wm(r,!0),n.id=QS(n),n})}function qS(t){return Dr(t)||ey(t)}function YS(t){return t!==null}function $n(t){return Ti(()=>({type:t.type,bootstrap:t.bootstrap||Ge,declarations:t.declarations||Ge,imports:t.imports||Ge,exports:t.exports||Ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KS(t,e){if(t==null)return An;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=wa.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function ZS(t){if(t==null)return An;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Wt(t){return Ti(()=>{let e=hv(t);return pv(e),e})}function hv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||An,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:KS(t.inputs,e),outputs:ZS(t.outputs),debugInfo:null}}function pv(t){t.features?.forEach(e=>e(t))}function wm(t,e){if(!t)return null;let n=e?ty:qS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(YS)}function QS(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function JS(t){return Object.getPrototypeOf(t.prototype).constructor}function kr(t){let e=JS(t.type),n=!0,r=[t];for(;e;){let i;if(It(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=su(t.inputs),s.declaredInputs=su(t.declaredInputs),s.outputs=su(t.outputs);let a=i.hostBindings;a&&rT(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&tT(t,l),c&&nT(t,c),XS(t,i),sD(t.outputs,i.outputs),It(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===kr&&(n=!1)}}e=Object.getPrototypeOf(e)}eT(r)}function XS(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function eT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mi(i.hostAttrs,n=Mi(n,i.hostAttrs))}}function su(t){return t===An?{}:t===Ge?[]:t}function tT(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nT(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function rT(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function gv(t){return oT(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function iT(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function oT(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Pa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sT(t,e,n,r,i,o,s,a,l){let c=e.consts,u=jd(e,t,4,s||null,a||null);Ey()&&ov(e,n,u,Gs(c,l),j_),u.mergedAttrs=Mi(u.mergedAttrs,u.attrs),Py(e,u);let d=u.tView=xd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function aT(t,e,n,r,i,o,s,a,l,c){let u=n+Ce,d=e.firstCreatePass?sT(u,e,t,r,i,o,s,a,l):e.data[u];ki(d,!1);let f=mv(e,t,d,n);hd()&&Ld(e,t,f,d),Vi(f,t);let h=Q_(f,t,f,d);return t[u]=h,Td(t,h),US(h,d,t),ad(d)&&Nd(e,t,d),l!=null&&F_(t,d,c),d}function Ie(t,e,n,r,i,o,s,a){let l=de(),c=Qe(),u=Gs(c.consts,o);return aT(l,c,t,e,n,r,i,u,s,a),Ie}var mv=yv;function yv(t,e,n,r){return dn(!0),e[se].createComment("")}function lT(t,e,n,r){let i=e[wt],o=!i||Ri()||Rr(n)||Bi(i,r);if(dn(o),o)return yv(t,e);let s=i.data[KI]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=xa(i,t,e,n);Ca(i,r,a);let l=wd(i,r);return Sa(l,a)}function cT(){mv=lT}var uT=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?fv(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:t,providedIn:"environment",factory:()=>new t})}return t})();var dT=new I("");function au(t,e,n){return t.get(uT).getOrCreateInjector(e,t,n,"")}function fT(t,e,n){if(t instanceof Cr){let i=t.injector,o=t.parentInjector,s=au(o,e,n);return new Cr(i,s)}let r=t.get(Bt);if(r!==t){let i=au(r,e,n);return new Cr(t,i)}return au(t,e,n)}function _r(t,e,n,r=!1){let i=n[be],o=i[A];if(Bn(i))return;let s=ji(i,e),a=s[va],l=s[fM];if(!(l!==null&&t<l)&&Dm(a,t)&&Dm(s[cM]??-1,t)){let c=Ea(o,e),d=!r&&!0&&(yM(c)!==null||um(c,me.Loading)!==null||um(c,me.Placeholder))?gT:pT;try{d(t,s,n,e,i)}catch(f){Ad(i,f)}}}function hT(t,e){let n=t[Ht]?.findIndex(i=>i.data[XI]===e[va])??-1;return{dehydratedView:n>-1?t[Ht][n]:null,dehydratedViewIx:n}}function pT(t,e,n,r,i){Z(20);let o=mM(t,i,r);if(o!==null){e[va]=t;let s=i[A],a=o+Ce,l=ha(s,a),c=0;Yx(n,c);let u;if(t===me.Complete){let p=Ea(s,r),g=p.providers;g&&g.length>0&&(u=fT(i[Dt],p,g))}let{dehydratedView:d,dehydratedViewIx:f}=hT(n,e),h=B_(i,l,null,{injector:u,dehydratedView:d});if(J_(n,h,c,Lu(l,d)),Ia(h,2),f>-1&&n[Ht]?.splice(f,1),(t===me.Complete||t===me.Error)&&Array.isArray(e[br])){for(let p of e[br])p();e[br]=null}}Z(21)}function Dm(t,e){return t<e}function Im(t,e,n){t.loadingPromise.then(()=>{t.loadingState===je.COMPLETE?_r(me.Complete,e,n):t.loadingState===je.FAILED&&_r(me.Error,e,n)})}var gT=null;var _v=new I("");var mT=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>new $u})}return t})(),$u=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Hi(t){return!!t&&typeof t.then=="function"}function vv(t){return!!t&&typeof t.subscribe=="function"}var yT=new I("");var Ev=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=w(yT,{optional:!0})??[];injector=w($t);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=sd(this.injector,i);if(Hi(o))n.push(o);else if(vv(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ui=new I("");function _T(){wc(()=>{throw new N(600,!1)})}function vT(t){return t.isBoundToModule}var ET=10;var Ze=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=w(PI);afterRenderManager=w(h_);zonelessEnabled=w(ma);rootEffectScheduler=w(mT);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Vt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=w(Hn).hasPendingTasks.pipe(xn(n=>!n));constructor(){w(Or,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=w(Bt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=$t.NULL){Z(10);let o=n instanceof iv;if(!this._injector.get(Ev).done){let h="";throw new N(405,h)}let a;o?a=n:a=this._injector.get(Bd).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=vT(a)?void 0:this._injector.get(oa),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,f=u.injector.get(_v,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ps(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),Z(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new N(101,!1);let n=B(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,B(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(un,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ET;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)bT(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ps(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ui,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ps(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ps(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bT(t,e,n,r){if(!n&&!pa(t))return;q_(t,e,n&&!r?0:1)}function CT(t,e,n){let r=e[Dt],i=e[A];if(t.loadingState!==je.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=ji(e,n),s=_M(i,t);t.loadingState=je.IN_PROGRESS,Os(1,o);let a=t.dependencyResolverFn,l=r.get(MI).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(c=>{let u=!1,d=[],f=[];for(let h of c)if(h.status==="fulfilled"){let p=h.value,g=Dr(p)||ey(p);if(g)d.push(g);else{let E=ty(p);E&&f.push(E)}}else{u=!0;break}if(u){if(t.loadingState=je.FAILED,t.errorTmplIndex===null){let h="",p=new N(-750,!1);Ad(e,p)}}else{t.loadingState=je.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=dm(h.directiveRegistry,d);let p=d.map(E=>E.type),g=rd(!1,...p);t.providers=g}f.length>0&&(h.pipeRegistry=dm(h.pipeRegistry,f))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,l()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=je.COMPLETE,l()}),t.loadingPromise)}function wT(t,e){return e[Dt].get(dT,null,{optional:!0})?.behavior!==g_.Manual}function DT(t,e,n){let r=e[A],i=e[n.index];if(!wT(t,e))return;let o=ji(e,n),s=Ea(r,n);switch(pM(o),s.loadingState){case je.NOT_STARTED:_r(me.Loading,n,i),CT(s,e,n),s.loadingState===je.IN_PROGRESS&&Im(s,n,i);break;case je.IN_PROGRESS:_r(me.Loading,n,i),Im(s,n,i);break;case je.COMPLETE:_r(me.Complete,n,i);break;case je.FAILED:_r(me.Error,n,i);break;default:}}function IT(t,e,n){return K(this,null,function*(){let r=t.get(Cd);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=VM(e,t);if(s.length===0)return;o!==null&&s.shift(),ST(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield Mm(t,s,n):r.awaitParentBlock(a,()=>K(null,null,function*(){return yield Mm(t,s,n)}))})}function Mm(t,e,n){return K(this,null,function*(){let r=t.get(Cd),i=r.hydrating,o=t.get(Hn),s=o.add();for(let l=0;l<e.length;l++){let c=e[l],u=r.get(c);if(u!=null){if(yield NT(u),yield TT(t),MT(u)){hS(u),xm(e.slice(l),r);break}i.get(c).resolve()}else{xT(l,e,r),xm(e.slice(l),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),pS(r.get(a),e,r,t.get(Ze))})}function MT(t){return ji(t.lView,t.tNode)[va]===me.Error}function xT(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Ta(i.lContainer)}function xm(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function ST(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function TT(t){return new Promise(e=>p_(e,{injector:t}))}function NT(t){return K(this,null,function*(){let{tNode:e,lView:n}=t,r=ji(n,e);return new Promise(i=>{AT(r,i),DT(2,n,e)})})}function AT(t,e){Array.isArray(t[br])||(t[br]=[]),t[br].push(e)}function OT(t,e,n,r){return Pa(t,ud(),n)?e+Gm(n)+r:Pr}function xs(t,e){return t<<17|e<<2}function Ln(t){return t>>17&32767}function PT(t){return(t&2)==2}function RT(t,e){return t&131071|e<<17}function zu(t){return t|2}function Sr(t){return(t&131068)>>2}function lu(t,e){return t&-131069|e<<2}function kT(t){return(t&1)===1}function Gu(t){return t|1}function FT(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ln(s),l=Sr(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ai(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=Ln(t[a+1]);t[r+1]=xs(f,a),f!==0&&(t[f+1]=lu(t[f+1],r)),t[a+1]=RT(t[a+1],r)}else t[r+1]=xs(a,0),a!==0&&(t[a+1]=lu(t[a+1],r)),a=r;else t[r+1]=xs(l,0),a===0?a=r:t[l+1]=lu(t[l+1],r),l=r;c&&(t[r+1]=zu(t[r+1])),Sm(t,u,r,!0),Sm(t,u,r,!1),LT(e,u,t,r,o),s=xs(a,l),o?e.classBindings=s:e.styleBindings=s}function LT(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ai(o,e)>=0&&(n[r+1]=Gu(n[r+1]))}function Sm(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ln(i):Sr(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];VT(l,e)&&(a=!0,t[s+1]=r?Gu(c):zu(c)),s=r?Ln(c):Sr(c)}a&&(t[n+1]=r?zu(i):Gu(i))}function VT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ai(t,e)>=0:!1}function X(t,e,n){let r=de(),i=ud();if(Pa(r,i,e)){let o=Qe(),s=Ny();V_(o,s,r,t,e,r[se],n,!1)}return X}function Tm(t,e,n,r,i){Od(e,t,n,i?"class":"style",r)}function pe(t,e,n){return bv(t,e,n,!1),pe}function ht(t,e){return bv(t,e,null,!0),ht}function bv(t,e,n,r){let i=de(),o=Qe(),s=eI(2);if(o.firstUpdatePass&&BT(o,t,s,r),e!==Pr&&Pa(i,s,e)){let a=o.data[Nr()];GT(o,a,i,i[se],t,i[s+1]=WT(e,n),r,s)}}function jT(t,e){return e>=t.expandoStartIndex}function BT(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Nr()],s=jT(t,n);qT(o,r)&&e===null&&!s&&(e=!1),e=HT(i,o,e,r),FT(i,o,e,n,s,r)}}function HT(t,e,n,r){let i=iI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cu(null,t,e,n,r),n=Si(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cu(i,t,e,n,r),o===null){let l=UT(t,e,r);l!==void 0&&Array.isArray(l)&&(l=cu(null,t,e,l[1],r),l=Si(l,e.attrs,r),$T(t,e,r,l))}else o=zT(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function UT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Sr(r)!==0)return t[Ln(r)]}function $T(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ln(i)]=r}function zT(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Si(r,s,n)}return Si(r,e.attrs,n)}function cu(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Si(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Si(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DD(t,s,n?!0:e[++o]))}return t===void 0?null:t}function GT(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=kT(c)?Nm(l,e,n,i,Sr(c),s):void 0;if(!aa(u)){aa(o)||PT(c)&&(o=Nm(l,null,n,i,a,s));let d=py(Nr(),n);Rx(r,s,d,i,o)}}function Nm(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Pr&&(f=d?Ge:void 0);let h=d?Kc(f,r):u===r?f:void 0;if(c&&!aa(h)&&(h=Kc(l,r)),aa(h)&&(a=h,s))return a;let p=t[i+1];i=s?Ln(p):Sr(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Kc(l,r))}return a}function aa(t){return t!==void 0}function WT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=qe(I_(t)))),t}function qT(t,e){return(t.flags&(e?8:16))!==0}function m(t,e,n,r){let i=de(),o=Qe(),s=Ce+t,a=i[se],l=o.firstCreatePass?av(s,o,i,e,j_,Ey(),n,r):o.data[s],c=Cv(o,i,l,a,e,t);i[s]=c;let u=ad(l);return ki(l,!0),N_(a,c,l),!Rr(l)&&hd()&&Ld(o,i,c,l),(GD()===0||u)&&Vi(c,i),WD(),u&&(Nd(o,i,l),D_(o,l,i)),r!==null&&F_(i,l),m}function y(){let t=Ue();Cy()?JD():(t=t.parent,ki(t,!1));let e=t;YD(e)&&ZD(),qD();let n=Qe();return n.firstCreatePass&&lv(n,e),e.classesWithoutHost!=null&&cI(e)&&Tm(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&uI(e)&&Tm(n,e,de(),e.stylesWithoutHost,!1),y}function Je(t,e,n,r){return m(t,e,n,r),y(),Je}var Cv=(t,e,n,r,i,o)=>(dn(!0),Dd(r,i,Ay()));function YT(t,e,n,r,i,o){let s=e[wt],a=!s||Ri()||Rr(n)||Bi(s,o);if(dn(a),a)return Dd(r,i,Ay());let l=xa(s,t,e,n);return C_(s,o)&&Ca(s,o,l.nextSibling),s&&(Qy(n)||Jy(l))&&jn(n)&&(KD(n),T_(l)),l}function KT(){Cv=YT}var ZT=(t,e,n,r)=>(dn(!0),x_(e[se],""));function QT(t,e,n,r){let i,o=e[wt],s=!o||Ri()||Bi(o,r)||Rr(n);if(dn(s),s)return x_(e[se],"");let a=xa(o,t,e,n),l=FM(o,r);return Ca(o,r,a),i=Sa(l,a),i}function JT(){ZT=QT}function Xe(){return de()}var la="en-US";var XT=la;function eN(t){typeof t=="string"&&(XT=t.toLowerCase().replace(/_/g,"-"))}function Am(t,e,n){return function r(i){if(i===Function)return n;let o=jn(t)?Mt(t.index,e):e;Ia(o,5);let s=e[Ae],a=Om(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Om(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Om(t,e,n,r){let i=B(null);try{return Z(6,e,n),n(r)!==!1}catch(o){return tN(t,o),!1}finally{Z(7,e,n),B(i)}}function tN(t,e){let n=t[Dt],r=n?n.get(xt,null):null;r&&r.handleError(e)}function Pm(t,e,n,r,i,o){let s=e[n],a=e[A],c=a.data[n].outputs[r],u=s[c],d=a.firstCreatePass?vy(a):null,f=_y(e),h=u.subscribe(o),p=f.length;f.push(o,h),d&&d.push(i,t.index,p,-(p+1))}function ee(t,e,n,r){let i=de(),o=Qe(),s=Ue();return wv(o,i,i[se],s,t,e,r),ee}function nN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Hs],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function wv(t,e,n,r,i,o,s){let a=ad(r),c=t.firstCreatePass?vy(t):null,u=_y(e),d=!0;if(r.type&3||s){let f=Nt(r,e),h=s?s(f):f,p=u.length,g=s?T=>s(dt(T[r.index])):r.index,E=null;if(!s&&a&&(E=nN(t,e,i,r.index)),E!==null){let T=E.__ngLastListenerFn__||E;T.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,d=!1}else{o=Am(r,e,o),DM(e,h,i,o);let T=n.listen(h,i,o);u.push(o,T),c&&c.push(i,g,p,p+1)}}else o=Am(r,e,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],E=h[p+1];Pm(r,e,g,E,i,o)}if(f&&f.length)for(let p of f)Pm(r,e,p,i,i,o)}}function W(t=1){return sI(t)}function _(t,e=""){let n=de(),r=Qe(),i=t+Ce,o=r.firstCreatePass?jd(r,i,1,e,null):r.data[i],s=Dv(r,n,o,e,t);n[i]=s,hd()&&Ld(r,n,s,o),ki(o,!1)}var Dv=(t,e,n,r,i)=>(dn(!0),M_(e[se],r));function rN(t,e,n,r,i){let o=e[wt],s=!o||Ri()||Rr(n)||Bi(o,i);return dn(s),s?M_(e[se],r):xa(o,t,e,n)}function iN(){Dv=rN}function et(t){return qt("",t,""),et}function qt(t,e,n){let r=de(),i=OT(r,t,e,n);return i!==Pr&&oN(r,Nr(),i),qt}function oN(t,e,n){let r=py(e,t);zM(t[se],r,n)}function $i(t,e,n){Zy(e)&&(e=e());let r=de(),i=ud();if(Pa(r,i,e)){let o=Qe(),s=Ny();V_(o,s,r,t,e,r[se],n,!1)}return $i}function Ra(t,e){let n=Zy(t);return n&&t.set(e),n}function zi(t,e){let n=de(),r=Qe(),i=Ue();return wv(r,n,n[se],i,t,e),zi}function sN(t,e,n){let r=Qe();if(r.firstCreatePass){let i=It(t);Wu(n,r.data,r.blueprint,i,!0),Wu(e,r.data,r.blueprint,i,!1)}}function Wu(t,e,n,r,i){if(t=Te(t),Array.isArray(t))for(let o=0;o<t.length;o++)Wu(t[o],e,n,r,i);else{let o=Qe(),s=de(),a=Ue(),l=Ir(t)?t:Te(t.provide),c=iy(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ir(t)||!t.multi){let h=new kn(c,i,J),p=du(l,e,i?u:u+f,d);p===-1?(wu(Ys(a,s),o,l),uu(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=du(l,e,u+f,d),p=du(l,e,u,u+f),g=h>=0&&n[h],E=p>=0&&n[p];if(i&&!E||!i&&!g){wu(Ys(a,s),o,l);let T=cN(i?lN:aN,n.length,i,r,c);!i&&E&&(n[p].providerFactory=T),uu(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=Iv(n[i?p:h],c,!i&&r);uu(o,t,h>-1?h:p,T)}!i&&r&&E&&n[p].componentProviders++}}}function uu(t,e,n,r){let i=Ir(e),o=ND(e);if(i||o){let l=(o?Te(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Iv(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function du(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function aN(t,e,n,r,i){return qu(this.multi,[])}function lN(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ks(r,r[A],this.providerFactory.index,i);s=l.slice(0,a),qu(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],qu(o,s);return s}function qu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function cN(t,e,n,r,i){let o=new kn(t,n,J);return o.multi=[],o.index=e,o.componentProviders=0,Iv(o,i,r&&!n),o}function Ud(t,e=[]){return n=>{n.providersResolver=(r,i)=>sN(r,i?i(t):t,e)}}var uN=(()=>{class t{zone=w(he);changeDetectionScheduler=w(Fn);applicationRef=w(Ze);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dN=new I("",{factory:()=>!1});function Mv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new he(ne(S({},Sv()),{scheduleInRootZone:n})),[{provide:he,useFactory:t},{provide:On,multi:!0,useFactory:()=>{let r=w(uN,{optional:!0});return()=>r.initialize()}},{provide:On,multi:!0,useFactory:()=>{let r=w(fN);return()=>{r.initialize()}}},e===!0?{provide:Wy,useValue:!0}:[],{provide:qy,useValue:n??Gy}]}function xv(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Mv({ngZoneFactory:()=>{let i=Sv(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Gt("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Oi([{provide:dN,useValue:!0},{provide:ma,useValue:!1},r])}function Sv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var fN=(()=>{class t{subscription=new Se;initialized=!1;zone=w(he);pendingTasks=w(Hn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hN=(()=>{class t{appRef=w(Ze);taskService=w(Hn);ngZone=w(he);zonelessEnabled=w(ma);tracing=w(Or,{optional:!0});disableScheduling=w(Wy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(w(qy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Su||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?rm:Yy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pN(){return typeof $localize<"u"&&$localize.locale||la}var $d=new I("",{providedIn:"root",factory:()=>w($d,k.Optional|k.SkipSelf)||pN()});var Yu=new I(""),gN=new I("");function vi(t){return!t.moduleRef}function mN(t){let e=vi(t)?t.r3Injector:t.moduleRef.injector,n=e.get(he);return n.run(()=>{vi(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(xt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),vi(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Yu);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Yu);s.add(o),t.moduleRef.onDestroy(()=>{Ps(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return _N(r,n,()=>{let o=e.get(Ev);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get($d,la);if(eN(s||la),!e.get(gN,!0))return vi(t)?e.get(Ze):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(vi(t)){let l=e.get(Ze);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return yN(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function yN(t,e){let n=t.injector.get(Ze);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new N(-403,!1);e.push(t)}function _N(t,e,n){try{let r=n();return Hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Rs=null;function vN(t=[],e){return $t.create({name:e,providers:[{provide:da,useValue:"platform"},{provide:Yu,useValue:new Set([()=>Rs=null])},...t]})}function EN(t=[]){if(Rs)return Rs;let e=vN(t);return Rs=e,_T(),bN(e),e}function bN(t){let e=t.get(yd,null);sd(t,()=>{e?.forEach(n=>n())})}var zd=(()=>{class t{static __NG_ELEMENT_ID__=CN}return t})();function CN(t){return wN(Ue(),de(),(t&16)===16)}function wN(t,e,n){if(jn(t)&&!n){let r=Mt(t.index,e);return new xi(r,r)}else if(t.type&175){let r=e[Ke];return new xi(r,e)}return null}var Ku=class{constructor(){}supports(e){return gv(e)}create(e){return new Zu(e)}},DN=(t,e)=>e,Zu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||DN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Rm(r,i,o)?n:r,a=Rm(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!gv(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,iT(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Qu(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ca),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ca),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Ju=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ca=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ju,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rm(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function km(){return new Gd([new Ku])}var Gd=(()=>{class t{factories;static \u0275prov=z({token:t,providedIn:"root",factory:km});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||km()),deps:[[t,new CD,new Zm]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new N(901,!1)}}return t})();function Tv(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Z(8);try{let o=i?.injector??EN(r),s=[Mv({}),{provide:Fn,useExisting:hN},...n||[]],a=new sa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return mN({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Z(9)}}var Ss=new WeakSet,Fm="",ks=[];function Lm(t){return t.get(d_,tM)}function Nv(){let t=[{provide:d_,useFactory:()=>{let e=!0;{let n=w(jt);e=!!window._ejsas?.[n]}return e&&Gt("NgEventReplay"),e}}];return t.push({provide:On,useValue:()=>{let e=w(Ze),{injector:n}=e;if(!Ss.has(e)){let r=w(am);if(Lm(n)){IM();let i=n.get(jt),o=wM(i,(s,a,l)=>{s.nodeType===Node.ELEMENT_NODE&&(vM(s,a,l),EM(s,r))});e.onDestroy(o)}}},multi:!0},{provide:Ui,useFactory:()=>{let e=w(Ze),{injector:n}=e;return()=>{!Lm(n)||Ss.has(e)||(Ss.add(e),e.onDestroy(()=>{Ss.delete(e);{let r=n.get(jt);Yc(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;let r=n.get(CM);IN(r,n);let i=n.get(am);i.get(Fm)?.forEach(bM),i.delete(Fm);let o=r.instance;kM(n)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),t}var IN=(t,e)=>{let n=e.get(jt),r=window._ejsas[n],i=t.instance=new jg(new ws(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=Bg(n);i.replayEarlyEventInfos(o),Yc(n);let s=new Ds(a=>{MN(e,a,a.currentTarget)});Vg(i,s)};function MN(t,e,n){let r=(n&&n.getAttribute(ba))??"";/d\d+/.test(r)?xN(r,t,e,n):e.eventPhase===qc.REPLAY&&y_(e,n)}function xN(t,e,n,r){ks.push({event:n,currentTarget:r}),IT(e,t,SN)}function SN(t){let e=[...ks],n=new Set(t);ks=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(ba);n.has(o)?y_(r,i):ks.push({event:r,currentTarget:i})}}var Vm=!1;function TN(){Vm||(Vm=!0,AM(),KT(),iN(),JT(),cT(),GS(),yS(),dx())}function NN(t){return t.whenStable()}function Av(){let t=[{provide:Ms,useFactory:()=>{let e=!0;return e=!!w(Ar,{optional:!0})?.get(v_,null),e&&Gt("NgHydration"),e}},{provide:On,useValue:()=>{uS(!1),w(Ms)&&(jM(_a()),TN())},multi:!0}];return t.push({provide:u_,useFactory:()=>w(Ms)},{provide:Ui,useFactory:()=>{if(w(Ms)){let e=w(Ze);return()=>{NN(e).then(()=>{e.destroyed||nv(e)})}}return()=>{}},multi:!0}),Oi(t)}function Ov(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function fn(t){return xc(t)}function Gi(t,e){return Cc(t,e?.equal)}var jm=class{[ot];constructor(e){this[ot]=e}destroy(){this[ot].destroy()}};var tt=new I("");var Pv=null;function hn(){return Pv}function Wd(t){Pv??=t}var Wi=class{};var ka=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fr=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ka(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Rv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Rv(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(Aa),J(Ma),J(Gd))};static \u0275dir=Wt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Rv(t,e){t.context.$implicit=e.item}var qi=(()=>{class t{_viewContainer;_context=new Fa;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){kv(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){kv(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(Aa),J(Ma))};static \u0275dir=Wt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Fa=class{$implicit=null;ngIf=null};function kv(t,e){if(t&&!t.createEmbeddedView)throw new N(2020,!1)}var Lr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=Vn({})}return t})();function qd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var La="browser",Fv="server";function Yd(t){return t===La}function Va(t){return t===Fv}var Yi=class{};var Ha=new I(""),Jd=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(G(Ha),G(he))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Ki=class{_doc;constructor(e){this._doc=e}manager},ja="ng-app-id";function Vv(t){for(let e of t)e.remove()}function jv(t,e){let n=e.createElement("style");return n.textContent=t,n}function AN(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ja}="${e}"],link[${ja}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ja),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Zd(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Xd=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Va(o),AN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,jv);r?.forEach(i=>this.addUsage(i,this.external,Zd))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Vv(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Vv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,jv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Zd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ja,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(G(tt),G(jt),G(vd,8),G(Un))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Kd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ef=/%COMP%/g;var Hv="%COMP%",ON=`_nghost-${Hv}`,PN=`_ngcontent-${Hv}`,RN=!0,kN=new I("",{providedIn:"root",factory:()=>RN});function FN(t){return PN.replace(ef,t)}function LN(t){return ON.replace(ef,t)}function Uv(t,e){return e.map(n=>n.replace(ef,t))}var Ji=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Va(a),this.defaultRenderer=new Zi(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===St.ShadowDom&&(r=ne(S({},r),{encapsulation:St.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ba?i.applyToHost(n):i instanceof Qi&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case St.Emulated:o=new Ba(l,c,r,this.appId,u,s,a,d,f);break;case St.ShadowDom:return new Qd(l,c,n,r,s,a,this.nonce,d,f);default:o=new Qi(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(G(Jd),G(Xd),G(jt),G(kN),G(tt),G(Un),G(he),G(vd),G(Or,8))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Zi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Kd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Bv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Kd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(zt.DashCase|zt.Important)?e.style.setProperty(n,r,i&zt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&zt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=hn().getGlobalEventTarget(this.doc,e),!e))throw new N(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Bv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qd=class extends Zi{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Uv(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Zd(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qi=class extends Zi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Uv(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ba=class extends Qi{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,l,c,u),this.contentAttr=FN(u),this.hostAttr=LN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ua=class t extends Wi{supportsDOMEvents=!0;static makeCurrent(){Wd(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=jN();return n==null?null:BN(n)}resetBaseElement(){Xi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qd(document.cookie,e)}},Xi=null;function jN(){return Xi=Xi||document.head.querySelector("base"),Xi?Xi.getAttribute("href"):null}function BN(t){return new URL(t,document.baseURI).pathname}var HN=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),zv=(()=>{class t extends Ki{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(G(tt))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),$v=["alt","control","meta","shift"],UN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$N={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Gv=(()=>{class t extends Ki{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$v.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=UN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$v.forEach(s=>{if(s!==i){let a=$N[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(G(tt))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function tf(t,e,n){return Tv(S({rootComponent:t,platformRef:n?.platformRef},zN(e)))}function zN(t){return{appProviders:[...KN,...t?.providers??[]],platformProviders:YN}}function GN(){Ua.makeCurrent()}function WN(){return new xt}function qN(){return i_(document),document}var YN=[{provide:Un,useValue:La},{provide:yd,useValue:GN,multi:!0},{provide:tt,useFactory:qN}];var KN=[{provide:da,useValue:"root"},{provide:xt,useFactory:WN},{provide:Ha,useClass:zv,multi:!0,deps:[tt]},{provide:Ha,useClass:Gv,multi:!0,deps:[tt]},Ji,Xd,Jd,{provide:un,useExisting:Ji},{provide:Yi,useClass:HN},[]];var eo=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ZN="X-Request-URL",QN="text/plain",JN="application/json",c5=`${JN}, ${QN}, */*`;var rf=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(rf||{}),nf=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new eo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var to=class t extends nf{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=rf.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var Wv=new I("");var u5=RegExp(`^${ZN}:`,"m");var XN=new I(""),eA="b",tA="h",nA="s",rA="st",iA="u",oA="rt",of=new I(""),sA=["GET","HEAD"];function aA(t,e){let f=w(of),{isCacheActive:n}=f,r=Wo(f,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!sA.includes(o)||!r.includeRequestsWithAuthHeaders&&lA(t)||r.filter?.(t)===!1)return e(t);let s=w(Ar);if(w(XN,{optional:!0}))throw new N(2803,!1);let l=t.url,c=cA(t,l),u=s.get(c,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[eA]:h,[oA]:p,[tA]:g,[nA]:E,[rA]:T,[iA]:Y}=u,te=h;switch(p){case"arraybuffer":te=new TextEncoder().encode(h).buffer;break;case"blob":te=new Blob([h]);break}let ce=new eo(g);return Fc(new to({body:te,headers:ce,status:E,statusText:T,url:Y}))}return e(t).pipe(Vc(h=>{h instanceof to}))}function lA(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function qv(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function cA(t,e){let{params:n,method:r,responseType:i}=t,o=qv(n),s=t.serializeBody();s instanceof URLSearchParams?s=qv(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),l=uA(a);return l}function uA(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Yv(t){return[{provide:of,useFactory:()=>(Gt("NgHttpTransferCache"),S({isCacheActive:!0},t))},{provide:Wv,useValue:aA,multi:!0},{provide:Ui,multi:!0,useFactory:()=>{let e=w(Ze),n=w(of);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var $a=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}($a||{});function fA(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function Kv(){return fA($a.EventReplay,Nv())}function Zv(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has($a.HttpTransferCacheOptions);return Oi([[],Av(),n.has($a.NoHttpTransferCache)||r?[]:Yv({}),e])}var za=Symbol("SIGNAL");var H=class extends Error{code;constructor(e,n){super(Jv(e,n)),this.code=e}};function hA(t){return`NG0${Math.abs(t)}`}function Jv(t,e){return`${hA(t)}${e?": "+e:""}`}function sf(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}var pA="isAngularZone",d3=pA+"_ID";var Qv=class{[za];constructor(e){this[za]=e}destroy(){this[za].destroy()}};var P=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(P||{}),nt="*";function af(t,e){return{type:P.Trigger,name:t,definitions:e,options:{}}}function Ga(t,e=null){return{type:P.Animate,styles:e,timings:t}}function Xv(t,e=null){return{type:P.Sequence,steps:t,options:e}}function Gn(t){return{type:P.Style,styles:t,offset:null}}function Wa(t,e,n=null){return{type:P.Transition,expr:t,animation:e,options:n}}var At=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},zn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Vr="!";function e0(t){return new H(3e3,!1)}function mA(){return new H(3100,!1)}function yA(){return new H(3101,!1)}function _A(t){return new H(3001,!1)}function vA(t){return new H(3003,!1)}function EA(t){return new H(3004,!1)}function n0(t,e){return new H(3005,!1)}function r0(){return new H(3006,!1)}function i0(){return new H(3007,!1)}function o0(t,e){return new H(3008,!1)}function s0(t){return new H(3002,!1)}function a0(t,e,n,r,i){return new H(3010,!1)}function l0(){return new H(3011,!1)}function c0(){return new H(3012,!1)}function u0(){return new H(3200,!1)}function d0(){return new H(3202,!1)}function f0(){return new H(3013,!1)}function h0(t){return new H(3014,!1)}function p0(t){return new H(3015,!1)}function g0(t){return new H(3016,!1)}function m0(t,e){return new H(3404,!1)}function bA(t){return new H(3502,!1)}function y0(t){return new H(3503,!1)}function _0(){return new H(3300,!1)}function v0(t){return new H(3504,!1)}function E0(t){return new H(3301,!1)}function b0(t,e){return new H(3302,!1)}function C0(t){return new H(3303,!1)}function w0(t,e){return new H(3400,!1)}function D0(t){return new H(3401,!1)}function I0(t){return new H(3402,!1)}function M0(t,e){return new H(3505,!1)}function Kt(t){switch(t.length){case 0:return new At;case 1:return t[0];default:return new zn(t)}}function df(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((f,h)=>{let p=h,g=f;if(h!=="offset")switch(p=t.normalizePropertyName(p,i),g){case Vr:g=n.get(h);break;case nt:g=r.get(h);break;default:g=t.normalizeStyleValue(h,p,g,i);break}d.set(p,g)}),u||o.push(d),a=d,s=c}),i.length)throw bA(i);return o}function qa(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&lf(n,"start",t)));break;case"done":t.onDone(()=>r(n&&lf(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&lf(n,"destroy",t)));break}}function lf(t,e,n){let r=n.totalTime,i=!!n.disabled,o=Ya(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function Ya(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Oe(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function ff(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var CA=typeof document>"u"?null:document.documentElement;function Ka(t){let e=t.parentNode||t.host||null;return e===CA?null:e}function wA(t){return t.substring(1,6)=="ebkit"}var Wn=null,t0=!1;function x0(t){Wn||(Wn=DA()||{},t0=Wn.style?"WebkitAppearance"in Wn.style:!1);let e=!0;return Wn.style&&!wA(t)&&(e=t in Wn.style,!e&&t0&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Wn.style)),e}function DA(){return typeof document<"u"?document.body:null}function hf(t,e){for(;e;){if(e===t)return!0;e=Ka(e)}return!1}function pf(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var IA=1e3,gf="{{",MA="}}",mf="ng-enter",Za="ng-leave",no="ng-trigger",ro=".ng-trigger",yf="ng-animating",Qa=".ng-animating";function Ot(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cf(parseFloat(e[1]),e[2])}function cf(t,e){switch(e){case"s":return t*IA;default:return t}}function io(t,e,n){return t.hasOwnProperty("duration")?t:SA(t,e,n)}var xA=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function SA(t,e,n){let r,i=0,o="";if(typeof t=="string"){let s=t.match(xA);if(s===null)return e.push(e0(t)),{duration:0,delay:0,easing:""};r=cf(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(i=cf(parseFloat(a),s[4]));let l=s[5];l&&(o=l)}else r=t;if(!n){let s=!1,a=e.length;r<0&&(e.push(mA()),s=!0),i<0&&(e.push(yA()),s=!0),s&&e.splice(a,0,e0(t))}return{duration:r,delay:i,easing:o}}function S0(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function pt(t,e,n){e.forEach((r,i)=>{let o=Ja(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function pn(t,e){e.forEach((n,r)=>{let i=Ja(r);t.style[i]=""})}function jr(t){return Array.isArray(t)?t.length==1?t[0]:Xv(t):t}function T0(t,e,n){let r=e.params||{},i=_f(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(_A(o))})}var uf=new RegExp(`${gf}\\s*(.+?)\\s*${MA}`,"g");function _f(t){let e=[];if(typeof t=="string"){let n;for(;n=uf.exec(t);)e.push(n[1]);uf.lastIndex=0}return e}function Br(t,e,n){let r=`${t}`,i=r.replace(uf,(o,s)=>{let a=e[s];return a==null&&(n.push(vA(s)),a=""),a.toString()});return i==r?t:i}var TA=/-+([a-z0-9])/g;function Ja(t){return t.replace(TA,(...e)=>e[1].toUpperCase())}function N0(t,e){return t===0||e===0}function A0(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Xa(t,a)))}}return e}function Pe(t,e,n){switch(e.type){case P.Trigger:return t.visitTrigger(e,n);case P.State:return t.visitState(e,n);case P.Transition:return t.visitTransition(e,n);case P.Sequence:return t.visitSequence(e,n);case P.Group:return t.visitGroup(e,n);case P.Animate:return t.visitAnimate(e,n);case P.Keyframes:return t.visitKeyframes(e,n);case P.Style:return t.visitStyle(e,n);case P.Reference:return t.visitReference(e,n);case P.AnimateChild:return t.visitAnimateChild(e,n);case P.AnimateRef:return t.visitAnimateRef(e,n);case P.Query:return t.visitQuery(e,n);case P.Stagger:return t.visitStagger(e,n);default:throw EA(e.type)}}function Xa(t,e){return window.getComputedStyle(t)[e]}var kf=(()=>{class t{validateStyleProperty(n){return x0(n)}containsElement(n,r){return hf(n,r)}getParentElement(n){return Ka(n)}query(n,r,i){return pf(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,a=[],l){return new At(i,o)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=sf({token:t,factory:t.\u0275fac})}return t})(),Yn=class{static NOOP=new kf},Kn=class{};var NA=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),il=class extends Kn{normalizePropertyName(e,n){return Ja(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(NA.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(n0(e,r))}return s+o}};var ol="*";function AA(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>OA(r,n,e)):n.push(t),n}function OA(t,e,n){if(t[0]==":"){let l=PA(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(p0(t)),e;let i=r[1],o=r[2],s=r[3];e.push(O0(i,s));let a=i==ol&&s==ol;o[0]=="<"&&!a&&e.push(O0(s,i))}function PA(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(g0(t)),"* => *"}}var el=new Set(["true","1"]),tl=new Set(["false","0"]);function O0(t,e){let n=el.has(t)||tl.has(t),r=el.has(e)||tl.has(e);return(i,o)=>{let s=t==ol||t==i,a=e==ol||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?el.has(t):tl.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?el.has(e):tl.has(e)),s&&a}}var U0=":self",RA=new RegExp(`s*${U0}s*,?`,"g");function $0(t,e,n,r){return new Df(t).build(e,n,r)}var P0="",Df=class{_driver;constructor(e){this._driver=e}build(e,n,r){let i=new If(n);return this._resetContextStyleTimingState(i),Pe(this,jr(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=P0,e.collectedStyles=new Map,e.collectedStyles.set(P0,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(r0()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==P.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,n))}),l.name=c}else if(a.type==P.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,s.push(l)}else n.errors.push(i0())}),{type:P.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{_f(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&n.errors.push(o0(e.name,[...o.values()]))}return{type:P.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Pe(this,jr(e.animation),n),i=AA(e.expr,n.errors);return{type:P.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:qn(e.options)}}visitSequence(e,n){return{type:P.Sequence,steps:e.steps.map(r=>Pe(this,r,n)),options:qn(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=Pe(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:P.Group,steps:o,options:qn(e.options)}}visitAnimate(e,n){let r=VA(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:Gn({});if(o.type==P.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};r.easing&&(c.easing=r.easing),s=Gn(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:P.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===nt?r.push(a):n.errors.push(s0(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(gf)>=0){o=!0;break}}}),{type:P.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(a0(l,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),n.options&&T0(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:P.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(l0()),r;let i=1,o=0,s=[],a=!1,l=!1,c=0,u=e.steps.map(T=>{let Y=this._makeStyleAst(T,n),te=Y.offset!=null?Y.offset:LA(Y.styles),ce=0;return te!=null&&(o++,ce=Y.offset=te),l=l||ce<0||ce>1,a=a||ce<c,c=ce,s.push(ce),Y});l&&n.errors.push(c0()),a&&n.errors.push(u0());let d=e.steps.length,f=0;o>0&&o<d?n.errors.push(d0()):o==0&&(f=i/(d-1));let h=d-1,p=n.currentTime,g=n.currentAnimateTimings,E=g.duration;return u.forEach((T,Y)=>{let te=f>0?Y==h?1:f*Y:s[Y],ce=te*E;n.currentTime=p+g.delay+ce,g.duration=ce,this._validateStyleAst(T,n),T.offset=te,r.styles.push(T)}),r}visitReference(e,n){return{type:P.Reference,animation:Pe(this,jr(e.animation),n),options:qn(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:P.AnimateChild,options:qn(e.options)}}visitAnimateRef(e,n){return{type:P.AnimateRef,animation:this.visitReference(e.animation,n),options:qn(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=kA(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Oe(n.collectedStyles,n.currentQuerySelector,new Map);let a=Pe(this,jr(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:P.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:qn(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(f0());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:io(e.timings,n.errors,!0);return{type:P.Stagger,animation:Pe(this,jr(e.animation),n),timings:r,options:null}}};function kA(t){let e=!!t.split(/\s*,\s*/).find(n=>n==U0);return e&&(t=t.replace(RA,"")),t=t.replace(/@\*/g,ro).replace(/@\w+/g,n=>ro+"-"+n.slice(1)).replace(/:animating/g,Qa),[t,e]}function FA(t){return t?S({},t):null}var If=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function LA(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function VA(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=io(t,e).duration;return vf(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=vf(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=io(n,e);return vf(i.duration,i.delay,i.easing)}function qn(t){return t?(t=S({},t),t.params&&(t.params=FA(t.params))):t={},t}function vf(t,e,n){return{duration:t,delay:e,easing:n}}function Ff(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var so=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},jA=1,BA=":enter",HA=new RegExp(BA,"g"),UA=":leave",$A=new RegExp(UA,"g");function z0(t,e,n,r,i,o=new Map,s=new Map,a,l,c=[]){return new Mf().buildKeyframes(t,e,n,r,i,o,s,a,l,c)}var Mf=class{buildKeyframes(e,n,r,i,o,s,a,l,c,u=[]){c=c||new so;let d=new xf(e,n,c,i,o,u,[]);d.options=l;let f=l.delay?Ot(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,l),Pe(this,r,d);let h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let g=h.length-1;g>=0;g--){let E=h[g];if(E.element===n){p=E;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[Ff(n,[],[],[],0,f,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Ot(Br(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?Ot(r.duration):null,a=r.delay!=null?Ot(r.delay):null;return s!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Pe(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==P.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=sl);let s=Ot(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Pe(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Ot(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Pe(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Br(r,n.params,n.errors):r;return io(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==P.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ot(i.delay):0;o&&(n.previousNode.type===P.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=sl);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);o&&d.delayNextStep(o),c===n.element&&(l=d.currentTimeline),Pe(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;s=Math.max(s,f)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Pe(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},sl={},xf=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=sl;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,r,i,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new al(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Ot(r.duration)),r.delay!=null&&(i.delay=Ot(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Br(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=sl,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Sf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(HA,"."+this._enterClassName),e=e.replace($A,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&a.length==0&&s.push(h0(n)),a}},al=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=jA,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||nt),this._currentKeyframe.set(n,nt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=zA(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Br(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??nt),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Vr?e.add(d):u===nt&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Ff(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Sf=class extends al{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",R0(a)),o.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),h=f.get("offset"),p=n+h*r;f.set("offset",R0(p/s)),o.push(f)}r=s,n=0,i="",e=o}return Ff(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function R0(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function zA(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,nt)}else for(let[o,s]of i)n.set(o,s)}),n}function k0(t,e,n,r,i,o,s,a,l,c,u,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var Ef={},ll=class{_triggerName;ast;_stateStyles;constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return GA(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||Ef,h=a&&a.params||Ef,p=this.buildStyles(r,h,d),g=l&&l.params||Ef,E=this.buildStyles(i,g,d),T=new Set,Y=new Map,te=new Map,ce=i==="void",lr={params:G0(g,f),delay:this.ast.options?.delay},vt=u?[]:z0(e,n,this.ast.animation,o,s,p,E,lr,c,d),xe=0;return vt.forEach(Ne=>{xe=Math.max(Ne.duration+Ne.delay,xe)}),d.length?k0(n,this._triggerName,r,i,ce,p,E,[],[],Y,te,xe,d):(vt.forEach(Ne=>{let bn=Ne.element,cr=Oe(Y,bn,new Set);Ne.preStyleProps.forEach(Cn=>cr.add(Cn));let Vp=Oe(te,bn,new Set);Ne.postStyleProps.forEach(Cn=>Vp.add(Cn)),bn!==n&&T.add(bn)}),k0(n,this._triggerName,r,i,ce,p,E,vt,[...T.values()],Y,te,xe))}};function GA(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function G0(t,e){let n=S({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Tf=class{styles;defaultParams;normalizer;constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=G0(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Br(s,i,n));let l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),r.set(a,s)})}),r}};function WA(t,e,n){return new Nf(t,e,n)}var Nf=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Tf(i.style,o,r))}),F0(this.states,"true","1"),F0(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new ll(e,i,this.states))}),this.fallbackTransition=qA(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function qA(t,e,n){let r=[(s,a)=>!0],i={type:P.Sequence,steps:[],options:null},o={type:P.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new ll(t,o,e)}function F0(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var YA=new so,Af=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r}register(e,n){let r=[],i=[],o=$0(this._driver,n,r,i);if(r.length)throw y0(r);this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=df(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=z0(this._driver,n,o,mf,Za,new Map,new Map,r,YA,i),s.forEach(u=>{let d=Oe(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(_0()),s=[]),i.length)throw v0(i);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,nt))})});let l=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Kt(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw E0(e);return n}listen(e,n,r,i){let o=Ya(n,"","","");return qa(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},L0="ng-animate-queued",KA=".ng-animate-queued",bf="ng-animate-disabled",ZA=".ng-animate-disabled",QA="ng-star-inserted",JA=".ng-star-inserted",XA=[],W0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gt="__ng_removed",ao=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=nO(i),r){let o=e,{value:s}=o,a=Wo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},oo="void",Cf=new ao(oo),Of=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+e,rt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw b0(r,n);if(r==null||r.length==0)throw C0(n);if(!rO(r))throw w0(r,n);let o=Oe(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=Oe(this._engine.statesByElement,e,new Map);return a.has(n)||(rt(e,no),rt(e,no+"-"+n),a.set(n,Cf)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw D0(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new lo(this.id,n,e),a=this._engine.statesByElement.get(e);a||(rt(e,no),rt(e,no+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new ao(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=Cf),!(c.value===oo)&&l.value===c.value){if(!sO(l.params,c.params)){let g=[],E=o.matchStyles(l.value,l.params,g),T=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{pn(e,E),pt(e,T)})}return}let f=Oe(this._engine.playersByElement,e,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let h=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!h){if(!i)return;h=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(rt(e,L0),s.onStart(()=>{Hr(e,L0)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);let E=this._engine.playersByElement.get(e);if(E){let T=E.indexOf(s);T>=0&&E.splice(T,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,ro,!0);r.forEach(i=>{if(i[gt])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,oo,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Kt(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=r.get(s)||Cf,u=new ao(oo),d=new lo(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[gt];(!o||o===W0)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){rt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=Ya(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,qa(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Pf=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Of(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(nl(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!nl(n))return;let o=n[gt];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rt(e,bf)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hr(e,bf))}removeNode(e,n,r){if(nl(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[gt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return nl(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,ro,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Qa,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[gt];if(n&&n.setForRemoval){if(e[gt]=W0,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(bf)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ZA,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];rt(i,QA)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Kt(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw I0(e)}_flushAnimations(e,n){let r=new so,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(b=>{u.add(b);let D=this.driver.query(b,KA,!0);for(let x=0;x<D.length;x++)u.add(D[x])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=B0(f,this.collectedEnterElements),p=new Map,g=0;h.forEach((b,D)=>{let x=mf+g++;p.set(D,x),b.forEach($=>rt($,x))});let E=[],T=new Set,Y=new Set;for(let b=0;b<this.collectedLeaveElements.length;b++){let D=this.collectedLeaveElements[b],x=D[gt];x&&x.setForRemoval&&(E.push(D),T.add(D),x.hasAnimation?this.driver.query(D,JA,!0).forEach($=>T.add($)):Y.add(D))}let te=new Map,ce=B0(f,Array.from(T));ce.forEach((b,D)=>{let x=Za+g++;te.set(D,x),b.forEach($=>rt($,x))}),e.push(()=>{h.forEach((b,D)=>{let x=p.get(D);b.forEach($=>Hr($,x))}),ce.forEach((b,D)=>{let x=te.get(D);b.forEach($=>Hr($,x))}),E.forEach(b=>{this.processLeaveNode(b)})});let lr=[],vt=[];for(let b=this._namespaceList.length-1;b>=0;b--)this._namespaceList[b].drainQueuedTransitions(n).forEach(x=>{let $=x.player,ve=x.element;if(lr.push($),this.collectedEnterElements.length){let De=ve[gt];if(De&&De.setForMove){if(De.previousTriggersValues&&De.previousTriggersValues.has(x.triggerName)){let wn=De.previousTriggersValues.get(x.triggerName),$e=this.statesByElement.get(x.element);if($e&&$e.has(x.triggerName)){let zo=$e.get(x.triggerName);zo.value=wn,$e.set(x.triggerName,zo)}}$.destroy();return}}let Et=!d||!this.driver.containsElement(d,ve),Ve=te.get(ve),nn=p.get(ve),ue=this._buildInstruction(x,r,nn,Ve,Et);if(ue.errors&&ue.errors.length){vt.push(ue);return}if(Et){$.onStart(()=>pn(ve,ue.fromStyles)),$.onDestroy(()=>pt(ve,ue.toStyles)),i.push($);return}if(x.isFallbackTransition){$.onStart(()=>pn(ve,ue.fromStyles)),$.onDestroy(()=>pt(ve,ue.toStyles)),i.push($);return}let Hp=[];ue.timelines.forEach(De=>{De.stretchStartingKeyframe=!0,this.disabledNodes.has(De.element)||Hp.push(De)}),ue.timelines=Hp,r.append(ve,ue.timelines);let WC={instruction:ue,player:$,element:ve};s.push(WC),ue.queriedElements.forEach(De=>Oe(a,De,[]).push($)),ue.preStyleProps.forEach((De,wn)=>{if(De.size){let $e=l.get(wn);$e||l.set(wn,$e=new Set),De.forEach((zo,cc)=>$e.add(cc))}}),ue.postStyleProps.forEach((De,wn)=>{let $e=c.get(wn);$e||c.set(wn,$e=new Set),De.forEach((zo,cc)=>$e.add(cc))})});if(vt.length){let b=[];vt.forEach(D=>{b.push(M0(D.triggerName,D.errors))}),lr.forEach(D=>D.destroy()),this.reportError(b)}let xe=new Map,Ne=new Map;s.forEach(b=>{let D=b.element;r.has(D)&&(Ne.set(D,D),this._beforeAnimationBuild(b.player.namespaceId,b.instruction,xe))}),i.forEach(b=>{let D=b.element;this._getPreviousPlayers(D,!1,b.namespaceId,b.triggerName,null).forEach($=>{Oe(xe,D,[]).push($),$.destroy()})});let bn=E.filter(b=>H0(b,l,c)),cr=new Map;j0(cr,this.driver,Y,c,nt).forEach(b=>{H0(b,l,c)&&bn.push(b)});let Cn=new Map;h.forEach((b,D)=>{j0(Cn,this.driver,new Set(b),l,Vr)}),bn.forEach(b=>{let D=cr.get(b),x=Cn.get(b);cr.set(b,new Map([...D?.entries()??[],...x?.entries()??[]]))});let lc=[],jp=[],Bp={};s.forEach(b=>{let{element:D,player:x,instruction:$}=b;if(r.has(D)){if(u.has(D)){x.onDestroy(()=>pt(D,$.toStyles)),x.disabled=!0,x.overrideTotalTime($.totalTime),i.push(x);return}let ve=Bp;if(Ne.size>1){let Ve=D,nn=[];for(;Ve=Ve.parentNode;){let ue=Ne.get(Ve);if(ue){ve=ue;break}nn.push(Ve)}nn.forEach(ue=>Ne.set(ue,ve))}let Et=this._buildAnimation(x.namespaceId,$,xe,o,Cn,cr);if(x.setRealPlayer(Et),ve===Bp)lc.push(x);else{let Ve=this.playersByElement.get(ve);Ve&&Ve.length&&(x.parentPlayer=Kt(Ve)),i.push(x)}}else pn(D,$.fromStyles),x.onDestroy(()=>pt(D,$.toStyles)),jp.push(x),u.has(D)&&i.push(x)}),jp.forEach(b=>{let D=o.get(b.element);if(D&&D.length){let x=Kt(D);b.setRealPlayer(x)}}),i.forEach(b=>{b.parentPlayer?b.syncPlayerEvents(b.parentPlayer):b.destroy()});for(let b=0;b<E.length;b++){let D=E[b],x=D[gt];if(Hr(D,Za),x&&x.hasAnimation)continue;let $=[];if(a.size){let Et=a.get(D);Et&&Et.length&&$.push(...Et);let Ve=this.driver.query(D,Qa,!0);for(let nn=0;nn<Ve.length;nn++){let ue=a.get(Ve[nn]);ue&&ue.length&&$.push(...ue)}}let ve=$.filter(Et=>!Et.destroyed);ve.length?iO(this,D,ve):this.processLeaveNode(D)}return E.length=0,lc.forEach(b=>{this.players.push(b),b.onDone(()=>{b.destroy();let D=this.players.indexOf(b);this.players.splice(D,1)}),b.play()}),lc}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==oo;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==o,d=Oe(r,c,[]);this._getPreviousPlayers(c,u,s,a,n.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}pn(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,f=n.timelines.map(p=>{let g=p.element;u.add(g);let E=g[gt];if(E&&E.removedBeforeQueried)return new At(p.duration,p.delay);let T=g!==l,Y=oO((r.get(g)||XA).map(xe=>xe.getRealPlayer())).filter(xe=>{let Ne=xe;return Ne.element?Ne.element===g:!1}),te=o.get(g),ce=s.get(g),lr=df(this._normalizer,p.keyframes,te,ce),vt=this._buildPlayer(p,lr,Y);if(p.subTimeline&&i&&d.add(g),T){let xe=new lo(e,a,g);xe.setRealPlayer(vt),c.push(xe)}return vt});c.forEach(p=>{Oe(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>tO(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>rt(p,yf));let h=Kt(f);return h.onDestroy(()=>{u.forEach(p=>Hr(p,yf)),pt(l,n.toStyles)}),d.forEach(p=>{Oe(i,p,[]).push(h)}),h}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new At(e.duration,e.delay)}},lo=class{namespaceId;triggerName;element;_player=new At;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>qa(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Oe(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function tO(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function nO(t){return t??null}function nl(t){return t&&t.nodeType===1}function rO(t){return t=="start"||t=="done"}function V0(t,e){let n=t.style.display;return t.style.display=e??"none",n}function j0(t,e,n,r,i){let o=[];n.forEach(l=>o.push(V0(l)));let s=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=e.computeStyle(c,d,i);u.set(d,f),(!f||f.length==0)&&(c[gt]=eO,s.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>V0(l,o[a++])),s}function B0(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&n.get(l).push(a)}),n}function rt(t,e){t.classList?.add(e)}function Hr(t,e){t.classList?.remove(e)}function iO(t,e,n){Kt(n).onDone(()=>t.processLeaveNode(e))}function oO(t){let e=[];return q0(t,e),e}function q0(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof zn?q0(r.players,e):e.push(r)}}function sO(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function H0(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var Ur=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,r){this._driver=n,this._normalizer=r,this._transitionEngine=new Pf(e.body,n,r),this._timelineEngine=new Af(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],u=$0(this._driver,o,l,c);if(l.length)throw m0(i,l);a=WA(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=ff(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=ff(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function aO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=wf(e[0]),e.length>1&&(r=wf(e[e.length-1]))):e instanceof Map&&(n=wf(e)),n||r?new lO(t,n,r):null}var lO=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&pt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pt(this._element,this._initialStyles),this._endStyles&&(pt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(pn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pn(this._element,this._endStyles),this._endStyles=null),pt(this._element,this._initialStyles),this._state=3)}}return t})();function wf(t){let e=null;return t.forEach((n,r)=>{cO(r)&&(e=e||new Map,e.set(r,n))}),e}function cO(t){return t==="display"||t==="position"}var cl=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,n=this._triggerWebAnimation(this.element,e,this.options);if(!n)return this._onFinish(),null;this.domPlayer=n,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return n.addEventListener("finish",r),this.onDestroy(()=>{n.removeEventListener("finish",r)}),n}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){let i=this._convertKeyframesToObject(n);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Xa(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ul=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return hf(e,n)}getParentElement(e){return Ka(e)}query(e,n,r){return pf(e,n,r)}computeStyle(e,n,r){return Xa(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let c=new Map,u=s.filter(h=>h instanceof cl);N0(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=S0(n).map(h=>new Map(h));d=A0(e,d,c);let f=aO(e,d);return new cl(e,d,l,f)}};var rl="@",Y0="@.disabled",dl=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r,i){if(i){this.delegate.removeChild(e,n,r,i);return}this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==rl&&n==Y0?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r,i){return this.delegate.listen(e,n,r,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Rf=class extends dl{factory;constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==rl?n.charAt(1)=="."&&n==Y0?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r,i){if(n.charAt(0)==rl){let o=uO(e),s=n.slice(1),a="";return s.charAt(0)!=rl&&([s,a]=dO(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(e,n,r,i)}};function uO(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function dO(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var fl=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,n.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new dl(r,i,this.engine,d),c.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return n.data.animation.forEach(a),new Rf(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var hO=(()=>{class t extends Ur{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||t)(G(tt),G(Yn),G(Kn))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function pO(){return new il}function gO(t,e,n){return new fl(t,e,n)}var K0=[{provide:Kn,useFactory:pO},{provide:Ur,useClass:hO},{provide:un,useFactory:gO,deps:[Ji,Ur,he]}],F4=[{provide:Yn,useClass:kf},{provide:_d,useValue:"NoopAnimations"},...K0],mO=[{provide:Yn,useFactory:()=>new ul},{provide:_d,useFactory:()=>"BrowserAnimations"},...K0];function Z0(){return Gt("NgEagerAnimations"),[...mO]}var Q0={providers:[xv({eventCoalescing:!0}),Zv(Kv()),Z0()]};var oE=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(J(Na),J(Fi))};static \u0275dir=Wt({type:t})}return t})(),yO=(()=>{class t extends oE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=$y(t)))(i||t)}})();static \u0275dir=Wt({type:t,features:[kr]})}return t})(),sE=new I("");var _O={provide:sE,useExisting:Ni(()=>Wr),multi:!0};function vO(){let t=hn()?hn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var EO=new I(""),Wr=(()=>{class t extends oE{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!vO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(J(Na),J(Fi),J(EO,8))};static \u0275dir=Wt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ee("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ud([_O]),kr]})}return t})();var bO=new I(""),CO=new I("");function aE(t){return t!=null}function lE(t){return Hi(t)?_i(t):t}function cE(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function uE(t,e){return e.map(n=>n(t))}function wO(t){return!t.validate}function dE(t){return t.map(e=>wO(e)?e:n=>e.validate(n))}function DO(t){if(!t)return null;let e=t.filter(aE);return e.length==0?null:function(n){return cE(uE(n,e))}}function fE(t){return t!=null?DO(dE(t)):null}function IO(t){if(!t)return null;let e=t.filter(aE);return e.length==0?null:function(n){let r=uE(n,e).map(lE);return Lc(r).pipe(xn(cE))}}function hE(t){return t!=null?IO(dE(t)):null}function J0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function MO(t){return t._rawValidators}function xO(t){return t._rawAsyncValidators}function Lf(t){return t?Array.isArray(t)?t:[t]:[]}function pl(t,e){return Array.isArray(t)?t.includes(e):t===e}function X0(t,e){let n=Lf(e);return Lf(t).forEach(i=>{pl(n,i)||n.push(i)}),n}function eE(t,e){return Lf(e).filter(n=>!pl(t,n))}var gl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vf=class extends gl{name;get formDirective(){return null}get path(){return null}},po=class extends gl{_parent=null;name=null;valueAccessor=null},jf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},SO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},o8=ne(S({},SO),{"[class.ng-submitted]":"isSubmitted"}),yl=(()=>{class t extends jf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(J(po,2))};static \u0275dir=Wt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ht("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[kr]})}return t})();var co="VALID",hl="INVALID",$r="PENDING",uo="DISABLED",Gr=class{},ml=class extends Gr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},fo=class extends Gr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ho=class extends Gr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},zr=class extends Gr{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function TO(t){return(_l(t)?t.validators:t)||null}function NO(t){return Array.isArray(t)?fE(t):t||null}function AO(t,e){return(_l(e)?e.asyncValidators:t)||null}function OO(t){return Array.isArray(t)?hE(t):t||null}function _l(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Bf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fn(this.statusReactive)}set status(e){fn(()=>this.statusReactive.set(e))}_status=Gi(()=>this.statusReactive());statusReactive=Li(void 0);get valid(){return this.status===co}get invalid(){return this.status===hl}get pending(){return this.status==$r}get disabled(){return this.status===uo}get enabled(){return this.status!==uo}errors;get pristine(){return fn(this.pristineReactive)}set pristine(e){fn(()=>this.pristineReactive.set(e))}_pristine=Gi(()=>this.pristineReactive());pristineReactive=Li(!0);get dirty(){return!this.pristine}get touched(){return fn(this.touchedReactive)}set touched(e){fn(()=>this.touchedReactive.set(e))}_touched=Gi(()=>this.touchedReactive());touchedReactive=Li(!1);get untouched(){return!this.touched}_events=new Vt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(X0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(X0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(eE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(eE(e,this._rawAsyncValidators))}hasValidator(e){return pl(this._rawValidators,e)}hasAsyncValidator(e){return pl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(S({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ho(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ho(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(S({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new fo(!0,r))}markAsPending(e={}){this.status=$r;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(S({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uo,this.errors=null,this._forEachChild(i=>{i.disable(ne(S({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,r)),this._events.next(new zr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(S({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=co,this._forEachChild(r=>{r.enable(ne(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(S({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===co||this.status===$r)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,n)),this._events.next(new zr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(S({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uo:co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=$r,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=lE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new zr(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?uo:this.errors?hl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($r)?$r:this._anyControlsHaveStatus(hl)?hl:co}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new fo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ho(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_l(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=NO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=OO(this._rawAsyncValidators)}};var pE=new I("",{providedIn:"root",factory:()=>Hf}),Hf="always";function PO(t,e){return[...e.path,t]}function RO(t,e,n=Hf){FO(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),LO(t,e),jO(t,e),VO(t,e),kO(t,e)}function tE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function kO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function FO(t,e){let n=MO(t);e.validator!==null?t.setValidators(J0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=xO(t);e.asyncValidator!==null?t.setAsyncValidators(J0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();tE(e._rawValidators,i),tE(e._rawAsyncValidators,i)}function LO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gE(t,e)})}function VO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function BO(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function HO(t){return Object.getPrototypeOf(t.constructor)===yO}function UO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Wr?n=o:HO(o)?r=o:i=o}),i||r||n||null}function nE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $O=class extends Bf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(TO(n),AO(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_l(n)&&(n.nonNullable||n.initialValueIsDefault)&&(rE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){rE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zO={provide:po,useExisting:Ni(()=>go)},iE=Promise.resolve(),go=(()=>{class t extends po{_changeDetectorRef;callSetDisabledState;control=new $O;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new We;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=UO(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),BO(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){RO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){iE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ov(r);iE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?PO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(J(Vf,9),J(bO,10),J(CO,10),J(sE,10),J(zd,8),J(pE,8))};static \u0275dir=Wt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ud([zO]),kr,ld]})}return t})();var GO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=Vn({})}return t})();var vl=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:pE,useValue:n.callSetDisabledState??Hf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=Vn({imports:[GO]})}return t})();var qr=class t{nightModeSubject=new at(!1);nightMode$=this.nightModeSubject.asObservable();setNightMode(e){this.nightModeSubject.next(e)}toggleNightMode(){this.nightModeSubject.next(!this.nightModeSubject.value)}get isNightMode(){return this.nightModeSubject.value}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var _E=()=>{};var Uf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(t,e){if(!t)throw Qn(e)},Qn=function(t){return new Error("Firebase Database ("+Uf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var bE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Cl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;l||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new $f;let f=o<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$f=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zf=function(t){let e=bE(t);return Cl.encodeByteArray(e,!0)},yo=function(t){return zf(t).replace(/\./g,"")},El=function(t){try{return Cl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CE(t){return wE(void 0,t)}function wE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!qO(n)||(t[n]=wE(t[n],e[n]));return t}function qO(t){return t!=="__proto__"}function YO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KO=()=>YO().__FIREBASE_DEFAULTS__,ZO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&El(t[1]);return e&&JSON.parse(e)},DE=()=>{try{return _E()||KO()||ZO()||QO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JO=t=>DE()?.emulatorHosts?.[t],IE=t=>{let e=JO(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gf=()=>DE()?.config;var gn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function wl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ME(t){return K(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function xE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=S({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yo(JSON.stringify(n)),yo(JSON.stringify(s)),""].join(".")}var mo={};function XO(){let t={prod:[],emulator:[]};for(let e of Object.keys(mo))mo[e]?t.emulator.push(e):t.prod.push(e);return t}function eP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var vE=!1;function SE(t,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||mo[t]===e||mo[t]||vE)return;mo[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=XO().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{vE=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=eP(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),g=n("learnmore"),E=document.getElementById(g)||document.createElement("a"),T=n("preprendIcon"),Y=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let te=f.element;a(te),u(E,g);let ce=c();l(Y,T),te.append(Y,p,E,ce),document.body.appendChild(te)}o?(p.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function tP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tP())}function TE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pt(){return Uf.NODE_CLIENT===!0||Uf.NODE_ADMIN===!0}function NE(){try{return typeof indexedDB=="object"}catch{return!1}}function AE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var nP="FirebaseError",Zn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}},_o=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?rP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zn(i,a,r)}};function rP(t,e){return t.replace(iP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var iP=/\{\$([^}]+)}/g;function Yr(t){return JSON.parse(t)}function ye(t){return JSON.stringify(t)}var OE=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=Yr(El(o[0])||""),n=Yr(El(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var PE=function(t){let e=OE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RE=function(t){let e=OE(t).claims;return typeof e=="object"&&e.admin===!0};function Rt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qf(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Kr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(EE(o)&&EE(s)){if(!Kr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}function kE(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var bl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function Dl(t,e){return`${t} failed: ${e} argument `}var FE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,v(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Eo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var b8=4*60*60*1e3;function Zr(t){return t&&t._delegate?t._delegate:t}var Zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xn="[DEFAULT]";var Il=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new gn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sP(e))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return K(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xn){return this.instances.has(e)}getOptions(e=Xn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xn){return this.component?this.component.multipleInstances?e:Xn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oP(t){return t===Xn?void 0:t}function sP(t){return t.instantiationMode==="EAGER"}var bo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Il(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var aP=[],re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(re||{}),lP={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},cP=re.INFO,uP={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},dP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qr=class{constructor(e){this.name=e,this._logLevel=cP,this._logHandler=dP,this._userLogHandler=null,aP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var fP=(t,e)=>e.some(n=>t instanceof n),LE,VE;function hP(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pP(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jE=new WeakMap,Kf=new WeakMap,BE=new WeakMap,Yf=new WeakMap,Qf=new WeakMap;function gP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(kt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,t)}).catch(()=>{}),Qf.set(e,t),e}function mP(t){if(Kf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Kf.set(t,e)}var Zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HE(t){Zf=t(Zf)}function yP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ml(this),e,...n);return BE.set(r,e.sort?e.sort():[e]),kt(r)}:pP().includes(t)?function(...e){return t.apply(Ml(this),e),kt(jE.get(this))}:function(...e){return kt(t.apply(Ml(this),e))}}function _P(t){return typeof t=="function"?yP(t):(t instanceof IDBTransaction&&mP(t),fP(t,hP())?new Proxy(t,Zf):t)}function kt(t){if(t instanceof IDBRequest)return gP(t);if(Yf.has(t))return Yf.get(t);let e=_P(t);return e!==t&&(Yf.set(t,e),Qf.set(e,t)),e}var Ml=t=>Qf.get(t);function $E(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=kt(s);return r&&s.addEventListener("upgradeneeded",l=>{r(kt(s.result),l.oldVersion,l.newVersion,kt(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var vP=["get","getKey","getAll","getAllKeys","count"],EP=["put","add","delete","clear"],Jf=new Map;function UE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=EP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vP.includes(n)))return;let o=function(s,...a){return K(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return Jf.set(e,o),o}HE(t=>ne(S({},t),{get:(e,n,r)=>UE(e,n)||t.get(e,n,r),has:(e,n)=>!!UE(e,n)||t.has(e,n)}));var eh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function bP(t){return t.getComponent()?.type==="VERSION"}var th="@firebase/app",zE="0.14.6";var Qt=new Qr("@firebase/app"),CP="@firebase/app-compat",wP="@firebase/analytics-compat",DP="@firebase/analytics",IP="@firebase/app-check-compat",MP="@firebase/app-check",xP="@firebase/auth",SP="@firebase/auth-compat",TP="@firebase/database",NP="@firebase/data-connect",AP="@firebase/database-compat",OP="@firebase/functions",PP="@firebase/functions-compat",RP="@firebase/installations",kP="@firebase/installations-compat",FP="@firebase/messaging",LP="@firebase/messaging-compat",VP="@firebase/performance",jP="@firebase/performance-compat",BP="@firebase/remote-config",HP="@firebase/remote-config-compat",UP="@firebase/storage",$P="@firebase/storage-compat",zP="@firebase/firestore",GP="@firebase/ai",WP="@firebase/firestore-compat",qP="firebase",YP="12.6.0";var nh="[DEFAULT]",KP={[th]:"fire-core",[CP]:"fire-core-compat",[DP]:"fire-analytics",[wP]:"fire-analytics-compat",[MP]:"fire-app-check",[IP]:"fire-app-check-compat",[xP]:"fire-auth",[SP]:"fire-auth-compat",[TP]:"fire-rtdb",[NP]:"fire-data-connect",[AP]:"fire-rtdb-compat",[OP]:"fire-fn",[PP]:"fire-fn-compat",[RP]:"fire-iid",[kP]:"fire-iid-compat",[FP]:"fire-fcm",[LP]:"fire-fcm-compat",[VP]:"fire-perf",[jP]:"fire-perf-compat",[BP]:"fire-rc",[HP]:"fire-rc-compat",[UP]:"fire-gcs",[$P]:"fire-gcs-compat",[zP]:"fire-fst",[WP]:"fire-fst-compat",[GP]:"fire-vertex","fire-js":"fire-js",[qP]:"fire-js-all"};var xl=new Map,ZP=new Map,rh=new Map;function GE(t,e){try{t.container.addComponent(e)}catch(n){Qt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Co(t){let e=t.name;if(rh.has(e))return Qt.debug(`There were multiple attempts to register component ${e}.`),!1;rh.set(e,t);for(let n of xl.values())GE(n,t);for(let n of ZP.values())GE(n,t);return!0}function KE(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ZE(t){return t==null?!1:t.settings!==void 0}var QP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mn=new _o("app","Firebase",QP);var ih=class{constructor(e,n,r){this._isDeleted=!1,this._options=S({},e),this._config=S({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}};var QE=YP;function ah(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=S({name:nh,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw mn.create("bad-app-name",{appName:String(i)});if(n||(n=Gf()),!n)throw mn.create("no-options");let o=xl.get(i);if(o){if(Kr(n,o.options)&&Kr(r,o.config))return o;throw mn.create("duplicate-app",{appName:i})}let s=new bo(i);for(let l of rh.values())s.addComponent(l);let a=new ih(n,r,s);return xl.set(i,a),a}function JE(t=nh){let e=xl.get(t);if(!e&&t===nh&&Gf())return ah();if(!e)throw mn.create("no-app",{appName:t});return e}function yn(t,e,n){let r=KP[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qt.warn(s.join(" "));return}Co(new Zt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var JP="firebase-heartbeat-database",XP=1,wo="firebase-heartbeat-store",Xf=null;function XE(){return Xf||(Xf=$E(JP,XP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw mn.create("idb-open",{originalErrorMessage:t.message})})),Xf}function e1(t){return K(this,null,function*(){try{let n=(yield XE()).transaction(wo),r=yield n.objectStore(wo).get(eb(t));return yield n.done,r}catch(e){if(e instanceof Zn)Qt.warn(e.message);else{let n=mn.create("idb-get",{originalErrorMessage:e?.message});Qt.warn(n.message)}}})}function WE(t,e){return K(this,null,function*(){try{let r=(yield XE()).transaction(wo,"readwrite");yield r.objectStore(wo).put(e,eb(t)),yield r.done}catch(n){if(n instanceof Zn)Qt.warn(n.message);else{let r=mn.create("idb-set",{originalErrorMessage:n?.message});Qt.warn(r.message)}}})}function eb(t){return`${t.name}!${t.options.appId}`}var t1=1024,n1=30,oh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new sh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return K(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>n1){let i=i1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qt.warn(e)}})}getHeartbeatsHeader(){return K(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=qE(),{heartbeatsToSend:n,unsentEntries:r}=r1(this._heartbeatsCache.heartbeats),i=yo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Qt.warn(e),""}})}};function qE(){return new Date().toISOString().substring(0,10)}function r1(t,e=t1){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var sh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return K(this,null,function*(){return NE()?AE().then(()=>!0).catch(()=>!1):!1})}read(){return K(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield e1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return K(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return K(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function YE(t){return yo(JSON.stringify({version:2,heartbeats:t})).length}function i1(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function o1(t){Co(new Zt("platform-logger",e=>new eh(e),"PRIVATE")),Co(new Zt("heartbeat",e=>new oh(e),"PRIVATE")),yn(th,zE,t),yn(th,zE,"esm2020"),yn("fire-js","")}o1("");var s1="firebase",a1="12.7.0";yn(s1,a1,"app");var tb="@firebase/database",nb="1.1.0";var fp="";function l1(t){fp=t}var gh=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ye(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Yr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var mh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var kb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gh(e)}}catch{}return new mh},tr=kb("localStorage"),yh=kb("sessionStorage");var ei=new Qr("@firebase/database"),c1=function(){let t=1;return function(){return t++}}(),Fb=function(t){let e=FE(t),n=new bl;n.update(e);let r=n.digest();return Cl.encodeByteArray(r)},jo=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=jo.apply(null,r):typeof r=="object"?e+=ye(r):e+=r,e+=" "}return e},rr=null,rb=!0,u1=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ei.logLevel=re.VERBOSE,rr=ei.log.bind(ei),e&&yh.set("logging_enabled",!0)):typeof t=="function"?rr=t:(rr=null,yh.remove("logging_enabled"))},Me=function(...t){if(rb===!0&&(rb=!1,rr===null&&yh.get("logging_enabled")===!0&&u1(!0)),rr){let e=jo.apply(null,t);rr(e)}},Bo=function(t){return function(...e){Me(t,...e)}},_h=function(...t){let e="FIREBASE INTERNAL ERROR: "+jo(...t);ei.error(e)},Jt=function(...t){let e=`FIREBASE FATAL ERROR: ${jo(...t)}`;throw ei.error(e),new Error(e)},ke=function(...t){let e="FIREBASE WARNING: "+jo(...t);ei.warn(e)},d1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ke("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},f1=function(t){if(Pt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ri="[MIN_NAME]",ir="[MAX_NAME]",ui=function(t,e){if(t===e)return 0;if(t===ri||e===ir)return-1;if(e===ri||t===ir)return 1;{let n=ib(t),r=ib(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},h1=function(t,e){return t===e?0:t<e?-1:1},Do=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ye(e))},hp=function(t){if(typeof t!="object"||t===null)return ye(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ye(e[r]),n+=":",n+=hp(t[e[r]]);return n+="}",n},Vb=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Fe(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var jb=function(t){v(!Lb(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},p1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},g1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function m1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var y1=new RegExp("^-?(0*)\\d{1,10}$"),_1=-2147483648,v1=2147483647,ib=function(t){if(y1.test(t)){let e=Number(t);if(e>=_1&&e<=v1)return e}return null},di=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ke("Exception was thrown by user callback.",n),e},Math.floor(0))}},E1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},To=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var vh=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ZE(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){ke(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Eh=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ke(e)}},No=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Tl="5",Bb="v",Hb="s",Ub="r",$b="f",zb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gb="ls",Wb="p",bh="ac",qb="websocket",Yb="long_polling";var Nl=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function b1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Kb(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(e===qb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Yb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);b1(t)&&(n.ns=t.namespace);let i=[];return Fe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Ch=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Rt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return CE(this.counters_)}};var lh={},ch={};function pp(t){let e=t.toString();return lh[e]||(lh[e]=new Ch),lh[e]}function C1(t,e){let n=t.toString();return ch[n]||(ch[n]=e()),ch[n]}var wh=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&di(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var ob="start",w1="close",D1="pLPCommand",I1="pRTLPCB",Zb="id",Qb="pw",Jb="ser",M1="cb",x1="seg",S1="ts",T1="d",N1="dframe",Xb=1870,eC=30,A1=Xb-eC,O1=25e3,P1=3e4,Dh=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bo(e),this.stats_=pp(n),this.urlFn=l=>(this.appCheckToken&&(l[bh]=this.appCheckToken),Kb(n,Yb,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wh(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(P1)),f1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ih((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===ob)this.id=a,this.password=l;else if(s===w1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[ob]="t",r[Jb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[M1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Bb]=Tl,this.transportSessionId&&(r[Hb]=this.transportSessionId),this.lastSessionId&&(r[Gb]=this.lastSessionId),this.applicationId&&(r[Wb]=this.applicationId),this.appCheckToken&&(r[bh]=this.appCheckToken),typeof location<"u"&&location.hostname&&zb.test(location.hostname)&&(r[Ub]=$b);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Pt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!p1()&&!g1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ye(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=zf(n),i=Vb(r,A1);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Pt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[N1]="t",r[Zb]=e,r[Qb]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ye(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ih=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Pt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=c1(),window[D1+this.uniqueCallbackIdentifier]=e,window[I1+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Me("frame writing exception"),a.stack&&Me(a.stack),Me(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Me("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Zb]=this.myID,e[Qb]=this.myPW,e[Jb]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+eC+r.length<=Xb;){let s=this.pendingSegs.shift();r=r+"&"+x1+i+"="+s.seg+"&"+S1+i+"="+s.ts+"&"+T1+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(O1)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Pt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Me("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var R1=16384,k1=45e3,Al=null;typeof MozWebSocket<"u"?Al=MozWebSocket:typeof WebSocket<"u"&&(Al=WebSocket);var Io=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bo(this.connId),this.stats_=pp(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[Bb]=Tl,!Pt()&&typeof location<"u"&&location.hostname&&zb.test(location.hostname)&&(a[Ub]=$b),r&&(a[Hb]=r),i&&(a[Gb]=i),o&&(a[bh]=o),s&&(a[Wb]=s),Kb(n,qb,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tr.set("previous_websocket_failure",!0);try{let i;if(Pt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Tl}/${fp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Al(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Al!==null&&!t.forceDisallow_}static previouslyFailed(){return tr.isInMemoryStorage||tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){tr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Yr(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ye(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Vb(r,R1);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(k1))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),F1=(()=>{class t{static get ALL_TRANSPORTS(){return[Dh,Io]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Io&&Io.isAvailable(),i=r&&!Io.previouslyFailed();if(n.webSocketOnly&&(r||ke("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Io];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),L1=6e4,V1=5e3,j1=10*1024,B1=100*1024,uh="t",sb="d",H1="s",ab="r",U1="e",lb="o",cb="a",ub="n",db="p",$1="h",Mh=class{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bo("c:"+this.id+":"),this.transportManager_=new F1(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=To(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>B1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>j1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(uh in e){let n=e[uh];n===cb?this.upgradeIfSecondaryHealthy_():n===ab?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===lb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Do("t",e),r=Do("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:db,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ub,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Do("t",e),r=Do("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Do(uh,e);if(sb in e){let r=e[sb];if(n===$1){let i=S({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ub){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===H1?this.onConnectionShutdown_(r):n===ab?this.onReset_(r):n===U1?_h("Server Error: "+r):n===lb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_h("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tl!==r&&ke("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),To(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):To(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(V1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:db,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ol=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Pl=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Rl=class t extends Pl{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var fb=32,hb=768,Q=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function q(){return new Q("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vn(t){return t.pieces_.length-t.pieceNum_}function ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Q(t.pieces_,e)}function tC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function z1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function nC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rC(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Q(e,0)}function _e(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Q(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Re(t,e){let n=F(t),r=F(e);if(n===null)return e;if(n===r)return Re(ie(t),ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gp(t,e){if(vn(t)!==vn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(vn(t)>vn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var xh=class{constructor(e,n){this.errorPrefix_=n,this.parts_=nC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Eo(this.parts_[r]);iC(this)}};function G1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Eo(e),iC(t)}function W1(t){let e=t.parts_.pop();t.byteLength_-=Eo(e),t.parts_.length>0&&(t.byteLength_-=1)}function iC(t){if(t.byteLength_>hb)throw new Error(t.errorPrefix_+"has a key path longer than "+hb+" bytes ("+t.byteLength_+").");if(t.parts_.length>fb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fb+") or object contains a cycle "+er(t))}function er(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Sh=class t extends Pl{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var Mo=1e3,q1=60*5*1e3,pb=30*1e3,Y1=1.3,K1=3e4,Z1="server_kill",gb=3,mp=(()=>{class t extends Ol{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Bo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mo,this.maxReconnectDelay_=q1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Pt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Rl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ye(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new gn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Rt(n,"w")){let i=Jn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ke(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||RE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=PE(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ye(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):_h("Unrecognized action received from server: "+ye(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>K1&&(this.reconnectDelay_=Mo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Y1)}this.onConnectStatus_(!1)}establishConnection_(){return K(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new Mh(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ke(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Z1)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ke(f),c())}}})}interrupt(n){Me("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Me("Resuming connection for reason: "+n),delete this.interruptReasons_[n],qf(this.interruptReasons_)&&(this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>hp(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Q(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Me("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gb&&(this.reconnectDelay_=pb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Me("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Pt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+fp.replace(/\./g,"-")]=1,Wf()?n["framework.cordova"]=1:TE()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Rl.getInstance().currentlyOnline();return qf(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),L=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ii=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new L(ri,e),i=new L(ri,n);return this.compare(r,i)!==0}minPost(){return L.MIN}};var Sl,kl=class extends ii{static get __EMPTY_NODE(){return Sl}static set __EMPTY_NODE(e){Sl=e}compare(e,n){return ui(e.name,n.name)}isDefinedOn(e){throw Qn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L(ir,Sl)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,Sl)}toString(){return".key"}},ti=new kl;var Xr=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},mt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??it.EMPTY_NODE,this.right=s??it.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return it.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return it.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Th=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new mt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},it=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xr(this.root_,null,this.comparator_,!0,e)}};it.EMPTY_NODE=new Th;function Q1(t,e){return ui(t.name,e.name)}function yp(t,e){return ui(t,e)}var Nh;function J1(t){Nh=t}var oC=function(t){return typeof t=="number"?"number:"+jb(t):"string:"+t},sC=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rt(e,".sv"),"Priority must be a string or number.")}else v(t===Nh||t.isEmpty(),"priority of unexpected type.");v(t===Nh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var mb,oi=(()=>{class t{static set __childrenNodeConstructor(n){mb=n}static get __childrenNodeConstructor(){return mb}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return j(n)?this:F(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||vn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+oC(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=jb(this.value_):n+=this.value_,this.lazyHash_=Fb(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return v(o>=0,"Unknown leaf type: "+r),v(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),aC,lC;function X1(t){aC=t}function eR(t){lC=t}var Ah=class extends ii{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?ui(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(ir,new oi("[PRIORITY-POST]",lC))}makePost(e,n){let r=aC(e);return new L(n,new oi("[PRIORITY-POST]",r))}toString(){return".priority"}},fe=new Ah;var tR=Math.log(2),Oh=class{constructor(e){let n=o=>parseInt(Math.log(o)/tR,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Fl=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new mt(f,d.node,mt.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),g=i(h+1,c);return d=t[h],f=n?n(d):d,new mt(f,d.node,mt.BLACK,p,g)}},o=function(l){let c=null,u=null,d=t.length,f=function(p,g){let E=d-p,T=d;d-=p;let Y=i(E+1,T),te=t[E],ce=n?n(te):te;h(new mt(ce,te.node,g,null,Y))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),E=Math.pow(2,l.count-(p+1));g?f(E,mt.BLACK):(f(E,mt.BLACK),f(E,mt.RED))}return u},s=new Oh(t.length),a=o(s);return new it(r||e,a)};var dh,Jr={},si=class t{static get Default(){return v(Jr&&fe,"ChildrenNode.ts has not been loaded"),dh=dh||new t({".priority":Jr},{".priority":fe}),dh}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Jn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof it?n:null}hasIndex(e){return Rt(this.indexSet_,e.toString())}addIndex(e,n){v(e!==ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(L.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Fl(r,e.getCompare()):a=Jr;let l=e.toString(),c=S({},this.indexSet_);c[l]=e;let u=S({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=vo(this.indexes_,(i,o)=>{let s=Jn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),i===Jr)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(L.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Fl(a,s.getCompare())}else return Jr;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new L(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=vo(this.indexes_,i=>{if(i===Jr)return i;{let o=n.get(e.name);return o?i.remove(new L(e.name,o)):i}});return new t(r,this.indexSet_)}};var xo,R=(()=>{class t{static get EMPTY_NODE(){return xo||(xo=new t(new it(yp),null,si.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&sC(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?xo:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new L(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?xo:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=F(n);if(i===null)return r;{v(F(n)!==".priority"||vn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ie(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(fe,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+oC(this.getPriority().val())+":"),this.forEachChild(fe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":Fb(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new L(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new L(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new L(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ho?-1:0}withIndex(n){if(n===ti||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ti||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(fe),o=r.getIterator(fe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ti?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Ph=class extends R{constructor(){super(new it(yp),R.EMPTY_NODE,si.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return R.EMPTY_NODE}isEmpty(){return!1}},Ho=new Ph;Object.defineProperties(L,{MIN:{value:new L(ri,R.EMPTY_NODE)},MAX:{value:new L(ir,Ho)}});kl.__EMPTY_NODE=R.EMPTY_NODE;oi.__childrenNodeConstructor=R;J1(Ho);eR(Ho);var nR=!0;function we(t,e=null){if(t===null)return R.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new oi(n,we(e))}if(!(t instanceof Array)&&nR){let n=[],r=!1;if(Fe(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=we(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new L(s,l)))}}),n.length===0)return R.EMPTY_NODE;let o=Fl(n,Q1,s=>s.name,yp);if(r){let s=Fl(n,fe.getCompare());return new R(o,we(e),new si({".priority":s},{".priority":fe}))}else return new R(o,we(e),si.Default)}else{let n=R.EMPTY_NODE;return Fe(t,(r,i)=>{if(Rt(t,r)&&r.substring(0,1)!=="."){let o=we(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(we(e))}}X1(we);var Rh=class extends ii{constructor(e){super(),this.indexPath_=e,v(!j(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?ui(e.name,n.name):o}makePost(e,n){let r=we(e),i=R.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){let e=R.EMPTY_NODE.updateChild(this.indexPath_,Ho);return new L(ir,e)}toString(){return nC(this.indexPath_,0).join("/")}};var kh=class extends ii{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ui(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){let r=we(e);return new L(n,r)}toString(){return".value"}},rR=new kh;function cC(t){return{type:"value",snapshotNode:t}}function ai(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ro(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ko(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iR(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Fo=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Ro(n,a)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ai(n,r)):s.trackChildChange(ko(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(fe,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ro(i,o))}),n.isLeafNode()||n.forEachChild(fe,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(ko(i,o,s))}else r.trackChildChange(ai(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?R.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ll=class t{constructor(e){this.indexedFilter_=new Fo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new L(n,r))||(r=R.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=R.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(R.EMPTY_NODE);let o=this;return n.forEachChild(fe,(s,a)=>{o.matches(new L(s,a))||(i=i.updateImmediateChild(s,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Fh=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ll(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new L(n,r))||(r=R.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=R.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(R.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;v(a.numChildren()===this.limit_,"");let l=new L(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(ko(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ro(n,d));let g=a.updateImmediateChild(n,R.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ai(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Ro(c.name,c.node)),o.trackChildChange(ai(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,R.EMPTY_NODE)):e}};var Lh=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fe}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function oR(t){return t.loadsAllData()?new Fo(t.getIndex()):t.hasLimit()?new Fh(t):new Ll(t)}function yb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===fe?n="$priority":t.index_===rR?n="$value":t.index_===ti?n="$key":(v(t.index_ instanceof Rh,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ye(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ye(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ye(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ye(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ye(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _b(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==fe&&(e.i=t.index_.toString()),e}var Vh=class t extends Ol{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bo("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=yb(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),Jn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=yb(e._queryParams),r=e._path.toString(),i=new gn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kE(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Yr(a.responseText)}catch{ke("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ke("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var jh=class{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Vl(){return{value:null,children:new Map}}function uC(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=F(e);t.children.has(r)||t.children.set(r,Vl());let i=t.children.get(r);e=ie(e),uC(i,e,n)}}function Bh(t,e,n){t.value!==null?n(e,t.value):sR(t,(r,i)=>{let o=new Q(e.toString()+"/"+r);Bh(i,o,n)})}function sR(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Hh=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=S({},e);return this.last_&&Fe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var vb=10*1e3,aR=30*1e3,lR=5*60*1e3,Uh=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hh(e);let r=vb+(aR-vb)*Math.random();To(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Fe(e,(i,o)=>{o>0&&Rt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),To(this.reportStats_.bind(this),Math.floor(Math.random()*2*lR))}};var Ft=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ft||{});function dC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _p(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var $h=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ft.ACK_USER_WRITE,this.source=dC()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Q(e));return new t(q(),n,this.revert)}}else return v(F(this.path)===e,"operationForChild called for unrelated child."),new t(ie(this.path),this.affectedTree,this.revert)}};var jl=class t{constructor(e,n){this.source=e,this.path=n,this.type=Ft.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new t(this.source,q()):new t(this.source,ie(this.path))}};var li=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ft.OVERWRITE}operationForChild(e){return j(this.path)?new t(this.source,q(),this.snap.getImmediateChild(e)):new t(this.source,ie(this.path),this.snap)}};var Bl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ft.MERGE}operationForChild(e){if(j(this.path)){let n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new li(this.source,q(),n.value):new t(this.source,q(),n)}else return v(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Xt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;let n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var zh=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function cR(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(iR(s.childName,s.snapshotNode))}),So(t,i,"child_removed",e,r,n),So(t,i,"child_added",e,r,n),So(t,i,"child_moved",o,r,n),So(t,i,"child_changed",e,r,n),So(t,i,"value",e,r,n),i}function So(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>dR(t,a,l)),s.forEach(a=>{let l=uR(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function uR(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function dR(t,e,n){if(e.childName==null||n.childName==null)throw Qn("Should only compare child_ events.");let r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Jl(t,e){return{eventCache:t,serverCache:e}}function Ao(t,e,n,r){return Jl(new Xt(e,n,r),t.serverCache)}function fC(t,e,n,r){return Jl(t.eventCache,new Xt(e,n,r))}function Gh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function or(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var fh,fR=()=>(fh||(fh=new it(h1)),fh),Le=class t{static fromObject(e){let n=new t(null);return Fe(e,(r,i)=>{n=n.set(new Q(r),i)}),n}constructor(e,n=fR()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(j(e))return null;{let r=F(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ie(e),n);return o!=null?{path:_e(new Q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{let n=F(e),r=this.children.get(n);return r!==null?r.subtree(ie(e)):new t(null)}}set(e,n){if(j(e))return new t(n,this.children);{let r=F(e),o=(this.children.get(r)||new t(null)).set(ie(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(j(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=F(e),r=this.children.get(n);if(r){let i=r.remove(ie(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(j(e))return this.value;{let n=F(e),r=this.children.get(n);return r?r.get(ie(e)):null}}setTree(e,n){if(j(e))return n;{let r=F(e),o=(this.children.get(r)||new t(null)).setTree(ie(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(_e(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{let o=F(e),s=this.children.get(o);return s?s.findOnPath_(ie(e),_e(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,q(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);let i=F(e),o=this.children.get(i);return o?o.foreachOnPath_(ie(e),_e(n,i),r):new t(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(_e(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var _t=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Le(null))}};function Oo(t,e,n){if(j(e))return new _t(new Le(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Re(i,e);return o=o.updateChild(s,n),new _t(t.writeTree_.set(i,o))}else{let i=new Le(n),o=t.writeTree_.setTree(e,i);return new _t(o)}}}function Eb(t,e,n){let r=t;return Fe(n,(i,o)=>{r=Oo(r,_e(e,i),o)}),r}function bb(t,e){if(j(e))return _t.empty();{let n=t.writeTree_.setTree(e,new Le(null));return new _t(n)}}function Wh(t,e){return sr(t,e)!=null}function sr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Re(n.path,e)):null}function Cb(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fe,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function _n(t,e){if(j(e))return t;{let n=sr(t,e);return n!=null?new _t(new Le(n)):new _t(t.writeTree_.subtree(e))}}function qh(t){return t.writeTree_.isEmpty()}function ci(t,e){return hC(q(),t.writeTree_,e)}function hC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=hC(_e(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(_e(t,".priority"),r)),n}}function Ep(t,e){return yC(e,t)}function hR(t,e,n,r,i){v(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Oo(t.visibleWrites,e,n)),t.lastWriteId=r}function pR(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function gR(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&mR(a,r.path)?i=!1:yt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return yR(t),!0;if(r.snap)t.visibleWrites=bb(t.visibleWrites,r.path);else{let a=r.children;Fe(a,l=>{t.visibleWrites=bb(t.visibleWrites,_e(r.path,l))})}return!0}else return!1}function mR(t,e){if(t.snap)return yt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&yt(_e(t.path,n),e))return!0;return!1}function yR(t){t.visibleWrites=pC(t.allWrites,_R,q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function _R(t){return t.visible}function pC(t,e,n){let r=_t.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)yt(n,s)?(a=Re(n,s),r=Oo(r,a,o.snap)):yt(s,n)&&(a=Re(s,n),r=Oo(r,q(),o.snap.getChild(a)));else if(o.children){if(yt(n,s))a=Re(n,s),r=Eb(r,a,o.children);else if(yt(s,n))if(a=Re(s,n),j(a))r=Eb(r,q(),o.children);else{let l=Jn(o.children,F(a));if(l){let c=l.getChild(ie(a));r=Oo(r,q(),c)}}}else throw Qn("WriteRecord should have .snap or .children")}}return r}function gC(t,e,n,r,i){if(!r&&!i){let o=sr(t.visibleWrites,e);if(o!=null)return o;{let s=_n(t.visibleWrites,e);if(qh(s))return n;if(n==null&&!Wh(s,q()))return null;{let a=n||R.EMPTY_NODE;return ci(s,a)}}}else{let o=_n(t.visibleWrites,e);if(!i&&qh(o))return n;if(!i&&n==null&&!Wh(o,q()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(yt(c.path,e)||yt(e,c.path))},a=pC(t.allWrites,s,e),l=n||R.EMPTY_NODE;return ci(a,l)}}}function vR(t,e,n){let r=R.EMPTY_NODE,i=sr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=_n(t.visibleWrites,e);return n.forEachChild(fe,(s,a)=>{let l=ci(_n(o,new Q(s)),a);r=r.updateImmediateChild(s,l)}),Cb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=_n(t.visibleWrites,e);return Cb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function ER(t,e,n,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=_e(e,n);if(Wh(t.visibleWrites,o))return null;{let s=_n(t.visibleWrites,o);return qh(s)?i.getChild(n):ci(s,i.getChild(n))}}function bR(t,e,n,r){let i=_e(e,n),o=sr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=_n(t.visibleWrites,i);return ci(s,r.getNode().getImmediateChild(n))}else return null}function CR(t,e){return sr(t.visibleWrites,e)}function wR(t,e,n,r,i,o,s){let a,l=_n(t.visibleWrites,e),c=sr(l,q());if(c!=null)a=c;else if(n!=null)a=ci(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function DR(){return{visibleWrites:_t.empty(),allWrites:[],lastWriteId:-1}}function Hl(t,e,n,r){return gC(t.writeTree,t.treePath,e,n,r)}function bp(t,e){return vR(t.writeTree,t.treePath,e)}function wb(t,e,n,r){return ER(t.writeTree,t.treePath,e,n,r)}function Ul(t,e){return CR(t.writeTree,_e(t.treePath,e))}function IR(t,e,n,r,i,o){return wR(t.writeTree,t.treePath,e,n,r,i,o)}function Cp(t,e,n){return bR(t.writeTree,t.treePath,e,n)}function mC(t,e){return yC(_e(t.treePath,e),t.writeTree)}function yC(t,e){return{treePath:t,writeTree:e}}var Yh=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ko(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ro(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ai(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ko(r,e.snapshotNode,i.oldSnap));else throw Qn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Kh=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},_C=new Kh,Lo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Xt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cp(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:or(this.viewCache_),o=IR(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function MR(t){return{filter:t}}function xR(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SR(t,e,n,r,i){let o=new Yh,s,a;if(n.type===Ft.OVERWRITE){let c=n;c.source.fromUser?s=Zh(t,e,c.path,c.snap,r,i,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!j(c.path),s=$l(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Ft.MERGE){let c=n;c.source.fromUser?s=NR(t,e,c.path,c.children,r,i,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Qh(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Ft.ACK_USER_WRITE){let c=n;c.revert?s=PR(t,e,c.path,r,i,o):s=AR(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Ft.LISTEN_COMPLETE)s=OR(t,e,n.path,r,o);else throw Qn("Unknown operation type: "+n.type);let l=o.getChanges();return TR(e,s,l),{viewCache:s,changes:l}}function TR(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Gh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cC(Gh(e)))}}function vC(t,e,n,r,i,o){let s=e.eventCache;if(Ul(r,n)!=null)return e;{let a,l;if(j(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=or(e),u=c instanceof R?c:R.EMPTY_NODE,d=bp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=Hl(r,or(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=F(n);if(c===".priority"){v(vn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=wb(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ie(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=wb(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=Cp(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Ao(e,a,s.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function $l(t,e,n,r,i,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(j(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=F(n);if(!l.isCompleteForPath(n)&&vn(n)>1)return e;let p=ie(n),E=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),h,E,p,_C,null)}let d=fC(e,c,l.isFullyInitialized()||j(n),u.filtersNodes()),f=new Lo(i,d,o);return vC(t,d,n,i,f,a)}function Zh(t,e,n,r,i,o,s){let a=e.eventCache,l,c,u=new Lo(i,e,o);if(j(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Ao(e,c,!0,t.filter.filtersNodes());else{let d=F(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ao(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=ie(n),h=a.getNode().getImmediateChild(d),p;if(j(f))p=r;else{let g=u.getCompleteChild(d);g!=null?tC(f)===".priority"&&g.getChild(rC(f)).isEmpty()?p=g:p=g.updateChild(f,r):p=R.EMPTY_NODE}if(h.equals(p))l=e;else{let g=t.filter.updateChild(a.getNode(),d,p,f,u,s);l=Ao(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Db(t,e){return t.eventCache.isCompleteForChild(e)}function NR(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{let u=_e(n,l);Db(e,F(u))&&(a=Zh(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=_e(n,l);Db(e,F(u))||(a=Zh(t,a,u,c,i,o,s))}),a}function Ib(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Qh(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;j(n)?c=r:c=new Le(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=Ib(t,h,f);l=$l(t,l,new Q(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),g=Ib(t,p,f);l=$l(t,l,new Q(d),g,i,o,s,a)}}),l}function AR(t,e,n,r,i,o,s){if(Ul(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(j(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $l(t,e,n,l.getNode().getChild(n),i,o,a,s);if(j(n)){let c=new Le(null);return l.getNode().forEachChild(ti,(u,d)=>{c=c.set(new Q(u),d)}),Qh(t,e,n,c,i,o,a,s)}else return e}else{let c=new Le(null);return r.foreach((u,d)=>{let f=_e(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Qh(t,e,n,c,i,o,a,s)}}function OR(t,e,n,r,i){let o=e.serverCache,s=fC(e,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return vC(t,s,n,r,_C,i)}function PR(t,e,n,r,i,o){let s;if(Ul(r,n)!=null)return e;{let a=new Lo(r,e,i),l=e.eventCache.getNode(),c;if(j(n)||F(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Hl(r,or(e));else{let d=e.serverCache.getNode();v(d instanceof R,"serverChildren would be complete if leaf node"),u=bp(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=F(n),d=Cp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ie(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,R.EMPTY_NODE,ie(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Hl(r,or(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Ul(r,q())!=null,Ao(e,c,s,t.filter.filtersNodes())}}var Jh=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Fo(r.getIndex()),o=oR(r);this.processor_=MR(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(R.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(R.EMPTY_NODE,a.getNode(),null),u=new Xt(l,s.isFullyInitialized(),i.filtersNodes()),d=new Xt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jl(d,u),this.eventGenerator_=new zh(this.query_)}get query(){return this.query_}};function RR(t){return t.viewCache_.serverCache.getNode()}function kR(t,e){let n=or(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function Mb(t){return t.eventRegistrations_.length===0}function FR(t,e){t.eventRegistrations_.push(e)}function xb(t,e,n){let r=[];if(n){v(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Sb(t,e,n,r){e.type===Ft.MERGE&&e.source.queryId!==null&&(v(or(t.viewCache_),"We should always have a full cache before handling merges"),v(Gh(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=SR(t.processor_,i,e,n,r);return xR(t.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,EC(t,o.changes,o.viewCache.eventCache.getNode(),null)}function LR(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(fe,(o,s)=>{r.push(ai(o,s))}),n.isFullyInitialized()&&r.push(cC(n.getNode())),EC(t,r,n.getNode(),e)}function EC(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return cR(t.eventGenerator_,e,n,i)}var zl,Xh=class{constructor(){this.views=new Map}};function VR(t){v(!zl,"__referenceConstructor has already been defined"),zl=t}function jR(){return v(zl,"Reference.ts has not been loaded"),zl}function BR(t){return t.views.size===0}function wp(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return v(o!=null,"SyncTree gave us an op for an invalid query."),Sb(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(Sb(s,e,n,r));return o}}function HR(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Hl(n,i?r:null),l=!1;a?l=!0:r instanceof R?(a=bp(n,r),l=!1):(a=R.EMPTY_NODE,l=!1);let c=Jl(new Xt(a,l,!1),new Xt(r,i,!1));return new Jh(e,c)}return s}function UR(t,e,n,r,i,o){let s=HR(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),FR(s,n),LR(s,n)}function $R(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=En(t);if(i==="default")for(let[l,c]of t.views.entries())s=s.concat(xb(c,n,r)),Mb(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(i);l&&(s=s.concat(xb(l,n,r)),Mb(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!En(t)&&o.push(new(jR())(e._repo,e._path)),{removed:o,events:s}}function bC(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ni(t,e){let n=null;for(let r of t.views.values())n=n||kR(r,e);return n}function CC(t,e){if(e._queryParams.loadsAllData())return Xl(t);{let r=e._queryIdentifier;return t.views.get(r)}}function wC(t,e){return CC(t,e)!=null}function En(t){return Xl(t)!=null}function Xl(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Gl;function zR(t){v(!Gl,"__referenceConstructor has already been defined"),Gl=t}function GR(){return v(Gl,"Reference.ts has not been loaded"),Gl}var WR=1,Wl=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=DR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function DC(t,e,n,r,i){return hR(t.pendingWriteTree_,e,n,r,i),i?Uo(t,new li(dC(),e,n)):[]}function nr(t,e,n=!1){let r=pR(t.pendingWriteTree_,e);if(gR(t.pendingWriteTree_,e)){let o=new Le(null);return r.snap!=null?o=o.set(q(),!0):Fe(r.children,s=>{o=o.set(new Q(s),!0)}),Uo(t,new $h(r.path,o,n))}else return[]}function ec(t,e,n){return Uo(t,new li(_p(),e,n))}function qR(t,e,n){let r=Le.fromObject(n);return Uo(t,new Bl(_p(),e,r))}function YR(t,e){return Uo(t,new jl(_p(),e))}function KR(t,e,n){let r=Ip(t,n);if(r){let i=Mp(r),o=i.path,s=i.queryId,a=Re(o,e),l=new jl(vp(s),a);return xp(t,o,l)}else return[]}function ep(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||wC(s,e))){let l=$R(s,e,n,r);BR(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>En(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=JR(f);for(let p=0;p<h.length;++p){let g=h[p],E=g.query,T=xC(t,g);t.listenProvider_.startListening(Po(E),ql(t,E),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Po(e),null):c.forEach(f=>{let h=t.queryToTagMap.get(tc(f));t.listenProvider_.stopListening(Po(f),h)}))}XR(t,c)}return a}function ZR(t,e,n,r){let i=Ip(t,r);if(i!=null){let o=Mp(i),s=o.path,a=o.queryId,l=Re(s,e),c=new li(vp(a),l,n);return xp(t,s,c)}else return[]}function QR(t,e,n,r){let i=Ip(t,r);if(i){let o=Mp(i),s=o.path,a=o.queryId,l=Re(s,e),c=Le.fromObject(n),u=new Bl(vp(a),l,c);return xp(t,s,u)}else return[]}function Tb(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Re(f,i);o=o||ni(h,p),s=s||En(h)});let a=t.syncPointTree_.get(i);a?(s=s||En(a),o=o||ni(a,q())):(a=new Xh,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=R.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let g=ni(p,q());g&&(o=o.updateImmediateChild(h,g))}));let c=wC(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=tc(e);v(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=ek();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Ep(t.pendingWriteTree_,i),d=UR(a,e,n,u,o,l);if(!c&&!s&&!r){let f=CC(a,e);d=d.concat(tk(t,e,f))}return d}function Dp(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Re(s,e),c=ni(a,l);if(c)return c});return gC(i,e,o,n,!0)}function Uo(t,e){return IC(e,t.syncPointTree_,null,Ep(t.pendingWriteTree_,q()))}function IC(t,e,n,r){if(j(t.path))return MC(t,e,n,r);{let i=e.get(q());n==null&&i!=null&&(n=ni(i,q()));let o=[],s=F(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=mC(r,s);o=o.concat(IC(a,l,c,u))}return i&&(o=o.concat(wp(i,t,r,n))),o}}function MC(t,e,n,r){let i=e.get(q());n==null&&i!=null&&(n=ni(i,q()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=mC(r,s),u=t.operationForChild(s);u&&(o=o.concat(MC(u,a,l,c)))}),i&&(o=o.concat(wp(i,t,r,n))),o}function xC(t,e){let n=e.query,r=ql(t,n);return{hashFn:()=>(RR(e)||R.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?KR(t,n._path,r):YR(t,n._path);{let o=m1(i,n);return ep(t,n,null,o)}}}}function ql(t,e){let n=tc(e);return t.queryToTagMap.get(n)}function tc(t){return t._path.toString()+"$"+t._queryIdentifier}function Ip(t,e){return t.tagToQueryMap.get(e)}function Mp(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}}function xp(t,e,n){let r=t.syncPointTree_.get(e);v(r,"Missing sync point for query tag that we're tracking");let i=Ep(t.pendingWriteTree_,e);return wp(r,n,i,null)}function JR(t){return t.fold((e,n,r)=>{if(n&&En(n))return[Xl(n)];{let i=[];return n&&(i=bC(n)),Fe(r,(o,s)=>{i=i.concat(s)}),i}})}function Po(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(GR())(t._repo,t._path):t}function XR(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=tc(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function ek(){return WR++}function tk(t,e,n){let r=e._path,i=ql(t,e),o=xC(t,n),s=t.listenProvider_.startListening(Po(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)v(!En(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!j(c)&&u&&En(u))return[Xl(u).query];{let f=[];return u&&(f=f.concat(bC(u).map(h=>h.query))),Fe(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Po(u),ql(t,u))}}return s}var tp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},np=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=_e(this.path_,e);return new t(this.syncTree_,n)}node(){return Dp(this.syncTree_,this.path_)}},nk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nb=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return rk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ik(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},rk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},ik=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=e.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},ok=function(t,e,n,r){return Sp(e,new np(n,t),r)},SC=function(t,e,n){return Sp(t,new tp(e),n)};function Sp(t,e,n){let r=t.getPriority().val(),i=Nb(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Nb(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new oi(a,we(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new oi(i))),s.forEachChild(fe,(a,l)=>{let c=Sp(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Vo=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Tp(t,e){let n=e instanceof Q?e:new Q(e),r=t,i=F(n);for(;i!==null;){let o=Jn(r.node.children,i)||{children:{},childCount:0};r=new Vo(i,r,o),n=ie(n),i=F(n)}return r}function fi(t){return t.node.value}function TC(t,e){t.node.value=e,rp(t)}function NC(t){return t.node.childCount>0}function sk(t){return fi(t)===void 0&&!NC(t)}function nc(t,e){Fe(t.node.children,(n,r)=>{e(new Vo(n,t,r))})}function AC(t,e,n,r){n&&!r&&e(t),nc(t,i=>{AC(i,e,!0,r)}),n&&r&&e(t)}function ak(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function $o(t){return new Q(t.parent===null?t.name:$o(t.parent)+"/"+t.name)}function rp(t){t.parent!==null&&lk(t.parent,t.name,t)}function lk(t,e,n){let r=sk(n),i=Rt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,rp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,rp(t))}var ck=/[\[\].#$\/\u0000-\u001F\u007F]/,uk=/[\[\].#$\u0000-\u001F\u007F]/,hh=10*1024*1024,OC=function(t){return typeof t=="string"&&t.length!==0&&!ck.test(t)},PC=function(t){return typeof t=="string"&&t.length!==0&&!uk.test(t)},dk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PC(t)};var fk=function(t,e,n,r){r&&e===void 0||Np(Dl(t,"value"),e,n)},Np=function(t,e,n){let r=n instanceof Q?new xh(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+er(r));if(typeof e=="function")throw new Error(t+"contains a function "+er(r)+" with contents = "+e.toString());if(Lb(e))throw new Error(t+"contains "+e.toString()+" "+er(r));if(typeof e=="string"&&e.length>hh/3&&Eo(e)>hh)throw new Error(t+"contains a string greater than "+hh+" utf8 bytes "+er(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Fe(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!OC(s)))throw new Error(t+" contains an invalid key ("+s+") "+er(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);G1(r,s),Np(t,a,r),W1(r)}),i&&o)throw new Error(t+' contains ".value" child '+er(r)+" in addition to actual children.")}};var RC=function(t,e,n,r){if(!(r&&n===void 0)&&!PC(n))throw new Error(Dl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hk=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),RC(t,e,n,r)},kC=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},pk=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!OC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!dk(n))throw new Error(Dl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var ip=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Ap(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!gp(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function FC(t,e,n){Ap(t,n),LC(t,r=>gp(r,e))}function en(t,e,n){Ap(t,n),LC(t,r=>yt(r,e)||yt(e,r))}function LC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(gk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gk(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();rr&&Me("event: "+n.toString()),di(r)}}}var mk="repo_interrupt",yk=25,op=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ip,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vl(),this.transactionQueueTree_=new Vo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function _k(t,e,n){if(t.stats_=pp(t.repoInfo_),t.forceRestClient_||E1())t.server_=new Vh(t.repoInfo_,(r,i,o,s)=>{Ab(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ob(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new mp(t.repoInfo_,e,(r,i,o,s)=>{Ab(t,r,i,o,s)},r=>{Ob(t,r)},r=>{Ek(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=C1(t.repoInfo_,()=>new Uh(t.stats_,t.server_)),t.infoData_=new jh,t.infoSyncTree_=new Wl({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ec(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Pp(t,"connected",!1),t.serverSyncTree_=new Wl({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);en(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function vk(t){let n=t.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Op(t){return nk({timestamp:vk(t)})}function Ab(t,e,n,r,i){t.dataUpdateCount++;let o=new Q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=vo(n,c=>we(c));s=QR(t.serverSyncTree_,o,l,i)}else{let l=we(n);s=ZR(t.serverSyncTree_,o,l,i)}else if(r){let l=vo(n,c=>we(c));s=qR(t.serverSyncTree_,o,l)}else{let l=we(n);s=ec(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=rc(t,o)),en(t.eventQueue_,a,s)}function Ob(t,e){Pp(t,"connected",e),e===!1&&Ck(t)}function Ek(t,e){Fe(e,(n,r)=>{Pp(t,n,r)})}function Pp(t,e,n){let r=new Q("/.info/"+e),i=we(n);t.infoData_.updateSnapshot(r,i);let o=ec(t.infoSyncTree_,r,i);en(t.eventQueue_,r,o)}function VC(t){return t.nextWriteId_++}function bk(t,e,n,r,i){Rp(t,"set",{path:e.toString(),value:n,priority:r});let o=Op(t),s=we(n,r),a=Dp(t.serverSyncTree_,e),l=SC(s,a,o),c=VC(t),u=DC(t.serverSyncTree_,e,l,c,!0);Ap(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||ke("set at "+e+" failed: "+f);let g=nr(t.serverSyncTree_,c,!p);en(t.eventQueue_,e,g),Ik(t,i,f,h)});let d=$C(t,e);rc(t,d),en(t.eventQueue_,d,[])}function Ck(t){Rp(t,"onDisconnectEvents");let e=Op(t),n=Vl();Bh(t.onDisconnect_,q(),(i,o)=>{let s=ok(i,o,t.serverSyncTree_,e);uC(n,i,s)});let r=[];Bh(n,q(),(i,o)=>{r=r.concat(ec(t.serverSyncTree_,i,o));let s=$C(t,i);rc(t,s)}),t.onDisconnect_=Vl(),en(t.eventQueue_,q(),r)}function wk(t,e,n){let r;F(e._path)===".info"?r=Tb(t.infoSyncTree_,e,n):r=Tb(t.serverSyncTree_,e,n),FC(t.eventQueue_,e._path,r)}function Pb(t,e,n){let r;F(e._path)===".info"?r=ep(t.infoSyncTree_,e,n):r=ep(t.serverSyncTree_,e,n),FC(t.eventQueue_,e._path,r)}function Dk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mk)}function Rp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Me(n,...e)}function Ik(t,e,n,r){e&&di(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function jC(t,e,n){return Dp(t.serverSyncTree_,e,n)||R.EMPTY_NODE}function kp(t,e=t.transactionQueueTree_){if(e||ic(t,e),fi(e)){let n=HC(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Mk(t,$o(e),n)}else NC(e)&&nc(e,n=>{kp(t,n)})}function Mk(t,e,n){let r=n.map(c=>c.currentWriteId),i=jC(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Re(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Rp(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(nr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ic(t,Tp(t.transactionQueueTree_,e)),kp(t,t.transactionQueueTree_),en(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)di(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ke("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}rc(t,e)}},s)}function rc(t,e){let n=BC(t,e),r=$o(n),i=HC(t,n);return xk(t,i,r),r}function xk(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Re(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(nr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=yk)u=!0,d="maxretry",i=i.concat(nr(t.serverSyncTree_,l.currentWriteId,!0));else{let f=jC(t,l.path,s);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){Np("transaction failed: Data returned ",h,l.path);let p=we(h);typeof h=="object"&&h!=null&&Rt(h,".priority")||(p=p.updatePriority(f.getPriority()));let E=l.currentWriteId,T=Op(t),Y=SC(p,f,T);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=Y,l.currentWriteId=VC(t),s.splice(s.indexOf(E),1),i=i.concat(DC(t.serverSyncTree_,l.path,Y,l.currentWriteId,l.applyLocally)),i=i.concat(nr(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(nr(t.serverSyncTree_,l.currentWriteId,!0))}en(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ic(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)di(r[a]);kp(t,t.transactionQueueTree_)}function BC(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&fi(r)===void 0;)r=Tp(r,n),e=ie(e),n=F(e);return r}function HC(t,e){let n=[];return UC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function UC(t,e,n){let r=fi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nc(e,i=>{UC(t,i,n)})}function ic(t,e){let n=fi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,TC(e,n.length>0?n:void 0)}nc(e,r=>{ic(t,r)})}function $C(t,e){let n=$o(BC(t,e)),r=Tp(t.transactionQueueTree_,e);return ak(r,i=>{ph(t,i)}),ph(t,r),AC(r,i=>{ph(t,i)}),n}function ph(t,e){let n=fi(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(nr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?TC(e,void 0):n.length=o+1,en(t.eventQueue_,$o(e),i);for(let s=0;s<r.length;s++)di(r[s])}}function Sk(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Tk(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ke(`Invalid query segment '${n}' in query '${t}'`)}return e}var Rb=function(t,e){let n=Nk(t),r=n.namespace;n.domain==="firebase.com"&&Jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||d1();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Nl(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Q(n.pathString)}},Nk=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Sk(t.substring(u,d)));let f=Tk(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Yl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}},Kl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var sp=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var ap=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:tC(this._path)}get ref(){return new tn(this._repo,this._path)}get _queryIdentifier(){let e=_b(this._queryParams),n=hp(e);return n==="{}"?"default":n}get _queryObject(){return _b(this._queryParams)}isEqual(e){if(e=Zr(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=gp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+z1(this._path)}};var tn=class t extends ap{constructor(e,n){super(e,n,new Lh,!1)}get parent(){let e=rC(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Zl=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Q(e),r=Ql(this.ref,e);return new t(this._node.getChild(n),r,fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Ql(this.ref,r),fe)))}hasChild(e){let n=new Q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function ar(t,e){return t=Zr(t),t._checkNotDeleted("ref"),e!==void 0?Ql(t._root,e):t._root}function Ql(t,e){return t=Zr(t),F(t._path)===null?hk("child","path",e,!1):RC("child","path",e,!1),new tn(t._repo,_e(t._path,e))}function Fp(t){return kC("remove",t._path),oc(t,null)}function oc(t,e){t=Zr(t),kC("set",t._path),fk("set",e,t._path,!1);let n=new gn;return bk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}var lp=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Yl("value",this,new Zl(e.snapshotNode,new tn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Kl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},cp=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Kl(this,e,n):null}createEvent(e,n){v(e.childName!=null,"Child events should have a childName.");let r=Ql(new tn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Yl(e.type,this,new Zl(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ak(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Pb(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new sp(n,o||void 0),a=e==="value"?new lp(s):new cp(e,s);return wk(t._repo,t,a),()=>Pb(t._repo,t,a)}function Lp(t,e,n,r){return Ak(t,"value",e,n,r)}VR(tn);zR(tn);var Ok="FIREBASE_DATABASE_EMULATOR_HOST",up={},Pk=!1;function Rk(t,e,n,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=wl(o);t.repoInfo_=new Nl(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function kk(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Rb(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Ok]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Rb(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new No(No.OWNER):new Eh(t.name,t.options,e);pk("Invalid Firebase Database URL",s),j(s.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Lk(a,t,u,new vh(t,n));return new dp(d,t)}function Fk(t,e){let n=up[e];(!n||n[t.key]!==t)&&Jt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Dk(t),delete n[t.key]}function Lk(t,e,n,r){let i=up[e.name];i||(i={},up[e.name]=i);let o=i[t.toURLString()];return o&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new op(t,Pk,n,r),i[t.toURLString()]=o,o}var dp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_k(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tn(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Fk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Jt("Cannot call "+e+" on a deleted database.")}};function zC(t=JE(),e){let n=KE(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=IE("database");r&&Vk(n,...r)}return n}function Vk(t,e,n,r={}){t=Zr(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Kr(r,o.repoInfo_.emulatorOptions))return;Jt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new No(No.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:xE(r.mockUserToken,t.app.options.projectId);s=new No(a)}wl(e)&&(ME(e),SE("Database",!0)),Rk(o,i,r,s)}function jk(t){l1(QE),Co(new Zt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return kk(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),yn(tb,nb,t),yn(tb,nb,"esm2020")}mp.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mp.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jk();var hi=class t{db;lunchParticipantsSubject=new at([]);dinnerParticipantsSubject=new at([]);shoppingListSubject=new at([]);lunchParticipants$=this.lunchParticipantsSubject.asObservable();dinnerParticipants$=this.dinnerParticipantsSubject.asObservable();shoppingList$=this.shoppingListSubject.asObservable();platformId=w(Un);isBrowser;isInitialized=!1;constructor(){if(this.isBrowser=Yd(this.platformId),this.isBrowser){console.log("\u{1F310} Initialisation Firebase c\xF4t\xE9 navigateur...");let e={apiKey:"AIzaSyBNORKbQDMjvMmovUWVAIKxmfOAcIpUtLY",authDomain:"whos-eating.firebaseapp.com",databaseURL:"https://whos-eating-default-rtdb.europe-west1.firebasedatabase.app",projectId:"whos-eating",storageBucket:"whos-eating.firebasestorage.app",messagingSenderId:"1027430586394",appId:"1:1027430586394:web:1f956d00af660575da59a3"};try{let n=ah(e);this.db=zC(n),this.isInitialized=!0,console.log("\u2705 Firebase initialis\xE9 avec succ\xE8s"),console.log("\u{1F4CD} Database URL:",e.databaseURL),this.listenToChanges("lunch"),this.listenToChanges("dinner"),this.listenToShoppingList()}catch(n){console.error("\u274C Erreur lors de l'initialisation Firebase:",n),this.isInitialized=!1}}else console.log("\u26A0\uFE0F Ex\xE9cution c\xF4t\xE9 serveur - Firebase non initialis\xE9")}listenToChanges(e){if(!this.isBrowser||!this.isInitialized){console.log("\u26A0\uFE0F listenToChanges - conditions non remplies:",{isBrowser:this.isBrowser,isInitialized:this.isInitialized});return}let n=new Date().toDateString(),r=ar(this.db,`lunches/${n}-${e}`);console.log(`\u{1F50D} D\xE9marrage de l'\xE9coute des changements Firebase pour ${e}`),console.log("\u{1F4C5} Date du jour:",n),console.log("\u{1F517} Chemin Firebase:",`lunches/${n}-${e}`);let i=e==="lunch"?this.lunchParticipantsSubject:this.dinnerParticipantsSubject;try{Lp(r,o=>{console.log(`\u{1F4E1} \xC9v\xE9nement Firebase re\xE7u pour ${e}`);let s=o.val();console.log(`\u{1F4E6} Donn\xE9es brutes ${e}:`,JSON.stringify(s,null,2)),s&&s.participants?(console.log(`\u2705 Mise \xE0 jour ${e} avec`,s.participants.length,"participants:",s.participants.map(a=>a.name).join(", ")),i.next(s.participants)):(console.log(`\u2139\uFE0F Aucune donn\xE9e ${e} - r\xE9initialisation tableau vide`),i.next([]))},o=>{console.error(`\u274C Erreur Firebase onValue pour ${e}:`,o),console.error("D\xE9tails erreur:",{code:o.code||"unknown",message:o.message||String(o),stack:o.stack})}),console.log(`\u2705 Listener Firebase configur\xE9 avec succ\xE8s pour ${e}`)}catch(o){console.error(`\u274C Erreur lors de la configuration du listener ${e}:`,o)}}listenToShoppingList(){if(!this.isBrowser||!this.isInitialized){console.log("\u26A0\uFE0F listenToShoppingList - conditions non remplies:",{isBrowser:this.isBrowser,isInitialized:this.isInitialized});return}let e=new Date().toDateString(),n=ar(this.db,`shoppingList/${e}`);console.log("\u{1F50D} D\xE9marrage de l'\xE9coute des changements Firebase pour la liste de courses"),console.log("\u{1F4C5} Date du jour:",e),console.log("\u{1F517} Chemin Firebase:",`shoppingList/${e}`);try{Lp(n,r=>{console.log("\u{1F4E1} \xC9v\xE9nement Firebase re\xE7u pour la liste de courses");let i=r.val();console.log("\u{1F4E6} Donn\xE9es brutes liste de courses:",JSON.stringify(i,null,2)),i&&i.items?(console.log("\u2705 Mise \xE0 jour de la liste de courses avec",i.items.length,"\xE9l\xE9ments:",i.items.map(o=>o.name).join(", ")),this.shoppingListSubject.next(i.items)):(console.log("\u2139\uFE0F Aucune donn\xE9e pour la liste de courses - r\xE9initialisation tableau vide"),this.shoppingListSubject.next([]))},r=>{console.error("\u274C Erreur Firebase onValue pour la liste de courses:",r),console.error("D\xE9tails erreur:",{code:r.code||"unknown",message:r.message||String(r),stack:r.stack})}),console.log("\u2705 Listener Firebase configur\xE9 avec succ\xE8s pour la liste de courses")}catch(r){console.error("\u274C Erreur lors de la configuration du listener pour la liste de courses:",r)}}saveParticipants(e,n){return K(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F saveParticipants appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de sauvegarder");return}try{let r=new Date().toDateString(),i=ar(this.db,`lunches/${r}-${n}`);console.log(`\u{1F4BE} Tentative de sauvegarde dans Firebase pour ${n}`),console.log("\u{1F4C5} Date:",r),console.log("\u{1F4CA} Nombre de participants:",e.length),console.log("\u{1F465} Participants:",e.map(s=>s.name).join(", "));let o={date:r,participants:e};console.log("\u{1F4E4} Donn\xE9es \xE0 sauvegarder:",JSON.stringify(o,null,2)),yield oc(i,o),console.log(`\u2705 Sauvegarde Firebase r\xE9ussie pour ${n}`)}catch(r){console.error(`\u274C Erreur lors de la sauvegarde Firebase ${n}:`,r),console.error("D\xE9tails erreur:",{name:r instanceof Error?r.name:"Unknown",message:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0})}})}resetDay(e){return K(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F resetDay appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de r\xE9initialiser");return}try{let n=new Date().toDateString(),r=ar(this.db,`lunches/${n}-${e}`);console.log(`\u{1F504} Tentative de r\xE9initialisation Firebase pour ${e}`),console.log("\u{1F4C5} Date:",n),yield Fp(r),console.log(`\u2705 R\xE9initialisation Firebase r\xE9ussie pour ${e}`)}catch(n){console.error(`\u274C Erreur lors de la r\xE9initialisation Firebase ${e}:`,n),console.error("D\xE9tails erreur:",{name:n instanceof Error?n.name:"Unknown",message:n instanceof Error?n.message:String(n)})}})}saveShoppingList(e){return K(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F saveShoppingList appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de sauvegarder la liste de courses");return}try{let n=new Date().toDateString(),r=ar(this.db,`shoppingList/${n}`);console.log("\u{1F4BE} Tentative de sauvegarde de la liste de courses dans Firebase"),console.log("\u{1F4CA} Nombre d'\xE9l\xE9ments:",e.length);let i={items:e,lastUpdated:new Date().toISOString()};console.log("\u{1F4E4} Donn\xE9es \xE0 sauvegarder:",JSON.stringify(i,null,2)),yield oc(r,i),console.log("\u2705 Sauvegarde de la liste de courses r\xE9ussie")}catch(n){console.error("\u274C Erreur lors de la sauvegarde de la liste de courses:",n),console.error("D\xE9tails erreur:",{name:n instanceof Error?n.name:"Unknown",message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0})}})}clearShoppingList(){return K(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F clearShoppingList appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de vider la liste de courses");return}try{let e=new Date().toDateString(),n=ar(this.db,`shoppingList/${e}`);console.log("\u{1F5D1}\uFE0F Tentative de suppression de la liste de courses dans Firebase"),yield Fp(n),console.log("\u2705 Liste de courses supprim\xE9e avec succ\xE8s")}catch(e){console.error("\u274C Erreur lors de la suppression de la liste de courses:",e),console.error("D\xE9tails erreur:",{name:e instanceof Error?e.name:"Unknown",message:e instanceof Error?e.message:String(e)})}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};function Hk(t,e){t&1&&(m(0,"div",13)(1,"div",14)(2,"div",15),_(3,"\u{1F300}"),y(),m(4,"div",16),_(5,"\u{1F300}"),y(),m(6,"div",17),_(7,"\u{1F300}"),y(),m(8,"div",18),_(9,"\u{1F300}"),y(),m(10,"div",19),_(11,"\u{1F300}"),y(),m(12,"div",20),_(13,"\u2728"),y(),m(14,"div",21),_(15,"\u2728"),y()()())}function Uk(t,e){if(t&1&&(m(0,"div",22)(1,"span",23),_(2,"\u2728"),y(),m(3,"span",24),_(4,"\u2728"),y(),m(5,"span",25),_(6,"\u2728"),y(),m(7,"span",26),_(8,"\u2728"),y(),m(9,"span",27),_(10,"\u2728"),y(),m(11,"span",28),_(12,"\u2728"),y(),m(13,"span",29),_(14,"\u2728"),y(),m(15,"span",30),_(16,"\u2728"),y()()),t&2){let n=W();C(),pe("top",n.globalStarPositions[0].top,"%")("left",n.globalStarPositions[0].left,"%"),C(2),pe("top",n.globalStarPositions[1].top,"%")("left",n.globalStarPositions[1].left,"%"),C(2),pe("top",n.globalStarPositions[2].top,"%")("left",n.globalStarPositions[2].left,"%"),C(2),pe("top",n.globalStarPositions[3].top,"%")("left",n.globalStarPositions[3].left,"%"),C(2),pe("top",n.globalStarPositions[4].top,"%")("left",n.globalStarPositions[4].left,"%"),C(2),pe("top",n.globalStarPositions[5].top,"%")("left",n.globalStarPositions[5].left,"%"),C(2),pe("top",n.globalStarPositions[6].top,"%")("left",n.globalStarPositions[6].left,"%"),C(2),pe("top",n.globalStarPositions[7].top,"%")("left",n.globalStarPositions[7].left,"%")}}function $k(t,e){t&1&&(m(0,"span"),_(1,"\u2713"),y())}function zk(t,e){if(t&1&&(m(0,"div",41)(1,"span",23),_(2,"\u2728"),y(),m(3,"span",24),_(4,"\u2728"),y(),m(5,"span",25),_(6,"\u2728"),y(),m(7,"span",26),_(8,"\u2728"),y(),m(9,"span",27),_(10,"\u2728"),y(),m(11,"span",28),_(12,"\u2728"),y(),m(13,"span",29),_(14,"\u2728"),y(),m(15,"span",30),_(16,"\u2728"),y()()),t&2){let n=W().$implicit;C(),pe("top",(n.randomStarPositions==null||n.randomStarPositions[0]==null?null:n.randomStarPositions[0].top)||50,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[0]==null?null:n.randomStarPositions[0].left)||50,"%"),C(2),pe("top",(n.randomStarPositions==null||n.randomStarPositions[1]==null?null:n.randomStarPositions[1].top)||5,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[1]==null?null:n.randomStarPositions[1].left)||20,"%"),C(2),pe("top",(n.randomStarPositions==null||n.randomStarPositions[2]==null?null:n.randomStarPositions[2].top)||5,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[2]==null?null:n.randomStarPositions[2].left)||95,"%"),C(2),pe("top",(n.randomStarPositions==null||n.randomStarPositions[3]==null?null:n.randomStarPositions[3].top)||95,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[3]==null?null:n.randomStarPositions[3].left)||70,"%"),C(2),pe("top",(n.randomStarPositions==null||n.randomStarPositions[4]==null?null:n.randomStarPositions[4].top)||70,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[4]==null?null:n.randomStarPositions[4].left)||2,"%"),C(2),pe("top",(n.randomStarPositions==null||n.randomStarPositions[5]==null?null:n.randomStarPositions[5].top)||20,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[5]==null?null:n.randomStarPositions[5].left)||5,"%"),C(2),pe("top",(n.randomStarPositions==null||n.randomStarPositions[6]==null?null:n.randomStarPositions[6].top)||95,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[6]==null?null:n.randomStarPositions[6].left)||95,"%"),C(2),pe("top",(n.randomStarPositions==null||n.randomStarPositions[7]==null?null:n.randomStarPositions[7].top)||35,"%")("left",(n.randomStarPositions==null||n.randomStarPositions[7]==null?null:n.randomStarPositions[7].left)||98,"%")}}function Gk(t,e){if(t&1){let n=Xe();m(0,"div",33)(1,"div",34),ee("click",function(){let i=ae(n).$implicit,o=W(2);return le(o.toggleItem(i))}),m(2,"div",35),Ie(3,$k,2,0,"span",36),y(),m(4,"div",37)(5,"span",38),_(6),y()()(),m(7,"button",39),ee("click",function(){let i=ae(n).$implicit,o=W(2);return le(o.deleteItem(i.id))}),_(8," \u{1FA84}\uFE0F "),y(),Ie(9,zk,17,32,"div",40),y()}if(t&2){let n=e.$implicit;ht("checked",n.checked)("fading-out",n.fadingOut),X("@itemAnimation",void 0),C(3),X("ngIf",n.checked),C(3),et(n.name),C(3),X("ngIf",n.showMagicStars)}}function Wk(t,e){if(t&1&&(m(0,"div",31),Ie(1,Gk,10,8,"div",32),y()),t&2){let n=W();C(),X("ngForOf",n.shoppingItems)("ngForTrackBy",n.trackByItemId)}}function qk(t,e){t&1&&(m(0,"div",42)(1,"p"),_(2,"Aucun article dans la liste"),y(),m(3,"p",43),_(4,"Ajoutez votre premier ingr\xE9dient !"),y()())}function Yk(t,e){if(t&1){let n=Xe();m(0,"div",44)(1,"button",45),ee("click",function(){ae(n);let i=W();return le(i.openConfirmModal())}),_(2," \u{1F9D9}\u{1F3FB}\u200D Vider toute la liste "),y()()}}function Kk(t,e){if(t&1){let n=Xe();m(0,"div",46),ee("click",function(){ae(n);let i=W();return le(i.closeConfirmModal())}),m(1,"div",47),ee("click",function(i){return ae(n),le(i.stopPropagation())}),m(2,"div",48)(3,"span",49),_(4,"\u{1F52E}"),y(),m(5,"h3"),_(6,"Confirmation Requise"),y(),m(7,"span",49),_(8,"\u{1F52E}"),y()(),m(9,"div",50)(10,"p"),_(11,"\xCAtes-vous s\xFBr de vouloir supprimer TOUS les articles de la liste ?"),y(),m(12,"p",51),_(13,"Cette magie noire est irr\xE9versible !"),y()(),m(14,"div",52)(15,"button",53),ee("click",function(){ae(n);let i=W();return le(i.closeConfirmModal())}),_(16," \u274C Annuler "),y(),m(17,"button",54),ee("click",function(){ae(n);let i=W();return le(i.confirmClearAllItems())}),_(18," \u2713 Confirmer "),y()()()()}}var sc=class t{constructor(e,n){this.themeService=e;this.dataService=n;this.themeSubscription=this.themeService.nightMode$.subscribe(r=>{this.darkMode=r}),this.shoppingListSubscription=this.dataService.shoppingList$.subscribe(r=>{if(console.log("\u{1F4CB} Liste de courses re\xE7ue de Firebase:",r),r&&r.length>0){this.shoppingItems=r;let i=Math.max(...r.map(o=>o.id),0);this.nextId=i+1}})}newItem="";shoppingItems=[];nextId=1;showConfirmModal=!1;darkMode=!1;showBlueTornado=!1;showGlobalMagicStars=!1;globalStarPositions=[];themeSubscription;shoppingListSubscription;addItem(){if(this.newItem.trim()){let e={id:this.nextId++,name:this.newItem.trim(),checked:!1};this.shoppingItems.push(e),this.newItem="",this.dataService.saveShoppingList(this.shoppingItems)}}toggleItem(e){e.checked=!e.checked,setTimeout(()=>{this.sortItems(),this.dataService.saveShoppingList(this.shoppingItems)},1e3)}sortItems(){this.shoppingItems.sort((e,n)=>e.checked===n.checked?0:e.checked?1:-1)}deleteItem(e){let n=this.shoppingItems.find(r=>r.id===e);n&&(n.showMagicStars=!0,n.fadingOut=!0,setTimeout(()=>{this.shoppingItems=this.shoppingItems.filter(r=>r.id!==e),this.dataService.saveShoppingList(this.shoppingItems)},2e3))}openConfirmModal(){this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1}confirmClearAllItems(){this.showBlueTornado=!0,this.globalStarPositions=this.generateRandomStarPositions(),this.showGlobalMagicStars=!0,this.shoppingItems.forEach(e=>{e.fadingOut=!0}),this.closeConfirmModal(),setTimeout(()=>{this.shoppingItems=[],this.showBlueTornado=!1,this.showGlobalMagicStars=!1,this.dataService.clearShoppingList()},4e3)}generateRandomStarPositions(){let e=[];e.push({top:50,left:50});for(let n=0;n<7;n++)e.push({top:Math.random()*100,left:Math.random()*100});return e}get uncheckedCount(){return this.shoppingItems.filter(e=>!e.checked).length}trackByItemId(e,n){return n.id}ngOnDestroy(){this.themeSubscription&&this.themeSubscription.unsubscribe(),this.shoppingListSubscription&&this.shoppingListSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(J(qr),J(hi))};static \u0275cmp=Oa({type:t,selectors:[["app-shopping-list"]],decls:17,vars:11,consts:[[1,"shopping-list-container"],["class","blue-tornado-overlay",4,"ngIf"],["class","global-magic-stars",4,"ngIf"],[1,"shopping-header"],[1,"subtitle"],[1,"add-item-section"],[1,"input-group"],["type","text","placeholder","Ajouter un ingr\xE9dient...",1,"item-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"add-button",3,"click","disabled"],["class","items-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","actions",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"blue-tornado-overlay"],[1,"tornado-container"],[1,"tornado-spiral","tornado-spiral-1"],[1,"tornado-spiral","tornado-spiral-2"],[1,"tornado-spiral","tornado-spiral-3"],[1,"tornado-spiral","tornado-spiral-4"],[1,"tornado-spiral","tornado-spiral-5"],[1,"tornado-magic","tornado-magic-2"],[1,"tornado-magic","tornado-magic-3"],[1,"global-magic-stars"],[1,"star","star-1"],[1,"star","star-2"],[1,"star","star-3"],[1,"star","star-4"],[1,"star","star-5"],[1,"star","star-6"],[1,"star","star-7"],[1,"star","star-8"],[1,"items-list"],["class","shopping-item",3,"checked","fading-out",4,"ngFor","ngForOf","ngForTrackBy"],[1,"shopping-item"],[1,"item-content",3,"click"],[1,"checkbox"],[4,"ngIf"],[1,"item-details"],[1,"item-name"],["title","Supprimer",1,"delete-button",3,"click"],["class","magic-stars",4,"ngIf"],[1,"magic-stars"],[1,"empty-state"],[1,"empty-subtitle"],[1,"actions"],[1,"clear-button",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[2,"font-size","2rem"],[1,"modal-body"],[1,"modal-warning"],[1,"modal-actions"],[1,"modal-cancel-button",3,"click"],[1,"modal-confirm-button",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0),Ie(1,Hk,16,0,"div",1)(2,Uk,17,32,"div",2),m(3,"div",3)(4,"h2"),_(5,"\u{1F35E} Victuailles \xE0 acheter"),y(),m(6,"p",4),_(7),y()(),m(8,"div",5)(9,"div",6)(10,"input",7),zi("ngModelChange",function(o){return Ra(r.newItem,o)||(r.newItem=o),o}),ee("keyup.enter",function(){return r.addItem()}),y(),m(11,"button",8),ee("click",function(){return r.addItem()}),_(12," \u2795 Ajouter "),y()()(),Ie(13,Wk,2,2,"div",9)(14,qk,5,0,"div",10)(15,Yk,3,0,"div",11)(16,Kk,19,0,"div",12),y()),n&2&&(ht("dark-mode",r.darkMode),C(),X("ngIf",r.showBlueTornado),C(),X("ngIf",r.showGlobalMagicStars),C(5),qt("",r.uncheckedCount," article(s) \xE0 acheter"),C(3),$i("ngModel",r.newItem),C(),X("disabled",!r.newItem.trim()),C(2),X("ngIf",r.shoppingItems.length>0),C(),X("ngIf",r.shoppingItems.length===0),C(),X("ngIf",r.shoppingItems.length>0),C(),X("ngIf",r.showConfirmModal))},dependencies:[Lr,Fr,qi,vl,Wr,yl,go],styles:['.shopping-list-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:20px;font-family:MedievalSharp,serif;position:relative;transition:background-color .3s ease}.shopping-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:45px;padding:30px 40px;position:relative;background:#f4e4c1;border:6px solid transparent;border-image:linear-gradient(135deg,#b8941f,#dab02c,#cfa414,#edbf2b,#b8941f) 1;outline:3px solid #3D2817;outline-offset:-9px;box-shadow:0 0 0 2px #b8941f,6px 6px #0006,inset 0 0 40px #b8941f26}.shopping-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;left:-6px;width:40px;height:40px;background:linear-gradient(135deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(45deg,#c9a227,#b8941f);border-radius:0 0 12px;box-shadow:inset 2px 2px 4px #c9a22780,2px 2px 6px #0000004d;z-index:10}.shopping-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-6px;right:-6px;width:40px;height:40px;background:linear-gradient(-45deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(135deg,#ffd44b,#b8941f);border-radius:12px 0 0;box-shadow:inset -2px -2px 4px #c9a22780,-2px -2px 6px #0000004d;z-index:10}.shopping-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:2.2em;font-weight:700;color:#8b0000;text-shadow:2px 2px 0 #d4af37,3px 3px 6px rgba(0,0,0,.3);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px}.subtitle[_ngcontent-%COMP%]{margin:0;font-size:1.1em;color:#654321;font-weight:700;text-shadow:1px 1px 2px rgba(139,69,19,.3)}.add-item-section[_ngcontent-%COMP%]{margin-bottom:45px;background:#f4e4c1;padding:25px;border:5px double #3d2817;box-shadow:6px 6px #0006;position:relative}.add-item-section[_ngcontent-%COMP%]:before{content:"\\1f3f0";position:absolute;top:-32px;left:50%;transform:translate(-50%);font-size:1.6rem;background:#d4af37;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:4px solid #3d2817;box-shadow:0 4px 8px #0006;text-align:center;line-height:50px}.input-group[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.item-input[_ngcontent-%COMP%]{flex:1;min-width:200px;padding:14px 16px;border:4px solid #3d2817;border-radius:6px;font-size:1em;font-family:MedievalSharp,serif;background:#fff8e7;box-sizing:border-box;box-shadow:inset 0 2px 6px #0003;transition:all .3s ease;color:#3d2817}.item-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d4af37;box-shadow:inset 0 2px 6px #0003,0 0 0 4px #d4af374d}.item-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.add-button[_ngcontent-%COMP%]{padding:14px 28px;background:linear-gradient(135deg,#d4af37,#c9a227);color:#3d2817;border:4px solid #3d2817;border-radius:6px;font-size:1em;font-weight:700;cursor:pointer;transition:all .3s ease;white-space:nowrap;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:1px;box-shadow:4px 4px #0000004d;text-shadow:1px 1px 2px rgba(255,255,255,.5)}.add-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translate(-2px,-2px);box-shadow:6px 6px #00000059,0 0 20px #d4af3799;background:linear-gradient(135deg,gold,#d4af37)}.add-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(2px,2px);box-shadow:2px 2px #0003}.add-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#aaa,#888);color:#555;cursor:not-allowed;opacity:.6}.items-list[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.shopping-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;margin-bottom:12px;background:#f4e4c1;border:4px solid #3d2817;border-left:8px solid #d4af37;box-shadow:4px 4px #0003;transition:all .5s cubic-bezier(.68,-.55,.265,1.55);position:relative;will-change:transform,opacity}.shopping-item.fading-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_itemFadeOut 1.5s ease-out forwards;animation-delay:.4s}@keyframes _ngcontent-%COMP%_itemFadeOut{0%{opacity:1}25%{opacity:.8}50%{opacity:.6}75%{opacity:.2}to{opacity:0}}.shopping-item[_ngcontent-%COMP%]:before{content:"\\25c6";position:absolute;left:-6px;top:50%;transform:translateY(-50%);color:#d4af37;font-size:1.2rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.shopping-item[_ngcontent-%COMP%]:hover{transform:translate(8px);box-shadow:6px 6px #00000040}.shopping-item.checked[_ngcontent-%COMP%]{background:#d4c5a0}.shopping-item.checked[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-decoration:none;color:#353535;position:relative;display:inline-block}.shopping-item.checked[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-5%;top:50%;width:110%;height:3px;background:linear-gradient(90deg,transparent 0%,#8b0000 3%,#c41515 50%,#8b0000 97%,transparent 100%);transform:translateY(-50%) scaleX(0) rotate(-.5deg);transform-origin:left;animation:_ngcontent-%COMP%_drawLine 1s ease-out forwards;border-radius:50%;box-shadow:0 1px 2px #8b000080,0 -1px 1px #8b00004d;opacity:.95}@keyframes _ngcontent-%COMP%_drawLine{0%{transform:translateY(-50%) scaleX(0) rotate(-.5deg);opacity:0}10%{opacity:.8}to{transform:translateY(-50%) scaleX(1) rotate(-.5deg);opacity:.95}}.item-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;cursor:pointer;gap:15px}.checkbox[_ngcontent-%COMP%]{width:28px;height:28px;border:3px solid #3d2817;background:#fff8e7;border-radius:4px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .3s ease;box-shadow:inset 0 2px 4px #0003}.shopping-item.checked[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background:#d4af37;border-color:#3d2817;box-shadow:inset 0 2px 4px #0000004d,0 0 10px #d4af3780}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#3d2817;text-shadow:1px 1px 2px rgba(255,255,255,.5)}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.item-name[_ngcontent-%COMP%]{font-size:1.15em;font-weight:700;color:#3d2817;font-family:MedievalSharp,serif;text-shadow:1px 1px 2px rgba(212,175,55,.3)}.item-user[_ngcontent-%COMP%]{font-size:.85em;color:#654321;font-style:italic}.delete-button[_ngcontent-%COMP%]{padding:10px 14px;background:linear-gradient(135deg,#8b0000,#600);color:#d4af37;border:3px solid #3d2817;border-radius:50%;font-size:1.3em;cursor:pointer;transition:all .3s ease;flex-shrink:0;width:42px;height:42px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px #0000004d;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.delete-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:rotate(90deg) scale(1.1);box-shadow:0 6px 12px #0006,0 0 20px #8b000099}.magic-stars[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;pointer-events:none;z-index:100}.global-magic-stars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:998}.global-magic-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{position:fixed;font-size:3rem;opacity:0;animation:_ngcontent-%COMP%_magicSparkle 3s ease-in-out forwards;filter:drop-shadow(0 0 8px rgba(212,175,55,.8)) drop-shadow(0 0 15px rgba(212,175,55,.6))}.star[_ngcontent-%COMP%]{position:absolute;font-size:1.5rem;opacity:0;animation:_ngcontent-%COMP%_magicSparkle 3s ease-in-out forwards;filter:drop-shadow(0 0 3px rgba(212,175,55,.6))}.star-1[_ngcontent-%COMP%]{animation-delay:0s}.star-2[_ngcontent-%COMP%]{animation-delay:.2s}.star-3[_ngcontent-%COMP%]{animation-delay:.1s}.star-4[_ngcontent-%COMP%]{animation-delay:.3s}.star-5[_ngcontent-%COMP%]{animation-delay:.16s}.star-6[_ngcontent-%COMP%]{animation-delay:.24s}.star-7[_ngcontent-%COMP%]{animation-delay:.36s}.star-8[_ngcontent-%COMP%]{animation-delay:.12s}@keyframes _ngcontent-%COMP%_magicSparkle{0%{opacity:0;transform:translate(-50%,-50%) scale(1)}5%{opacity:.4;transform:translate(-50%,-50%) scale(.6)}10%{opacity:.8;transform:translate(-50%,-50%) scale(1.1)}20%{opacity:.6;transform:translate(-50%,-50%) scale(1.3)}30%{opacity:.2;transform:translate(-50%,-50%) scale(1.1)}40%{opacity:0;transform:translate(-50%,-50%) scale(.9)}50%{opacity:.3;transform:translate(-50%,-50%) scale(.8)}60%{opacity:.6;transform:translate(-50%,-50%) scale(.7)}70%{opacity:.9;transform:translate(-50%,-50%) scale(.6)}80%{opacity:.6;transform:translate(-50%,-50%) scale(.5)}90%{opacity:.4;transform:translate(-50%,-50%) scale(.4)}95%{opacity:.2;transform:translate(-50%,-50%) scale(.2)}to{opacity:0;transform:translate(-50%,-50%) scale(.1)}}.blue-tornado-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:999;background:radial-gradient(circle,rgba(0,100,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_tornadoGlow 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_tornadoGlow{0%,to{background:radial-gradient(circle,rgba(0,100,255,.05) 0%,transparent 70%)}50%{background:radial-gradient(circle,rgba(0,100,255,.2) 0%,transparent 70%)}}.tornado-container[_ngcontent-%COMP%]{position:relative;width:400px;height:400px;animation:_ngcontent-%COMP%_tornadoSpin 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_tornadoSpin{0%{transform:scale(0) rotate(0);opacity:0}10%{opacity:1}50%{transform:scale(1.2) rotate(720deg);opacity:1}90%{opacity:.8}to{transform:scale(.3) rotate(1440deg);opacity:0}}.tornado-spiral[_ngcontent-%COMP%]{position:absolute;font-size:4rem;color:#06f;filter:drop-shadow(0 0 10px rgba(0,100,255,.8)) drop-shadow(0 0 20px rgba(0,150,255,.6)) drop-shadow(0 0 30px rgba(0,200,255,.4));animation:_ngcontent-%COMP%_spiralRotate 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_spiralRotate{0%{transform:translate(-50%,-50%) rotate(0) scale(.5);opacity:0}10%{opacity:1}50%{opacity:1}90%{opacity:.6}to{transform:translate(-50%,-50%) rotate(1080deg) scale(1.5);opacity:0}}.tornado-spiral-1[_ngcontent-%COMP%]{top:50%;left:50%;animation-delay:0s}.tornado-spiral-2[_ngcontent-%COMP%]{top:30%;left:50%;animation-delay:.2s;font-size:3.5rem}.tornado-spiral-3[_ngcontent-%COMP%]{top:70%;left:50%;animation-delay:.4s;font-size:3rem}.tornado-spiral-4[_ngcontent-%COMP%]{top:50%;left:30%;animation-delay:.3s;font-size:3.2rem}.tornado-spiral-5[_ngcontent-%COMP%]{top:50%;left:70%;animation-delay:.5s;font-size:3.8rem}.tornado-magic[_ngcontent-%COMP%]{position:absolute;font-size:2rem;color:#0cf;filter:drop-shadow(0 0 8px rgba(0,200,255,.9));animation:_ngcontent-%COMP%_magicOrbit 4s ease-in-out forwards}@keyframes _ngcontent-%COMP%_magicOrbit{0%{transform:translate(-50%,-50%) rotate(0) translate(0) scale(0);opacity:0}10%{opacity:1}50%{transform:translate(-50%,-50%) rotate(720deg) translate(150px) scale(1.2);opacity:1}90%{opacity:.5}to{transform:translate(-50%,-50%) rotate(1440deg) translate(200px) scale(.5);opacity:0}}.tornado-magic[_ngcontent-%COMP%]{top:50%;left:50%;animation-delay:.1s}.tornado-magic-2[_ngcontent-%COMP%]{animation-delay:.6s}.tornado-magic-3[_ngcontent-%COMP%]{animation-delay:1.2s}@keyframes _ngcontent-%COMP%_lightningFlash{0%,to{opacity:0;transform:translate(-50%,-50%) scale(0)}5%,15%,25%,35%,45%{opacity:1;transform:translate(-50%,-50%) scale(1.3)}10%,20%,30%,40%,50%{opacity:.3;transform:translate(-50%,-50%) scale(.8)}55%{opacity:0;transform:translate(-50%,-50%) scale(0)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 30px;background:#f4e4c1;border:5px double #3d2817;box-shadow:6px 6px #0006;position:relative}.empty-state[_ngcontent-%COMP%]:before{content:"\\1f4dc";position:absolute;top:-25px;left:50%;transform:translate(-50%);font-size:3rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3))}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.5em;color:#654321;font-family:MedievalSharp,serif;text-shadow:1px 1px 2px rgba(139,69,19,.3)}.empty-subtitle[_ngcontent-%COMP%]{font-size:1em!important;color:#999;font-style:italic}.actions[_ngcontent-%COMP%]{text-align:center;margin-top:25px}.clear-button[_ngcontent-%COMP%]{padding:15px 35px;background:linear-gradient(135deg,#8b0000,#600);color:#d4af37;border:5px solid #d4af37;border-radius:8px;font-size:1.1em;font-weight:700;cursor:pointer;transition:all .3s ease;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;box-shadow:6px 6px #0006;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.clear-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#b30000,#8b0000);transform:translate(-3px,-3px) scale(1.05);box-shadow:8px 8px #0006,0 0 25px #8b0000b3;border-color:gold}.clear-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(3px,3px);box-shadow:3px 3px #0000004d}.clear-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#666,#444);border-color:#888;color:#999;cursor:not-allowed;opacity:.5}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(4px);animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#f4e4c1;border:8px solid transparent;border-image:linear-gradient(135deg,#b8941f,#dab02c,#cfa414,#edbf2b,#b8941f) 1;outline:4px solid #3D2817;outline-offset:-12px;box-shadow:0 0 0 3px #b8941f,0 20px 60px #0009,inset 0 0 50px #b8941f33;padding:40px 50px;max-width:500px;width:90%;position:relative;animation:_ngcontent-%COMP%_slideDown .4s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-8px;left:-8px;width:50px;height:50px;background:linear-gradient(135deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(45deg,#c9a227,#b8941f);border-radius:0 0 15px;box-shadow:inset 2px 2px 4px #c9a22780,3px 3px 8px #0006;z-index:10}.modal-content[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;right:-8px;width:50px;height:50px;background:linear-gradient(-45deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(135deg,#ffd44b,#b8941f);border-radius:15px 0 0;box-shadow:inset -2px -2px 4px #c9a22780,-3px -3px 8px #0006;z-index:10}.modal-header[_ngcontent-%COMP%]{text-align:center;margin-top:15px;margin-bottom:25px;padding-bottom:20px;border-bottom:3px double #3d2817;position:relative;display:flex}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5em;font-weight:600;color:#8b0000;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 0 #d4af37,3px 3px 6px rgba(0,0,0,.3)}.modal-body[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0;font-size:1.15em;color:#3d2817;font-family:MedievalSharp,serif;line-height:1.6}.modal-warning[_ngcontent-%COMP%]{font-weight:700;color:#8b0000!important;font-size:1em!important;font-style:italic;text-shadow:1px 1px 2px rgba(212,175,55,.4)}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;flex-wrap:wrap}.modal-cancel-button[_ngcontent-%COMP%], .modal-confirm-button[_ngcontent-%COMP%]{padding:14px 32px;border-radius:6px;font-size:1.05em;font-weight:700;cursor:pointer;transition:all .3s ease;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:1px;border:4px solid #3d2817;box-shadow:4px 4px #0000004d;min-width:140px}.modal-cancel-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#888,#666);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.6)}.modal-cancel-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#999,#777);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059,0 0 15px #64646480}.modal-confirm-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b0000,#600);color:#d4af37;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.modal-confirm-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:translate(-2px,-2px);box-shadow:6px 6px #0006,0 0 20px #8b000099}.modal-cancel-button[_ngcontent-%COMP%]:active, .modal-confirm-button[_ngcontent-%COMP%]:active{transform:translate(2px,2px);box-shadow:2px 2px #0003}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-image:linear-gradient(135deg,#ffb347,#ff8c42,#f4a460,#ffa07a,#ffb347) 1;outline-color:#2d1f12;box-shadow:0 0 0 2px #ff8c42,6px 6px #0009,inset 0 0 40px #ff8c4233,0 0 30px #ff8c424d}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(45deg,#ffa07a,#ff8c42);box-shadow:inset 2px 2px 4px #ff8c4280,2px 2px 6px #0000004d,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]:after{background:linear-gradient(-45deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:inset -2px -2px 4px #ff8c4280,-2px -2px 6px #0000004d,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .shopping-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#edd39e;text-shadow:2px 2px 0px rgba(255,140,66,.6),3px 3px 6px rgba(0,0,0,.5),0 0 20px rgba(255,140,66,.5)}.dark-mode[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#d4a574;text-shadow:2px 2px 0px rgba(255,140,66,.4),0 0 10px rgba(255,140,66,.3)}.dark-mode[_ngcontent-%COMP%]   .add-item-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .add-item-section[_ngcontent-%COMP%]:before{background:#c50;border-color:#2d1f12;box-shadow:0 4px 8px #0009,0 0 15px #ff8c424d}.dark-mode[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{background:#2d1f12;border-color:#1f1409;color:#edd39e;box-shadow:inset 0 2px 6px #0006}.dark-mode[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]:focus{border-color:#ffb347;box-shadow:inset 0 2px 6px #0006,0 0 0 4px #ffb3474d,0 0 15px #ff8c424d}.dark-mode[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]::placeholder{color:#d4a574;opacity:.6}.dark-mode[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#2d1f12;box-shadow:4px 4px #00000080,inset 0 0 20px #0000004d,0 0 15px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#df5a27,#c50);box-shadow:6px 6px #0000008c,inset 0 0 30px #0003,0 0 25px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#4a3326,#3d2817);color:#d4a574}.dark-mode[_ngcontent-%COMP%]   .shopping-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a3326,#3d2817);border-color:#2d1f12;border-left-color:#ff8c42;box-shadow:4px 4px #0006,0 0 10px #ff8c4226}.dark-mode[_ngcontent-%COMP%]   .shopping-item[_ngcontent-%COMP%]:before{color:#ffb347;text-shadow:2px 2px 4px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.5)}.dark-mode[_ngcontent-%COMP%]   .shopping-item[_ngcontent-%COMP%]:hover{box-shadow:6px 6px #00000073,0 0 15px #ff8c4240}.dark-mode[_ngcontent-%COMP%]   .shopping-item.checked[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f12,#3d2817)}.dark-mode[_ngcontent-%COMP%]   .shopping-item.checked[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#8b7355}.dark-mode[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background:#2d1f12;border-color:#1f1409;box-shadow:inset 0 2px 4px #0006}.dark-mode[_ngcontent-%COMP%]   .shopping-item.checked[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background:#ffb347;border-color:#ff8c42;box-shadow:inset 0 2px 4px #0000004d,0 0 10px #ff8c4280}.dark-mode[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#edd39e;text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 8px rgba(255,140,66,.2)}.dark-mode[_ngcontent-%COMP%]   .item-user[_ngcontent-%COMP%]{color:#d4a574}.dark-mode[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#2d1f12;box-shadow:0 4px 8px #00000080,0 0 10px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#df5a27,#c50);box-shadow:0 6px 12px #0009,0 0 20px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#edd39e;text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 8px rgba(255,140,66,.2)}.dark-mode[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{color:#d4a574!important;opacity:.6}.dark-mode[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#ffb347;box-shadow:6px 6px #0009,inset 0 0 20px #0000004d,0 0 15px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#df5a27,#c50);border-color:#ffa07a;box-shadow:8px 8px #0009,inset 0 0 30px #0003,0 0 25px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#4a3326,#3d2817);border-color:#8b7355;color:#8b7355}.dark-mode[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{background:#000000d9}.dark-mode[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-image:linear-gradient(135deg,#ffb347,#ff8c42,#f4a460,#ffa07a,#ffb347) 1;outline-color:#2d1f12;box-shadow:0 0 0 3px #ff8c42,0 20px 60px #000c,inset 0 0 50px #ff8c4226,0 0 30px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(45deg,#ffa07a,#ff8c42);box-shadow:inset 2px 2px 4px #ff8c4280,3px 3px 8px #0009,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]:after{background:linear-gradient(-45deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:inset -2px -2px 4px #ff8c4280,-3px -3px 8px #0009,0 0 15px #ff8c4266}.dark-mode[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#df5a27;text-shadow:2px 1px 0px #ffb347,3px 3px 6px rgba(0,0,0,.5),0 0 15px rgba(255,140,66,.4)}.dark-mode[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#edd39e}.dark-mode[_ngcontent-%COMP%]   .modal-warning[_ngcontent-%COMP%]{color:#ff8c42!important;text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.4)}.dark-mode[_ngcontent-%COMP%]   .modal-cancel-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5a4a1a,#3d3010);color:#edd39e;border-color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .modal-cancel-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6a5a2a,#4d4020);box-shadow:6px 6px #00000080,0 0 15px #ff8c4233}.dark-mode[_ngcontent-%COMP%]   .modal-confirm-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:#ffb347;border-color:#2d1f12}.dark-mode[_ngcontent-%COMP%]   .modal-confirm-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#df5a27,#c50);box-shadow:6px 6px #0009,0 0 20px #ff8c4266}@media (max-width: 600px){.shopping-list-container[_ngcontent-%COMP%]{padding:15px}.shopping-header[_ngcontent-%COMP%]{padding:25px 20px}.shopping-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em}.input-group[_ngcontent-%COMP%]{flex-direction:column}.item-input[_ngcontent-%COMP%]{width:100%}.shopping-item[_ngcontent-%COMP%]{padding:12px 15px}.item-name[_ngcontent-%COMP%]{font-size:1em}.delete-button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1.1em}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.clear-button[_ngcontent-%COMP%]{padding:12px 25px;font-size:1em}.modal-content[_ngcontent-%COMP%]{padding:30px 25px}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.modal-cancel-button[_ngcontent-%COMP%], .modal-confirm-button[_ngcontent-%COMP%]{width:100%}}'],data:{animation:[af("itemAnimation",[Wa(":enter",[Gn({opacity:0,transform:"translateX(-20px)"}),Ga("300ms ease-out",Gn({opacity:1,transform:"translateX(0)"}))]),Wa("* => *",[Ga("500ms ease-in-out")])])]}})};function Zk(t,e){if(t&1&&(m(0,"div",46),Je(1,"div",47),y()),t&2){let n=e.$implicit;pe("top",n.top,"%")("left",n.left,"%")("transform",n.transform)}}function Qk(t,e){if(t&1){let n=Xe();m(0,"div",53)(1,"button",54),ee("click",function(){ae(n);let i=W().$implicit,o=W(2);return le(o.openGuestForm(i))}),_(2," \u{1F3AD}+ "),y(),m(3,"button",55),ee("click",function(){ae(n);let i=W().$implicit,o=W(2);return le(o.removeMember(i))}),_(4," \u2694\uFE0F "),y()()}}function Jk(t,e){if(t&1){let n=Xe();m(0,"div",48)(1,"button",49),ee("click",function(){let i=ae(n).$implicit,o=W(2);return le(o.addMember(i))}),m(2,"span",50),_(3),y(),m(4,"span",51),_(5),y()(),Ie(6,Qk,5,0,"div",52),y()}if(t&2){let n=e.$implicit,r=W(2);C(),ht("registered",r.hasMemberRegistered(n)),X("disabled",r.hasMemberRegistered(n)),C(2),et(n),C(2),et(r.hasMemberRegistered(n)?"\u269C\uFE0F":"\u2795"),C(),X("ngIf",r.hasMemberRegistered(n))}}function Xk(t,e){if(t&1&&(m(0,"span",68),_(1),y()),t&2){let n=W().$implicit;C(),qt(" (invit\xE9 de ",n.addedBy,") ")}}function eF(t,e){if(t&1){let n=Xe();m(0,"div",61)(1,"div",62)(2,"span",63),_(3),y(),m(4,"div",64)(5,"span",65),_(6),y(),Ie(7,Xk,2,1,"span",66),y()(),m(8,"button",67),ee("click",function(){let i=ae(n).$implicit,o=W(3);return le(o.removeParticipant(i))}),_(9,"\u2694\uFE0F"),y()()}if(t&2){let n=e.$implicit;C(3),et(n.isGuest?"\u{1F3AD}":"\u{1FAC5}\u{1F3FB}"),C(3),et(n.name),C(),X("ngIf",n.isGuest)}}function tF(t,e){if(t&1&&(m(0,"div",56)(1,"div",57),_(2,"\u{1F3BA}"),y(),m(3,"div",58),_(4,"\u{1F3BA}"),y(),m(5,"h2",31),Je(6,"span",32),_(7),Je(8,"span",32),y(),m(9,"div",59),Ie(10,eF,10,3,"div",60),y()()),t&2){let n=W(2);C(7),qt(" Participants (",n.totalCount,") "),C(3),X("ngForOf",n.participants)}}function nF(t,e){if(t&1){let n=Xe();m(0,"div",69),ee("click",function(){ae(n);let i=W(2);return le(i.cancelGuestForm())}),m(1,"div",70),ee("click",function(i){return ae(n),le(i.stopPropagation())}),Je(2,"div",71),m(3,"h3",72),_(4),y(),m(5,"input",73),zi("ngModelChange",function(i){ae(n);let o=W(2);return Ra(o.guestName,i)||(o.guestName=i),le(i)}),ee("keyup.enter",function(){ae(n);let i=W(2);return le(i.addGuest(i.selectedMember))}),y(),m(6,"div",74)(7,"button",75),ee("click",function(){ae(n);let i=W(2);return le(i.cancelGuestForm())}),m(8,"span",76),_(9,"\u2715"),y(),_(10," Annuler "),y(),m(11,"button",77),ee("click",function(){ae(n);let i=W(2);return le(i.addGuest(i.selectedMember))}),m(12,"span",76),_(13,"\u269C\uFE0F"),y(),_(14," Ajouter "),y()(),m(15,"div",78)(16,"span"),_(17,"\u2726"),y(),m(18,"span"),_(19,"\u2726"),y(),m(20,"span"),_(21,"\u2726"),y()()()()}if(t&2){let n=W(2);C(4),qt(" Invit\xE9 de ",n.selectedMember," "),C(),$i("ngModel",n.guestName),C(6),X("disabled",!n.guestName.trim())}}function rF(t,e){if(t&1){let n=Xe();m(0,"footer",79),Je(1,"div",80),m(2,"button",81),ee("click",function(){ae(n);let i=W(2);return le(i.resetDay())}),m(3,"span",82),_(4,"\u2694\uFE0F"),y(),_(5," R\xE9initialiser le Festin "),y()()}}function iF(t,e){t&1&&(m(0,"div",83)(1,"div",84),_(2,"\u2728"),y(),m(3,"div",84),_(4,"\u2728"),y()())}function oF(t,e){t&1&&(m(0,"div",85),Je(1,"div",86)(2,"div",86)(3,"div",86),y())}function sF(t,e){if(t&1){let n=Xe();m(0,"div")(1,"div",3)(2,"div",4),_(3,"\u{1F56F}\uFE0F"),y(),m(4,"div",5)(5,"div",6),_(6,"\u269C\uFE0F"),y()(),m(7,"div",7),_(8,"\u{1F56F}\uFE0F"),y()(),m(9,"header",8)(10,"div",9),ee("click",function(){ae(n);let i=W();return le(i.toggleNightMode())}),m(11,"div",10),_(12),y(),m(13,"div",11),Je(14,"div",12),y()(),m(15,"div",13),ee("click",function(){ae(n);let i=W();return le(i.toggleShoppingList())}),m(16,"span",14),_(17,"\u{1F6D2}"),y()(),Je(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),m(22,"h1",19),_(23),y(),m(24,"div",20),_(25),y()(),m(26,"div",21)(27,"div",22)(28,"div",23),Je(29,"div",24),m(30,"div",25),_(31),y(),m(32,"div",26),_(33),y(),m(34,"div",27),Ie(35,Zk,2,6,"div",28),y()()(),m(36,"div",29),_(37,"\u{1F56F}\uFE0F"),y()(),m(38,"div",30)(39,"h2",31)(40,"span",32),_(41,"\u{1F3F0}"),y(),_(42," Qui vient manger ? "),m(43,"span",32),_(44,"\u{1F3F0}"),y()(),m(45,"div",33),Ie(46,Jk,7,6,"div",34),y(),m(47,"div",35)(48,"span",36),_(49,"\u2726"),y(),m(50,"span",36),_(51,"\u2726"),y(),m(52,"span",36),_(53,"\u2726"),y()()(),Ie(54,tF,11,2,"div",37)(55,nF,22,3,"div",38)(56,rF,6,0,"footer",39),m(57,"div",40)(58,"div",41)(59,"span",42),_(60,"\u25AA\uFE0F"),y(),m(61,"span",42),_(62,"\u25AA\uFE0F"),y(),m(63,"span",42),_(64,"\u25AA\uFE0F"),y(),m(65,"span",42),_(66,"\u25AA\uFE0F"),y(),m(67,"span",42),_(68,"\u25AA\uFE0F"),y()(),m(69,"div",43),ee("click",function(){ae(n);let i=W();return le(i.onCandleClick())}),_(70," \u{1F56F}\uFE0F "),y(),Ie(71,iF,5,0,"div",44)(72,oF,4,0,"div",45),y()()}if(t&2){let n=W();C(12),et(n.isNightMode?"\u{1F319}":"\u2600\uFE0F"),C(),ht("active",n.isNightMode),C(10),et(n.currentTitle),C(2),et(n.getCurrentDate()),C(6),et(n.totalCount),C(2),qt("convive",n.totalCount>1?"s":"",""),C(2),X("ngForOf",n.getPlates()),C(11),X("ngForOf",n.familyMembers),C(8),X("ngIf",n.participants.length>0),C(),X("ngIf",n.showGuestForm),C(),X("ngIf",n.participants.length>0),C(13),ht("candle-glowing",n.easterEggActivated)("candle-clicked",n.candleClicked),C(2),X("ngIf",n.showCandleParticles),C(),X("ngIf",n.showCandleShockwave)}}function aF(t,e){if(t&1){let n=Xe();m(0,"div",87)(1,"div",88)(2,"button",89),ee("click",function(){ae(n);let i=W();return le(i.toggleShoppingList())}),_(3," \u2190 Retour "),y()(),Je(4,"app-shopping-list"),y()}}var ac=class t{constructor(e,n){this.dataService=e;this.themeService=n;this.dataService.lunchParticipants$.subscribe(r=>{this.lunchParticipants=r}),this.dataService.dinnerParticipants$.subscribe(r=>{this.dinnerParticipants=r})}isNightMode=!1;showShoppingList=!1;familyMembers=["Papa","Maman","David","Apo","Clovis","Julien"];lunchParticipants=[];dinnerParticipants=[];guestName="";selectedMember="";showGuestForm=!1;easterEggActivated=!1;easterEggAudio;candleClicked=!1;showCandleParticles=!1;showCandleShockwave=!1;getCurrentDate(){return new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}get currentTitle(){return this.isNightMode?"Qui Mange Ce Soir ?":"Qui Mange Ce Midi ?"}get currentMealType(){return this.isNightMode?"dinner":"lunch"}get participants(){return this.isNightMode?this.dinnerParticipants:this.lunchParticipants}toggleNightMode(){this.isNightMode=!this.isNightMode,this.themeService.setNightMode(this.isNightMode)}toggleShoppingList(){this.showShoppingList=!this.showShoppingList}getPlates(){let e=[],n=this.totalCount,r=42,i=50,o=50;for(let s=0;s<n;s++){let a=s*360/n-90,l=a*Math.PI/180,c=i+r*Math.cos(l),u=o+r*Math.sin(l);e.push({top:u,left:c,transform:`translate(-50%, -50%) rotate(${a}deg)`})}return e}get totalCount(){return this.participants.length}hasMemberRegistered(e){return this.participants.some(n=>n.name===e&&!n.isGuest)}addMember(e){if(this.hasMemberRegistered(e))console.log("\u26A0\uFE0F Membre d\xE9j\xE0 enregistr\xE9");else{let n=[...this.participants,{name:e,isGuest:!1}];this.dataService.saveParticipants(n,this.currentMealType)}}removeMember(e){let n=this.participants.filter(r=>!(r.name===e&&!r.isGuest)&&r.addedBy!==e);this.dataService.saveParticipants(n,this.currentMealType)}addGuest(e){if(this.guestName.trim()&&e){let n=[...this.participants,{name:this.guestName.trim(),isGuest:!0,addedBy:e}];this.guestName="",this.showGuestForm=!1,this.selectedMember="",this.dataService.saveParticipants(n,this.currentMealType)}}removeParticipant(e){let n=this.participants.filter(r=>r!==e);this.dataService.saveParticipants(n,this.currentMealType)}openGuestForm(e){this.selectedMember=e,this.showGuestForm=!0}cancelGuestForm(){this.showGuestForm=!1,this.guestName="",this.selectedMember=""}resetDay(){this.dataService.resetDay(this.currentMealType)}toggleEasterEggMusic(){console.log("\u{1F3B5} Toggle Easter Egg Music - Activated:",!this.easterEggActivated),this.easterEggActivated=!this.easterEggActivated,this.easterEggActivated?this.playEasterEggMusic():this.stopEasterEggMusic()}onCandleClick(){console.log("\u{1F525} BOUGIE CLIQU\xC9E - EXPLOSION + MUSIQUE !"),this.candleClicked=!0,this.showCandleParticles=!0,this.showCandleShockwave=!0,this.toggleEasterEggMusic(),setTimeout(()=>{this.candleClicked=!1,this.showCandleParticles=!1,this.showCandleShockwave=!1},1500)}playEasterEggMusic(){console.log("\u{1F3B5} Tentative de lecture de la musique..."),this.easterEggAudio||(console.log("\u{1F3B5} Cr\xE9ation du lecteur audio..."),this.easterEggAudio=new Audio,this.easterEggAudio.src="assets/perceval-cheque-de-caution.mp3",this.easterEggAudio.loop=!0,this.easterEggAudio.volume=.5,this.easterEggAudio.load(),this.easterEggAudio.addEventListener("canplay",()=>{console.log("\u{1F3B5} Audio pr\xEAt \xE0 \xEAtre jou\xE9")}),this.easterEggAudio.addEventListener("error",n=>{console.error("\u{1F3B5} Erreur de chargement audio:",n),console.error("\u{1F3B5} Source:",this.easterEggAudio?.src),console.error("\u{1F3B5} URL compl\xE8te:",window.location.origin+"/"+this.easterEggAudio?.src)}),this.easterEggAudio.addEventListener("play",()=>{console.log("\u{1F3B5} Lecture d\xE9marr\xE9e")}),this.easterEggAudio.addEventListener("pause",()=>{console.log("\u{1F3B5} Lecture en pause")})),console.log("\u{1F3B5} Appel de play()...");let e=this.easterEggAudio.play();e!==void 0&&e.then(()=>{console.log("\u{1F3B5} Lecture r\xE9ussie!")}).catch(n=>{console.error("\u{1F3B5} Erreur lors de la lecture:",n),console.error("\u{1F3B5} Type d'erreur:",n.name),console.error("\u{1F3B5} Message:",n.message),n.name==="NotAllowedError"?(console.warn("\u{1F3B5} L'interaction utilisateur est requise pour jouer l'audio sur mobile"),alert("Cliquez sur OK pour activer la musique"),this.easterEggAudio?.play().catch(r=>{console.error("\u{1F3B5} \xC9chec apr\xE8s interaction:",r),this.easterEggActivated=!1})):this.easterEggActivated=!1})}stopEasterEggMusic(){console.log("\u{1F3B5} Arr\xEAt de la musique..."),this.easterEggAudio&&(this.easterEggAudio.pause(),this.easterEggAudio.currentTime=0,console.log("\u{1F3B5} Musique arr\xEAt\xE9e"))}ngOnDestroy(){this.easterEggAudio&&(this.easterEggAudio.pause(),this.easterEggAudio=void 0)}static \u0275fac=function(n){return new(n||t)(J(hi),J(qr))};static \u0275cmp=Oa({type:t,selectors:[["app-root"]],decls:3,vars:4,consts:[[1,"container"],[4,"ngIf"],["class","shopping-list-page",4,"ngIf"],[1,"castle-decoration-top"],[1,"torch","torch-left"],[1,"castle-banner"],[1,"banner-flag"],[1,"torch","torch-right"],[1,"header"],["title","Basculer entre midi et soir",1,"night-mode-toggle",3,"click"],[1,"toggle-icon"],[1,"toggle-switch"],[1,"toggle-slider"],["title","Liste de courses",1,"shopping-list-toggle",3,"click"],[1,"shopping-icon"],[1,"corner-ornament","corner-top-left"],[1,"corner-ornament","corner-top-right"],[1,"corner-ornament","corner-bottom-left"],[1,"corner-ornament","corner-bottom-right"],[1,"title"],[1,"date"],[1,"counter-section"],[1,"table-container"],[1,"table-top"],[1,"table-wood-grain"],[1,"counter-number"],[1,"counter-label"],[1,"plates-container"],["class","plate",3,"top","left","transform",4,"ngFor","ngForOf"],[1,"candelabra","candelabra-left","candle-glowing"],[1,"add-section"],[1,"section-title"],[1,"title-decoration"],[1,"family-grid"],["class","member-card",4,"ngFor","ngForOf"],[1,"section-footer"],[1,"footer-ornament"],["class","participants-section",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","footer",4,"ngIf"],[1,"castle-decoration-bottom"],[1,"castle-foundation"],[1,"foundation-stone"],[1,"candle-decoration","candle-decoration-right",3,"click"],["class","candle-particles",4,"ngIf"],["class","candle-shockwave",4,"ngIf"],[1,"plate"],[1,"plate-inner"],[1,"member-card"],[1,"member-btn",3,"click","disabled"],[1,"member-name"],[1,"member-status"],["class","member-actions",4,"ngIf"],[1,"member-actions"],["title","Ajouter un invit\xE9",1,"action-btn","guest-add-btn",3,"click"],["title","Se d\xE9sinscrire",1,"action-btn","member-remove-btn",3,"click"],[1,"participants-section"],[1,"trumpet","trumpet-left"],[1,"trumpet","trumpet-right"],[1,"participants-list"],["class","participant-card",4,"ngFor","ngForOf"],[1,"participant-card"],[1,"participant-info"],[1,"participant-icon"],[1,"participant-details"],[1,"participant-name"],["class","participant-label",4,"ngIf"],["title","Retirer",1,"remove-btn",3,"click"],[1,"participant-label"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-banner"],[1,"modal-title"],["type","text","placeholder","Nom de l'invit\xE9","autofocus","",1,"guest-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-buttons"],[1,"btn-cancel",3,"click"],[1,"btn-icon"],[1,"btn-confirm",3,"click","disabled"],[1,"modal-decoration"],[1,"footer"],[1,"footer-decoration"],[1,"reset-btn",3,"click"],[1,"reset-icon"],[1,"candle-particles"],[1,"particle"],[1,"candle-shockwave"],[1,"shockwave-ring"],[1,"shopping-list-page"],[1,"shopping-list-header-bar"],["title","Retour",1,"back-btn",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0),Ie(1,sF,73,18,"div",1)(2,aF,5,0,"div",2),y()),n&2&&(ht("night-mode",r.isNightMode),C(),X("ngIf",!r.showShoppingList),C(),X("ngIf",r.showShoppingList))},dependencies:[Lr,Fr,qi,vl,Wr,yl,go,sc],styles:['[_nghost-%COMP%]{--medieval-gold: #d4af37;--medieval-red: #8b0000;--medieval-purple: #4b0082;--medieval-green: #2d5016;--medieval-brown: #3d2817;--medieval-stone: #8b8680;--parchment: #f4e4c1;--parchment-dark: #d4c5a0;--royal-blue: #002366;--blood-red: #8b0000;--dragon-fire: #ff4500;--castle-shadow: 6px 6px 0px rgba(0, 0, 0, .4);--night-bg: #2a1a0f;--night-bg-dark: #1f1409;--night-parchment: #3d2817;--night-parchment-dark: #2d1f12;--night-gold: #fb992a;--night-silver: #d4a574;--night-blue: #b85618;--night-orange: #df5a27;--night-amber: #f4a460;--night-text: #edd39e;--night-glow: rgba(255, 140, 66, .3)}.container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:30px 25px;min-height:100vh;position:relative;z-index:1;border-left:15px solid #6b5d54;border-right:15px solid #6b5d54;box-shadow:inset 5px 0 15px #0000004d,inset -5px 0 15px #0000004d;background:linear-gradient(90deg,rgba(107,93,84,.1) 0%,transparent 10%,transparent 90%,rgba(107,93,84,.1) 100%)}.header[_ngcontent-%COMP%]{text-align:center;padding:60px 50px 55px;position:relative;min-height:180px;border:6px solid transparent;border-image:linear-gradient(135deg,#b8941f,#dab02c,#cfa414,#edbf2b,#b8941f) 1;outline:3px solid #3D2817;outline-offset:-9px;box-shadow:0 0 0 2px #b8941f,0 0 0 12px #b8941f1a,inset 0 0 40px #b8941f26;filter:drop-shadow(0 12px 20px rgba(0,0,0,.35)) drop-shadow(0 5px 8px rgba(0,0,0,.25));background-color:#fff8e1}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;left:-6px;width:50px;height:50px;background:linear-gradient(135deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(45deg,#c9a227,#b8941f);border-radius:0 0 15px;box-shadow:inset 2px 2px 4px #c9a22780,2px 2px 6px #0000004d;z-index:10}.header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-6px;right:-6px;width:50px;height:50px;background:linear-gradient(-45deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(135deg,#ffd44b,#b8941f);border-radius:15px 0 0;box-shadow:inset -2px -2px 4px #c9a22780,-2px -2px 6px #0000004d;z-index:10}.corner-ornament[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;z-index:15}.corner-ornament[_ngcontent-%COMP%]:before, .corner-ornament[_ngcontent-%COMP%]:after{content:"";position:absolute;background:linear-gradient(135deg,#ffd44b,#b8941f);border-radius:50%}.corner-top-left[_ngcontent-%COMP%]{top:8px;left:8px}.corner-top-left[_ngcontent-%COMP%]:before{width:12px;height:12px;top:0;left:0;box-shadow:0 0 8px #c9a227cc}.corner-top-left[_ngcontent-%COMP%]:after{width:8px;height:8px;top:16px;left:16px;box-shadow:0 0 6px #b8941f99}.corner-top-right[_ngcontent-%COMP%]{top:8px;right:8px}.corner-top-right[_ngcontent-%COMP%]:before{width:12px;height:12px;top:0;right:0;box-shadow:0 0 8px #c9a227cc}.corner-top-right[_ngcontent-%COMP%]:after{width:8px;height:8px;top:16px;right:16px;box-shadow:0 0 6px #b8941f99}.corner-bottom-left[_ngcontent-%COMP%]{bottom:8px;left:8px}.corner-bottom-left[_ngcontent-%COMP%]:before{width:12px;height:12px;bottom:0;left:0;box-shadow:0 0 8px #c9a227cc}.corner-bottom-left[_ngcontent-%COMP%]:after{width:8px;height:8px;bottom:16px;left:16px;box-shadow:0 0 6px #b8941f99}.corner-bottom-right[_ngcontent-%COMP%]{bottom:8px;right:8px}.corner-bottom-right[_ngcontent-%COMP%]:before{width:12px;height:12px;bottom:0;right:0;box-shadow:0 0 8px #c9a227cc}.corner-bottom-right[_ngcontent-%COMP%]:after{width:8px;height:8px;bottom:16px;right:16px;box-shadow:0 0 6px #b8941f99}.title[_ngcontent-%COMP%]{font-size:3rem;margin:0;color:#2c1810;text-shadow:2px 2px 0px rgba(139,69,19,.4),-1px -1px 0px rgba(0,0,0,.3);font-weight:700;line-height:1.3;font-family:Old London,cursive;letter-spacing:3px;position:relative;z-index:10}.date[_ngcontent-%COMP%]{font-size:1.1rem;color:#654321;margin-top:12px;font-weight:700;text-transform:capitalize;text-shadow:2px 2px 0px rgba(139,69,19,.3),-1px -1px 0px rgba(255,255,255,.5);font-style:italic;font-family:MedievalSharp,serif;position:relative;z-index:10}.counter-section[_ngcontent-%COMP%]{padding:25px;margin-bottom:20px}.counter-section[_ngcontent-%COMP%]:before, .counter-section[_ngcontent-%COMP%]:after{content:"\\2726";position:absolute;font-size:2rem;color:var(--medieval-gold);text-shadow:2px 2px 4px rgba(0,0,0,.5)}.counter-section[_ngcontent-%COMP%]:before{top:-10px;left:-10px}.counter-section[_ngcontent-%COMP%]:after{bottom:-10px;right:-10px}.table-container[_ngcontent-%COMP%]{perspective:1000px}.table-top[_ngcontent-%COMP%]{position:relative;width:100%;max-width:380px;height:380px;margin:0 auto;background:linear-gradient(135deg,#654321,#8b6914,#654321,#8b6914,#654321);border:12px solid var(--medieval-brown);border-radius:50%;box-shadow:0 15px 40px #00000080,inset 0 0 60px #0000004d,inset 0 0 100px #8b451366,0 0 0 4px var(--medieval-gold);display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(30deg)}.table-wood-grain[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:50%;background:repeating-linear-gradient(90deg,transparent,transparent 8px,rgba(0,0,0,.1) 8px,rgba(0,0,0,.1) 12px),repeating-linear-gradient(45deg,transparent,transparent 20px,rgba(101,67,33,.05) 20px,rgba(101,67,33,.05) 40px);pointer-events:none}.table-top[_ngcontent-%COMP%]:before{content:"\\269c\\fe0f";position:absolute;top:15%;left:50%;transform:translate(-50%);font-size:2rem;opacity:.3;z-index:1}.counter-number[_ngcontent-%COMP%]{font-size:4.5rem;font-weight:900;color:var(--medieval-gold);text-shadow:4px 4px 0px var(--medieval-brown),0 0 30px rgba(212,175,55,.8),0 0 50px rgba(255,215,0,.6);line-height:1;z-index:10;position:relative;font-family:UnifrakturMaguntia,serif;animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{text-shadow:4px 4px 0px var(--medieval-brown),0 0 30px rgba(212,175,55,.8),0 0 50px rgba(255,215,0,.6)}to{text-shadow:4px 4px 0px var(--medieval-brown),0 0 40px rgba(212,175,55,1),0 0 70px rgba(255,215,0,.8)}}.counter-label[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--parchment);margin-top:8px;font-weight:700;text-transform:uppercase;letter-spacing:3px;z-index:10;position:relative;text-shadow:3px 3px 6px rgba(0,0,0,.7);font-family:MedievalSharp,serif}.plates-container[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.plate[_ngcontent-%COMP%]{position:absolute;width:55px;height:55px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#e8e8e8,#a9a9a9);border:4px solid var(--medieval-brown);box-shadow:0 6px 12px #0006,inset 0 0 15px #0003,inset 0 2px 4px #ffffff80;animation:_ngcontent-%COMP%_plateAppear .6s ease-out}.plate-inner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:38px;height:38px;border-radius:50%;border:3px solid #808080;background:radial-gradient(circle at 40% 40%,#d3d3d3,#999)}@keyframes _ngcontent-%COMP%_plateAppear{0%{transform:translate(-50%,-50%) scale(0) rotate(360deg);opacity:0}to{transform:translate(-50%,-50%) scale(1) rotate(0);opacity:1}}.add-section[_ngcontent-%COMP%]{margin-bottom:20px;background:var(--parchment);padding:30px 20px 20px;border:5px double var(--medieval-brown);box-shadow:var(--castle-shadow);position:relative}.section-title[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:15px;margin-top:8px;color:var(--medieval-red);text-align:center;font-weight:700;text-shadow:2px 2px 0px var(--medieval-gold),3px 3px 6px rgba(0,0,0,.3);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;white-space:nowrap;overflow:visible;display:flex;align-items:center;justify-content:space-between;flex-wrap:nowrap;width:100%}.family-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:15px}.member-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:8px}.member-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--royal-blue) 0%,#003d99 100%);color:var(--medieval-gold);border:5px solid var(--medieval-gold);border-radius:8px;padding:18px 14px;font-size:1.1rem;font-weight:700;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease;box-shadow:var(--castle-shadow),inset 0 0 20px #0000004d;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:1px;position:relative;overflow:hidden}.member-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shine 3s infinite}@keyframes _ngcontent-%COMP%_shine{0%{transform:translate(-100%) translateY(-100%) rotate(45deg)}to{transform:translate(100%) translateY(100%) rotate(45deg)}}.member-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translate(-3px,-3px) scale(1.02);box-shadow:8px 8px #0006,inset 0 0 30px #0003,0 0 20px #d4af3780;border-color:gold}.member-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(3px,3px);box-shadow:3px 3px #0006}.member-btn.registered[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--medieval-green) 0%,#3d6b28 100%);color:var(--medieval-gold);cursor:default;border-color:var(--medieval-gold)}.member-btn.registered[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:-8px;right:-8px;background:var(--medieval-gold);color:var(--medieval-green);width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;border:3px solid var(--medieval-brown);box-shadow:0 2px 6px #00000080}.member-status[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.member-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{flex:1;border:4px solid var(--medieval-brown);border-radius:6px;padding:10px 8px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:3px 3px #0000004d;font-family:MedievalSharp,serif;position:relative}.action-btn[_ngcontent-%COMP%]:hover{transform:translate(-2px,-2px);box-shadow:5px 5px #00000059}.action-btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px);box-shadow:1px 1px #0003}.guest-add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--dragon-fire) 0%,#cc3700 100%);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.guest-add-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff5722,#ff4500);box-shadow:5px 5px #00000059,0 0 15px #ff450099}.member-remove-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);color:var(--medieval-gold);text-shadow:2px 2px 4px rgba(0,0,0,.7)}.member-remove-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);box-shadow:5px 5px #00000059,0 0 15px #8b000099}.participants-section[_ngcontent-%COMP%]{margin-top:20px;background:var(--parchment-dark);padding:20px;border:5px double var(--medieval-brown);box-shadow:var(--castle-shadow);position:relative}.participants-section[_ngcontent-%COMP%]:before{content:"\\1f451";position:absolute;top:-25px;right:20px;font-size:2rem;background:var(--medieval-gold);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:4px solid var(--medieval-brown);box-shadow:0 4px 8px #0006;text-align:center}.participants-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.participant-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff8e7 0%,var(--parchment) 100%);padding:14px;border:4px solid var(--medieval-brown);border-left:8px solid var(--medieval-gold);display:flex;justify-content:space-between;align-items:center;box-shadow:4px 4px #0003;transition:transform .3s ease;position:relative}.participant-card[_ngcontent-%COMP%]:hover{transform:translate(8px);box-shadow:6px 6px #00000040}.participant-card[_ngcontent-%COMP%]:before{content:"\\25c6";position:absolute;left:-6px;top:50%;transform:translateY(-50%);color:var(--medieval-gold);font-size:1.2rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.participant-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.participant-icon[_ngcontent-%COMP%]{font-size:1.8rem;filter:drop-shadow(2px 2px 3px rgba(0,0,0,.3))}.participant-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.participant-name[_ngcontent-%COMP%]{font-weight:700;color:var(--medieval-brown);font-size:1.1rem;font-family:MedievalSharp,serif;text-shadow:1px 1px 2px rgba(212,175,55,.3)}.participant-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;font-family:MedievalSharp,serif}.remove-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);border:3px solid var(--medieval-brown);color:var(--medieval-gold);font-size:1.4rem;cursor:pointer;width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;font-weight:700;flex-shrink:0;box-shadow:0 4px 8px #0000004d;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.remove-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:rotate(90deg) scale(1.1);box-shadow:0 6px 12px #0006,0 0 20px #8b000099}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#3d2817e6;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .4s ease;padding:20px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal[_ngcontent-%COMP%]{background:var(--parchment);padding:30px;border:8px double var(--medieval-brown);box-shadow:0 15px 60px #0009,inset 0 0 40px #8b45131a;width:100%;max-width:400px;position:relative;animation:_ngcontent-%COMP%_slideDown .4s ease}.modal[_ngcontent-%COMP%]:before, .modal[_ngcontent-%COMP%]:after{content:"\\1f531";position:absolute;font-size:2rem;top:-20px}.modal[_ngcontent-%COMP%]:before{left:20px}.modal[_ngcontent-%COMP%]:after{right:20px}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100px) scale(.8);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.modal-title[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:20px;color:var(--medieval-red);text-align:center;font-weight:700;font-family:MedievalSharp,serif;text-shadow:2px 2px 0px var(--medieval-gold);text-transform:uppercase;letter-spacing:2px}.guest-input[_ngcontent-%COMP%]{width:100%;padding:14px;border:4px solid var(--medieval-brown);border-radius:6px;font-size:1.1rem;margin-bottom:20px;font-family:MedievalSharp,serif;background:#fff8e7;box-sizing:border-box;box-shadow:inset 0 2px 6px #0003}.guest-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--medieval-gold);box-shadow:inset 0 2px 6px #0003,0 0 0 4px #d4af374d}.modal-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{flex:1;padding:14px;border:4px solid var(--medieval-brown);border-radius:6px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:4px 4px #0000004d;font-family:MedievalSharp,serif;text-transform:uppercase}.btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b8680,#6b6660);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.btn-cancel[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7b7670,#5b5650);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059}.btn-confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--medieval-gold) 0%,#c9a227 100%);color:var(--medieval-brown);text-shadow:1px 1px 2px rgba(255,255,255,.5)}.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#ffd700 0%,var(--medieval-gold) 100%);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059,0 0 20px #d4af3799}.btn-confirm[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#aaa,#888);color:#555;cursor:not-allowed;opacity:.6}.footer[_ngcontent-%COMP%]{margin-top:25px;text-align:center;padding:15px}.reset-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);color:var(--medieval-gold);border:5px solid var(--medieval-gold);border-radius:8px;padding:15px 35px;font-size:1.2rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:var(--castle-shadow);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.reset-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:translate(-3px,-3px) scale(1.05);box-shadow:8px 8px #0006,0 0 25px #8b0000b3;border-color:gold}.reset-btn[_ngcontent-%COMP%]:active{transform:translate(3px,3px);box-shadow:3px 3px #0000004d}@media screen and (max-width: 500px){.container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{padding:15px 12px;margin-bottom:15px}.title[_ngcontent-%COMP%]{font-size:1.4rem;letter-spacing:1px;padding-top:2.3rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1.2rem;margin:0 6px}.date[_ngcontent-%COMP%]{font-size:.85rem;margin-top:8px}.counter-section[_ngcontent-%COMP%]{padding:15px 10px;margin-bottom:15px}.table-top[_ngcontent-%COMP%]{max-width:280px;height:280px;transform:rotateX(25deg)}.counter-number[_ngcontent-%COMP%]{font-size:3rem}.counter-label[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:2px}.plate[_ngcontent-%COMP%]{width:45px;height:45px}.plate-inner[_ngcontent-%COMP%]{width:32px;height:32px}.add-section[_ngcontent-%COMP%]{padding-top:25px}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:12px;margin-top:5px}.title-decoration[_ngcontent-%COMP%]{margin:0 6px}.family-grid[_ngcontent-%COMP%]{gap:8px;grid-template-columns:repeat(2,1fr)}.member-btn[_ngcontent-%COMP%]{padding:12px 10px;font-size:.95rem}.member-status[_ngcontent-%COMP%]{font-size:1.2rem}.action-btn[_ngcontent-%COMP%]{padding:8px 6px;font-size:.95rem}.participant-card[_ngcontent-%COMP%]{padding:10px}.participant-icon[_ngcontent-%COMP%]{font-size:1.4rem}.participant-name[_ngcontent-%COMP%]{font-size:.95rem}.participant-label[_ngcontent-%COMP%]{font-size:.75rem}.remove-btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1.1rem}.modal[_ngcontent-%COMP%]{padding:20px 15px;width:92%}.modal-title[_ngcontent-%COMP%]{font-size:1.2rem}.guest-input[_ngcontent-%COMP%]{padding:10px;font-size:1rem}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{padding:10px;font-size:.9rem}.reset-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:.95rem}.torch[_ngcontent-%COMP%]{font-size:2rem}.participants-section[_ngcontent-%COMP%]:before{font-size:1.5rem;width:40px;height:40px;top:-20px;right:15px}.participants-section[_ngcontent-%COMP%]{padding-top:25px}}@media screen and (max-width: 350px){.family-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.title[_ngcontent-%COMP%]{font-size:1.2rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1rem}.table-top[_ngcontent-%COMP%]{max-width:250px;height:250px}.counter-number[_ngcontent-%COMP%]{font-size:2.5rem}.counter-label[_ngcontent-%COMP%]{font-size:.8rem}.plate[_ngcontent-%COMP%]{width:40px;height:40px}.plate-inner[_ngcontent-%COMP%]{width:28px;height:28px}.add-section[_ngcontent-%COMP%]{padding-top:22px}.section-title[_ngcontent-%COMP%]{margin-top:4px}.title-decoration[_ngcontent-%COMP%]{margin:0 5px}}@media screen and (min-width: 351px) and (max-width: 400px){.container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{padding:18px 14px;min-height:160px}.title[_ngcontent-%COMP%]{font-size:1.8rem;letter-spacing:1.5px;line-height:1.4;padding-top:2.3rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1.15rem;margin:0 8px}.date[_ngcontent-%COMP%]{font-size:.9rem;margin-top:10px}.table-top[_ngcontent-%COMP%]{max-width:265px;height:265px}.counter-number[_ngcontent-%COMP%]{font-size:2.8rem}.counter-label[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:1.5px}.plate[_ngcontent-%COMP%]{width:42px;height:42px}.plate-inner[_ngcontent-%COMP%]{width:30px;height:30px}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;letter-spacing:1px;line-height:1.5;margin-bottom:14px;margin-top:5px;word-spacing:2px}.title-decoration[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 6px;display:inline-block}.family-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:9px}.member-btn[_ngcontent-%COMP%]{padding:13px 11px;font-size:.97rem}.member-status[_ngcontent-%COMP%]{font-size:1.25rem}.action-btn[_ngcontent-%COMP%]{padding:9px 7px;font-size:.97rem}.participant-icon[_ngcontent-%COMP%]{font-size:1.45rem}.participant-name[_ngcontent-%COMP%]{font-size:.97rem}.participant-label[_ngcontent-%COMP%]{font-size:.78rem}.participants-section[_ngcontent-%COMP%]:before{font-size:1.6rem;width:42px;height:42px;top:-21px}.add-section[_ngcontent-%COMP%]:before{font-size:1.5rem;width:40px;height:40px;top:-12px}.modal[_ngcontent-%COMP%]{padding:22px 16px;width:90%}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.torch[_ngcontent-%COMP%]{font-size:2.2rem}.banner-flag[_ngcontent-%COMP%]{font-size:3.2rem}.candelabra[_ngcontent-%COMP%]{font-size:2.2rem}.trumpet[_ngcontent-%COMP%]{font-size:2rem}.royal-seal[_ngcontent-%COMP%]{font-size:2.5rem}.footer-ornament[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 12px}.participant-card[_ngcontent-%COMP%]:before{font-size:1.3rem;left:-10px}.reset-btn[_ngcontent-%COMP%]{padding:12px 22px;font-size:.98rem}.reset-icon[_ngcontent-%COMP%]{font-size:1.15rem}.foundation-stone[_ngcontent-%COMP%]{font-size:1.6rem}}*[_ngcontent-%COMP%]{font-variant-emoji:emoji;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.participant-icon[_ngcontent-%COMP%], .member-status[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after, .torch[_ngcontent-%COMP%], .participants-section[_ngcontent-%COMP%]:before{font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji",sans-serif;display:inline-block}.castle-decoration-top[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:30px;padding:20px 0}.torch[_ngcontent-%COMP%]{position:absolute;top:0;font-size:3rem;filter:drop-shadow(0 0 20px rgba(255,140,0,.8))}.torch-left[_ngcontent-%COMP%]{left:10px}.torch-right[_ngcontent-%COMP%]{right:10px}.castle-banner[_ngcontent-%COMP%]{display:inline-block;position:relative}.banner-flag[_ngcontent-%COMP%]{font-size:4rem;filter:drop-shadow(0 8px 15px rgba(0,0,0,.4))}.herald-left[_ngcontent-%COMP%], .herald-right[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:2.5rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.5))}.herald-left[_ngcontent-%COMP%]{left:-15px}.herald-right[_ngcontent-%COMP%]{right:-15px}.feast-banner[_ngcontent-%COMP%]{position:absolute;top:20px;font-size:3rem;filter:drop-shadow(0 6px 10px rgba(0,0,0,.4))}.feast-banner-left[_ngcontent-%COMP%]{left:-10px}.feast-banner-right[_ngcontent-%COMP%]{right:-10px}.candelabra[_ngcontent-%COMP%]{position:absolute;bottom:20px;font-size:2.5rem;filter:drop-shadow(0 0 15px rgba(255,200,100,.8))}.candelabra-left[_ngcontent-%COMP%]{left:15px;cursor:pointer}.candelabra-right[_ngcontent-%COMP%]{right:15px}.royal-crown[_ngcontent-%COMP%]{position:absolute;top:-25px;left:50%;transform:translate(-50%);font-size:3rem;filter:drop-shadow(0 0 20px rgba(255,215,0,.8));z-index:10}.title-decoration[_ngcontent-%COMP%]{display:inline-block}.section-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:15px;border-top:3px double var(--medieval-gold)}.footer-ornament[_ngcontent-%COMP%]{display:inline-block;margin:0 15px;font-size:1.5rem;color:var(--medieval-gold)}.trumpet[_ngcontent-%COMP%]{position:absolute;top:15px;font-size:2.5rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}.trumpet-left[_ngcontent-%COMP%]{left:10px;transform:rotate(30deg)}.trumpet-right[_ngcontent-%COMP%]{right:10px;transform:rotate(30deg)}.royal-seal[_ngcontent-%COMP%]{position:absolute;bottom:-20px;right:20px;font-size:3rem;filter:drop-shadow(0 6px 12px rgba(139,0,0,.6))}.modal-banner[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%);width:100%;text-align:center}.modal-crown[_ngcontent-%COMP%]{font-size:3.5rem;display:inline-block;filter:drop-shadow(0 0 25px rgba(255,215,0,.9))}.modal-decoration[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:15px;border-top:2px solid var(--medieval-gold)}.modal-decoration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:1.2rem;color:var(--medieval-gold)}.btn-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:8px;font-size:1.2rem}.footer-decoration[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%)}.footer-shield[_ngcontent-%COMP%]{font-size:3rem;display:inline-block;filter:drop-shadow(0 8px 15px rgba(0,0,0,.5))}.reset-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;font-size:1.3rem}.castle-decoration-bottom[_ngcontent-%COMP%]{margin-top:40px;padding:30px 0;text-align:center;border-top:5px double var(--medieval-gold);position:relative}.castle-foundation[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;padding-bottom:50px}.foundation-stone[_ngcontent-%COMP%]{font-size:2rem;color:var(--medieval-stone)}.candle-easter-egg[_ngcontent-%COMP%]{position:absolute;bottom:60px;cursor:pointer;transition:all .3s ease;z-index:100}.candle-easter-egg-left[_ngcontent-%COMP%]{left:20px}.candle-easter-egg[_ngcontent-%COMP%]:hover   .candle-lever[_ngcontent-%COMP%]{transform:scale(1.2);filter:drop-shadow(0 0 15px rgba(255,200,0,.8))}.candle-lever[_ngcontent-%COMP%]{font-size:2.5rem;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);display:inline-block;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3))}.candle-easter-egg.activated[_ngcontent-%COMP%]   .candle-lever[_ngcontent-%COMP%]{transform:translateY(15px) rotate(-10deg);animation:_ngcontent-%COMP%_leverPull .6s ease-out;filter:drop-shadow(0 0 20px rgba(255,140,0,1))}@keyframes _ngcontent-%COMP%_leverPull{0%{transform:translateY(0) rotate(0)}30%{transform:translateY(20px) rotate(-15deg)}50%{transform:translateY(18px) rotate(-12deg)}70%{transform:translateY(16px) rotate(-11deg)}to{transform:translateY(15px) rotate(-10deg)}}.candle-mechanism[_ngcontent-%COMP%]{position:absolute;top:-60px;left:50%;transform:translate(-50%);display:flex;gap:15px;animation:_ngcontent-%COMP%_mechanismActivate .5s ease-out}@keyframes _ngcontent-%COMP%_mechanismActivate{0%{opacity:0;transform:translate(-50%) translateY(20px) scale(.5)}to{opacity:1;transform:translate(-50%) translateY(0) scale(1)}}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:2.5rem;animation:_ngcontent-%COMP%_floatNote 2s ease-in-out infinite;filter:drop-shadow(0 0 10px rgba(212,175,55,.8))}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}@keyframes _ngcontent-%COMP%_floatNote{0%,to{transform:translateY(0) rotate(0);opacity:1}25%{transform:translateY(-10px) rotate(5deg);opacity:.8}50%{transform:translateY(-5px) rotate(-5deg);opacity:1}75%{transform:translateY(-8px) rotate(3deg);opacity:.9}}.candle-decoration[_ngcontent-%COMP%]{position:absolute;bottom:8px;font-size:3rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3));animation:candleFlicker 3s ease-in-out infinite;cursor:pointer;transition:all .3s ease;padding:10px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;display:inline-flex;align-items:center;justify-content:center;line-height:1}.candle-decoration[_ngcontent-%COMP%]:hover{transform:scale(1.1);filter:drop-shadow(0 6px 16px rgba(255,200,0,.6))}.candle-decoration-right[_ngcontent-%COMP%]{right:20px}.candle-decoration.candle-clicked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_candleExplosion .8s cubic-bezier(.68,-.55,.265,1.55) forwards,_ngcontent-%COMP%_candleSpin 1.5s ease-in-out .8s forwards,_ngcontent-%COMP%_candleShake .1s ease-in-out infinite,_ngcontent-%COMP%_candleRainbow 2s linear infinite;filter:drop-shadow(0 0 30px rgba(255,200,0,1)) drop-shadow(0 0 60px rgba(255,150,0,.9)) drop-shadow(0 0 90px rgba(255,100,0,.7))!important;z-index:10000}@keyframes _ngcontent-%COMP%_candleExplosion{0%{transform:scale(1) rotate(0)}20%{transform:scale(.5) rotate(-30deg)}40%{transform:scale(2.5) rotate(180deg)}60%{transform:scale(1.8) rotate(360deg)}80%{transform:scale(2.2) rotate(540deg)}to{transform:scale(2) rotate(720deg)}}@keyframes _ngcontent-%COMP%_candleSpin{0%{transform:scale(2) rotate(720deg)}to{transform:scale(2) rotate(1440deg)}}@keyframes _ngcontent-%COMP%_candleShake{0%,to{transform:translate(0) scale(2) rotate(0)}25%{transform:translate(-5px,-5px) scale(2) rotate(-5deg)}50%{transform:translate(5px,5px) scale(2) rotate(5deg)}75%{transform:translate(-5px,5px) scale(2) rotate(-3deg)}}@keyframes _ngcontent-%COMP%_candleRainbow{0%{filter:drop-shadow(0 0 40px rgba(255,0,0,1)) drop-shadow(0 0 80px rgba(255,100,0,.9)) brightness(2)}14%{filter:drop-shadow(0 0 40px rgba(255,165,0,1)) drop-shadow(0 0 80px rgba(255,200,0,.9)) brightness(2)}28%{filter:drop-shadow(0 0 40px rgba(255,255,0,1)) drop-shadow(0 0 80px rgba(200,255,0,.9)) brightness(2)}42%{filter:drop-shadow(0 0 40px rgba(0,255,0,1)) drop-shadow(0 0 80px rgba(0,200,100,.9)) brightness(2)}57%{filter:drop-shadow(0 0 40px rgba(0,0,255,1)) drop-shadow(0 0 80px rgba(0,100,255,.9)) brightness(2)}71%{filter:drop-shadow(0 0 40px rgba(75,0,130,1)) drop-shadow(0 0 80px rgba(100,0,200,.9)) brightness(2)}85%{filter:drop-shadow(0 0 40px rgba(238,130,238,1)) drop-shadow(0 0 80px rgba(255,0,255,.9)) brightness(2)}to{filter:drop-shadow(0 0 40px rgba(255,0,0,1)) drop-shadow(0 0 80px rgba(255,100,0,.9)) brightness(2)}}.candle-particles[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:20px;width:200px;height:200px;pointer-events:none;z-index:9999;transform:translate(50%,50%)}.particle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:2.5rem;opacity:0}.particle[_ngcontent-%COMP%]:nth-child(1){animation:_ngcontent-%COMP%_particleExplosion1 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(2){animation:_ngcontent-%COMP%_particleExplosion2 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(3){animation:_ngcontent-%COMP%_particleExplosion3 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(4){animation:_ngcontent-%COMP%_particleExplosion4 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(5){animation:_ngcontent-%COMP%_particleExplosion5 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(6){animation:_ngcontent-%COMP%_particleExplosion6 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(7){animation:_ngcontent-%COMP%_particleExplosion7 1.5s ease-out forwards}.particle[_ngcontent-%COMP%]:nth-child(8){animation:_ngcontent-%COMP%_particleExplosion8 1.5s ease-out forwards}@keyframes _ngcontent-%COMP%_particleExplosion1{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-150px,-180px) rotate(720deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion2{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(150px,-180px) rotate(-720deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion3{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-180px,-50px) rotate(360deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion4{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(180px,-50px) rotate(-360deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion5{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-120px,150px) rotate(540deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion6{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(120px,150px) rotate(-540deg) scale(2);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion7{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(-200px,-100px) rotate(900deg) scale(2.5);opacity:0}}@keyframes _ngcontent-%COMP%_particleExplosion8{0%{transform:translate(-50%,-50%) rotate(0) scale(0);opacity:1}to{transform:translate(200px,-100px) rotate(-900deg) scale(2.5);opacity:0}}.candle-shockwave[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:20px;width:80px;height:80px;pointer-events:none;z-index:9998;transform:translate(50%,50%)}.shockwave-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;border:5px solid rgba(255,200,0,.9);border-radius:50%;animation:_ngcontent-%COMP%_shockwaveExpand 1.2s ease-out forwards;box-shadow:0 0 20px #ffc800cc,inset 0 0 20px #ffc80080}.shockwave-ring[_ngcontent-%COMP%]:nth-child(2){animation-delay:.15s;border-color:#ff9600b3;box-shadow:0 0 20px #ff9600cc,inset 0 0 20px #ff960080}.shockwave-ring[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s;border-color:#ff640080;box-shadow:0 0 20px #ff6400cc,inset 0 0 20px #ff640080}@keyframes _ngcontent-%COMP%_shockwaveExpand{0%{transform:translate(-50%,-50%) scale(0);opacity:1}50%{opacity:.8}to{transform:translate(-50%,-50%) scale(10);opacity:0}}.candle-glowing[_ngcontent-%COMP%]{animation:candleGlowing 1s ease-in-out infinite,candleFlicker 3s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(255,200,0,.9)) drop-shadow(0 0 40px rgba(255,150,0,.7))!important}@media screen and (max-width: 500px){.candle-easter-egg-left[_ngcontent-%COMP%]{left:10px}.candle-decoration-right[_ngcontent-%COMP%]{right:5px;bottom:30px}.candle-lever[_ngcontent-%COMP%], .candle-decoration[_ngcontent-%COMP%]{font-size:2rem}.candle-mechanism[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:1.7rem}.candelabra-left[_ngcontent-%COMP%]{bottom:40px}}.night-mode-toggle[_ngcontent-%COMP%]{position:absolute!important;top:-70px!important;right:-8px!important;display:flex;align-items:center;gap:4px;cursor:pointer;z-index:20;background:#fff8e1;padding:4px 6px;border-radius:4px;border:5px solid var(--medieval-gold);box-shadow:0 2px 4px #0003;transition:all .3s ease}.night-mode-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.08);box-shadow:0 3px 6px #0000004d;opacity:1}.toggle-icon[_ngcontent-%COMP%]{font-size:1.1rem;transition:transform .3s ease;line-height:1}.night-mode-toggle[_ngcontent-%COMP%]:hover   .toggle-icon[_ngcontent-%COMP%]{transform:rotate(20deg) scale(1.1)}.toggle-switch[_ngcontent-%COMP%]{position:relative;width:32px;height:18px;background:linear-gradient(135deg,#f4d175,#ffd16f);border-radius:9px;border:1.5px solid var(--medieval-brown);transition:all .4s ease}.toggle-switch.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#b32706,#ec5b1e)}.toggle-slider[_ngcontent-%COMP%]{position:absolute;top:1.5px;left:1.5px;width:13px;height:13px;background:radial-gradient(circle,#fff,#f0f0f0);border-radius:50%;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 1px 3px #0000004d}.toggle-switch.active[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{transform:translate(14px);background:radial-gradient(circle,gold,#f0c020)}.toggle-label[_ngcontent-%COMP%]{display:none}.night-mode[_ngcontent-%COMP%]{border-left-color:#3d2817;border-right-color:#3d2817;box-shadow:inset 5px 0 15px #0009,inset -5px 0 15px #0009,inset 0 0 50px #ff8c421a;background:linear-gradient(90deg,rgba(61,40,23,.2) 0%,transparent 10%,transparent 90%,rgba(61,40,23,.2) 100%)}.night-mode[_ngcontent-%COMP%]   .night-mode-toggle[_ngcontent-%COMP%]{background:#3d2817e6;border-color:var(--night-gold)}.night-mode[_ngcontent-%COMP%]   .night-mode-toggle[_ngcontent-%COMP%]:hover{opacity:1}.night-mode[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:var(--night-text);text-shadow:1px 1px 2px rgba(0,0,0,.5)}.night-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-image:linear-gradient(135deg,#ffb347,#ff8c42,#f4a460,#ffa07a,#ffb347) 1;outline-color:#2d1f12;box-shadow:0 0 0 2px #ff8c42,0 0 0 12px #ff8c4226,inset 0 0 40px #ff8c4233,0 0 30px #ff8c424d;filter:drop-shadow(0 12px 20px rgba(0,0,0,.6)) drop-shadow(0 5px 8px rgba(0,0,0,.4))}.night-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(45deg,#ffa07a,#ff8c42);box-shadow:inset 2px 2px 4px #ff8c4280,2px 2px 6px #0000004d,0 0 15px #ff8c4266}.night-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:after{background:linear-gradient(-45deg,transparent 0%,transparent 48%,#ff8c42 48%,#ff8c42 52%,transparent 52%),linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:inset -2px -2px 4px #ff8c4280,-2px -2px 6px #0000004d,0 0 15px #ff8c4266}.night-mode[_ngcontent-%COMP%]   .corner-ornament[_ngcontent-%COMP%]:before, .night-mode[_ngcontent-%COMP%]   .corner-ornament[_ngcontent-%COMP%]:after{background:linear-gradient(135deg,#ffb347,#ff8c42);box-shadow:0 0 12px #ff8c4299}.night-mode[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--night-text);text-shadow:2px 2px 0px rgba(255,140,66,.6),-1px -1px 0px rgba(0,0,0,.5),0 0 20px rgba(255,140,66,.5)}.night-mode[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:var(--night-silver);text-shadow:2px 2px 0px rgba(255,140,66,.4),-1px -1px 0px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.3)}.night-mode[_ngcontent-%COMP%]   .table-top[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326,#3d2817,#4a3326,#3d2817);border-color:#2d1f12;box-shadow:0 15px 40px #000000b3,inset 0 0 60px #00000080,inset 0 0 100px #ff8c4226,0 0 0 4px var(--night-orange),0 0 30px #ff8c424d}.night-mode[_ngcontent-%COMP%]   .counter-number[_ngcontent-%COMP%]{color:var(--night-gold);text-shadow:4px 4px 0px #2d1f12,0 0 30px rgba(255,179,71,.9),0 0 50px rgba(255,140,66,.7),0 0 70px rgba(255,107,53,.5)}@keyframes _ngcontent-%COMP%_glowNightWarm{0%{text-shadow:4px 4px 0px #2d1f12,0 0 30px rgba(255,179,71,.9),0 0 50px rgba(255,140,66,.7),0 0 70px rgba(255,107,53,.5)}to{text-shadow:4px 4px 0px #2d1f12,0 0 40px rgba(255,179,71,1),0 0 60px rgba(255,140,66,.9),0 0 80px rgba(255,107,53,.7)}}.night-mode[_ngcontent-%COMP%]   .counter-number[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glowNightWarm 2s ease-in-out infinite alternate}.night-mode[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{color:var(--night-silver);text-shadow:3px 3px 6px rgba(0,0,0,.9),0 0 10px rgba(255,140,66,.3)}.night-mode[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--night-orange);text-shadow:2px 1px 0px var(--night-gold),3px 3px 6px rgba(0,0,0,.5),0 0 15px rgba(255,140,66,.4)}.night-mode[_ngcontent-%COMP%]   .participants-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1f12,#3d2817);border-color:#2d1f12;box-shadow:6px 6px #0009,0 0 20px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .member-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c50,#940);color:var(--night-gold);border-color:var(--night-gold);box-shadow:6px 6px #0006,inset 0 0 20px #0000004d,0 0 15px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .member-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:8px 8px #0006,inset 0 0 30px #0003,0 0 25px #ff8c4266}.night-mode[_ngcontent-%COMP%]   .member-btn.registered[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5a4a1a,#3d3010);color:var(--night-gold)}.night-mode[_ngcontent-%COMP%]   .participant-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a3326,#3d2817);border-color:#2d1f12;border-left-color:var(--night-orange);box-shadow:4px 4px #0000004d,0 0 10px #ff8c4226}.night-mode[_ngcontent-%COMP%]   .participant-card[_ngcontent-%COMP%]:hover{box-shadow:6px 6px #00000059,0 0 15px #ff8c4240}.night-mode[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%]{color:var(--night-text);text-shadow:1px 1px 2px rgba(0,0,0,.5),0 0 8px rgba(255,140,66,.2)}.night-mode[_ngcontent-%COMP%]   .participant-label[_ngcontent-%COMP%]{color:var(--night-silver)}.night-mode[_ngcontent-%COMP%]   .participant-card[_ngcontent-%COMP%]:before{color:var(--night-gold);text-shadow:2px 2px 4px rgba(0,0,0,.5),0 0 10px rgba(255,140,66,.5)}.night-mode[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2817,#4a3326);border-color:#2d1f12;box-shadow:0 15px 60px #000c,inset 0 0 40px #ff8c4226,0 0 30px #ff8c4233}.night-mode[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:var(--night-orange);text-shadow:2px 1px 0px var(--night-gold),0 0 15px rgba(255,140,66,.4)}.night-mode[_ngcontent-%COMP%]   .guest-input[_ngcontent-%COMP%]{background:#2d1f12;border-color:#1f1409;color:var(--night-text)}.night-mode[_ngcontent-%COMP%]   .guest-input[_ngcontent-%COMP%]::placeholder{color:var(--night-silver);opacity:.6}.night-mode[_ngcontent-%COMP%]   .guest-input[_ngcontent-%COMP%]:focus{border-color:var(--night-gold);box-shadow:inset 0 2px 6px #0006,0 0 0 4px #ffb3474d,0 0 15px #ff8c424d}.night-mode[_ngcontent-%COMP%]   .footer-ornament[_ngcontent-%COMP%]{color:var(--night-gold);text-shadow:0 0 10px rgba(255,140,66,.5)}.night-mode[_ngcontent-%COMP%]   .foundation-stone[_ngcontent-%COMP%]{color:#5a4a3d;text-shadow:0 0 5px rgba(255,140,66,.2)}.night-mode[_ngcontent-%COMP%]   .torch[_ngcontent-%COMP%], .night-mode[_ngcontent-%COMP%]   .candelabra[_ngcontent-%COMP%], .night-mode[_ngcontent-%COMP%]   .candle-decoration[_ngcontent-%COMP%]{filter:drop-shadow(0 0 25px rgba(255,140,66,.9)) drop-shadow(0 0 40px rgba(255,107,53,.6))!important}.night-mode[_ngcontent-%COMP%]   .counter-section[_ngcontent-%COMP%]:before, .night-mode[_ngcontent-%COMP%]   .counter-section[_ngcontent-%COMP%]:after{color:var(--night-gold);text-shadow:2px 2px 4px rgba(0,0,0,.5),0 0 15px rgba(255,140,66,.6)}@media screen and (max-width: 500px){.night-mode-toggle[_ngcontent-%COMP%]{top:8px;right:8px;padding:3px 5px;gap:3px}.toggle-icon[_ngcontent-%COMP%]{font-size:1rem}.toggle-switch[_ngcontent-%COMP%]{width:28px;height:16px}.toggle-slider[_ngcontent-%COMP%]{width:11px;height:11px}.toggle-switch.active[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{transform:translate(12px)}}.shopping-list-toggle[_ngcontent-%COMP%]{opacity:0;position:absolute!important;top:-75px!important;left:-8px!important;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;background:#fff8e1;padding:8px;border-radius:4px;border:5px solid var(--medieval-gold);box-shadow:0 2px 4px #0003;transition:all .3s ease}.shopping-list-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.08);box-shadow:0 3px 6px #0000004d}.shopping-icon[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1;transition:transform .3s ease}.shopping-list-toggle[_ngcontent-%COMP%]:hover   .shopping-icon[_ngcontent-%COMP%]{transform:rotate(-10deg) scale(1.1)}.night-mode[_ngcontent-%COMP%]   .shopping-list-toggle[_ngcontent-%COMP%]{background:#3d2817e6;border-color:var(--night-gold)}.shopping-list-page[_ngcontent-%COMP%]{min-height:100vh;padding:20px 0}.shopping-list-header-bar[_ngcontent-%COMP%]{padding-left:16px;margin-bottom:20px;text-align:left}.back-btn[_ngcontent-%COMP%]{padding:15px 30px;background:linear-gradient(135deg,#d4af37,#c9a227);color:#3d2817;border:5px solid #3d2817;border-radius:8px;font-size:.9em;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:6px 6px #0006;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;text-shadow:1px 1px 2px rgba(255,255,255,.5)}.back-btn[_ngcontent-%COMP%]:hover{transform:translate(-3px,-3px);box-shadow:8px 8px #0006,0 0 20px #d4af3799;background:linear-gradient(135deg,gold,#d4af37)}.back-btn[_ngcontent-%COMP%]:active{transform:translate(3px,3px);box-shadow:3px 3px #0000004d}.night-mode[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffb347,#ff8c42);color:#2d1f12;border-color:#2d1f12;box-shadow:6px 6px #0009}.night-mode[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffc470,#ffb347);box-shadow:8px 8px #0009,0 0 20px #ff8c4299}']})};tf(ac,Q0).catch(t=>console.error(t));
