var LE=Object.defineProperty,VE=Object.defineProperties;var jE=Object.getOwnPropertyDescriptors;var Fi=Object.getOwnPropertySymbols;var Af=Object.prototype.hasOwnProperty,Of=Object.prototype.propertyIsEnumerable;var Nf=(e,t,n)=>t in e?LE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||={})Af.call(t,n)&&Nf(e,n,t[n]);if(Fi)for(var n of Fi(t))Of.call(t,n)&&Nf(e,n,t[n]);return e},W=(e,t)=>VE(e,jE(t));var Rf=(e,t)=>{var n={};for(var r in e)Af.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fi)for(var r of Fi(e))t.indexOf(r)<0&&Of.call(e,r)&&(n[r]=e[r]);return n};var B=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});function Oa(e,t){return Object.is(e,t)}var X=null,Li=!1,Ra=1,ke=Symbol("SIGNAL");function P(e){let t=X;return X=e,t}function Pa(){return X}var vr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ji(e){if(Li)throw new Error("");if(X===null)return;X.consumerOnSignalRead(e);let t=X.nextProducerIndex++;if(Hi(X),t<X.producerNode.length&&X.producerNode[t]!==e&&_r(X)){let n=X.producerNode[t];Ui(n,X.producerIndexOfThis[t])}X.producerNode[t]!==e&&(X.producerNode[t]=e,X.producerIndexOfThis[t]=_r(X)?kf(e,X,t):0),X.producerLastReadVersion[t]=e.version}function Pf(){Ra++}function ka(e){if(!(_r(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ra)){if(!e.producerMustRecompute(e)&&!ja(e)){Aa(e);return}e.producerRecomputeValue(e),Aa(e)}}function Fa(e){if(e.liveConsumerNode===void 0)return;let t=Li;Li=!0;try{for(let n of e.liveConsumerNode)n.dirty||BE(n)}finally{Li=t}}function La(){return X?.consumerAllowSignalWrites!==!1}function BE(e){e.dirty=!0,Fa(e),e.consumerMarkedDirty?.(e)}function Aa(e){e.dirty=!1,e.lastCleanEpoch=Ra}function Bi(e){return e&&(e.nextProducerIndex=0),P(e)}function Va(e,t){if(P(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(_r(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ui(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ja(e){Hi(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ka(n),r!==n.version))return!0}return!1}function Ba(e){if(Hi(e),_r(e))for(let t=0;t<e.producerNode.length;t++)Ui(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function kf(e,t,n){if(Ff(e),e.liveConsumerNode.length===0&&Lf(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=kf(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ui(e,t){if(Ff(e),e.liveConsumerNode.length===1&&Lf(e))for(let r=0;r<e.producerNode.length;r++)Ui(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Hi(i),i.producerIndexOfThis[r]=t}}function _r(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Hi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ff(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Lf(e){return e.producerNode!==void 0}function Ua(e,t){let n=Object.create(UE);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(ka(n),ji(n),n.value===Vi)throw n.error;return n.value};return r[ke]=n,r}var xa=Symbol("UNSET"),Na=Symbol("COMPUTING"),Vi=Symbol("ERRORED"),UE=W(M({},vr),{value:xa,dirty:!0,error:null,equal:Oa,kind:"computed",producerMustRecompute(e){return e.value===xa||e.value===Na},producerRecomputeValue(e){if(e.value===Na)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Na;let n=Bi(e),r,i=!1;try{r=e.computation(),P(null),i=t!==xa&&t!==Vi&&r!==Vi&&e.equal(t,r)}catch(o){r=Vi,e.error=o}finally{Va(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function HE(){throw new Error}var Vf=HE;function jf(e){Vf(e)}function Ha(e){Vf=e}var $E=null;function $a(e,t){let n=Object.create(Ga);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(ji(n),n.value);return r[ke]=n,r}function $i(e,t){La()||jf(e),e.equal(e.value,t)||(e.value=t,zE(e))}function za(e,t){La()||jf(e),$i(e,t(e.value))}var Ga=W(M({},vr),{equal:Oa,value:void 0,kind:"signal"});function zE(e){e.version++,Pf(),Fa(e),$E?.()}function Wa(e){let t=P(null);try{return e()}finally{P(t)}}var qa;function Er(){return qa}function st(e){let t=qa;return qa=e,t}var zi=Symbol("NotFound");function k(e){return typeof e=="function"}function Gi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wi=Gi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Cr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ce=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){t=o instanceof Wi?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Bf(o)}catch(s){t=t??[],s instanceof Wi?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Wi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Bf(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Cr(n,t)}remove(t){let{_finalizers:n}=this;n&&Cr(n,t),t instanceof e&&t._removeParent(this)}};ce.EMPTY=(()=>{let e=new ce;return e.closed=!0,e})();var Ya=ce.EMPTY;function qi(e){return e instanceof ce||e&&"closed"in e&&k(e.remove)&&k(e.add)&&k(e.unsubscribe)}function Bf(e){k(e)?e():e.unsubscribe()}var Fe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _n={setTimeout(e,t,...n){let{delegate:r}=_n;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=_n;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Yi(e){_n.setTimeout(()=>{let{onUnhandledError:t}=Fe;if(t)t(e);else throw e})}function Za(){}var Uf=Ka("C",void 0,void 0);function Hf(e){return Ka("E",void 0,e)}function $f(e){return Ka("N",e,void 0)}function Ka(e,t,n){return{kind:e,value:t,error:n}}var jt=null;function vn(e){if(Fe.useDeprecatedSynchronousErrorHandling){let t=!jt;if(t&&(jt={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=jt;if(jt=null,n)throw r}}else e()}function zf(e){Fe.useDeprecatedSynchronousErrorHandling&&jt&&(jt.errorThrown=!0,jt.error=e)}var Bt=class extends ce{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,qi(t)&&t.add(this)):this.destination=KE}static create(t,n,r){return new En(t,n,r)}next(t){this.isStopped?Xa($f(t),this):this._next(t)}error(t){this.isStopped?Xa(Hf(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xa(Uf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YE=Function.prototype.bind;function Qa(e,t){return YE.call(e,t)}var Ja=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Zi(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Zi(r)}else Zi(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Zi(n)}}},En=class extends Bt{constructor(t,n,r){super();let i;if(k(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Fe.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Qa(t.next,o),error:t.error&&Qa(t.error,o),complete:t.complete&&Qa(t.complete,o)}):i=t}this.destination=new Ja(i)}};function Zi(e){Fe.useDeprecatedSynchronousErrorHandling?zf(e):Yi(e)}function ZE(e){throw e}function Xa(e,t){let{onStoppedNotification:n}=Fe;n&&_n.setTimeout(()=>n(e,t))}var KE={closed:!0,next:Za,error:ZE,complete:Za};var Cn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ki(e){return e}function Gf(e){return e.length===0?Ki:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var re=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XE(n)?n:new En(n,r,i);return vn(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wf(r),new r((i,o)=>{let s=new En({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Cn](){return this}pipe(...n){return Gf(n)(this)}toPromise(n){return n=Wf(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Wf(e){var t;return(t=e??Fe.Promise)!==null&&t!==void 0?t:Promise}function QE(e){return e&&k(e.next)&&k(e.error)&&k(e.complete)}function XE(e){return e&&e instanceof Bt||QE(e)&&qi(e)}function JE(e){return k(e?.lift)}function wt(e){return t=>{if(JE(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(e,t,n,r,i){return new el(e,t,n,r,i)}var el=class extends Bt{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var qf=Gi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class e extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qi(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qf}next(n){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ya:(this.currentObservers=null,o.push(n),new ce(()=>{this.currentObservers=null,Cr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return e.create=(t,n)=>new Qi(t,n),e})(),Qi=class extends at{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Ya}};var Ut=class extends at{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};function Yf(e){return e&&k(e.schedule)}function Zf(e){return e[e.length-1]}function Kf(e){return k(Zf(e))?e.pop():void 0}function Qf(e){return Yf(Zf(e))?e.pop():void 0}function Jf(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Xf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(e){return this instanceof Ht?(this.v=e,this):new Ht(e)}function eh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(I,z){o.push([h,m,I,z])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof Ht?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function th(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Xf=="function"?Xf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Xi=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ji(e){return k(e?.then)}function eo(e){return k(e[Cn])}function to(e){return Symbol.asyncIterator&&k(e?.[Symbol.asyncIterator])}function no(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ro=eC();function io(e){return k(e?.[ro])}function oo(e){return eh(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Ht(n.read());if(i)return yield Ht(void 0);yield yield Ht(r)}}finally{n.releaseLock()}})}function so(e){return k(e?.getReader)}function It(e){if(e instanceof re)return e;if(e!=null){if(eo(e))return tC(e);if(Xi(e))return nC(e);if(Ji(e))return rC(e);if(to(e))return nh(e);if(io(e))return iC(e);if(so(e))return oC(e)}throw no(e)}function tC(e){return new re(t=>{let n=e[Cn]();if(k(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nC(e){return new re(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function rC(e){return new re(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Yi)})}function iC(e){return new re(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function nh(e){return new re(t=>{sC(e,t).catch(n=>t.error(n))})}function oC(e){return nh(oo(e))}function sC(e,t){var n,r,i,o;return Jf(this,void 0,void 0,function*(){try{for(n=th(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ge(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ao(e,t=0){return wt((n,r)=>{n.subscribe(bt(r,i=>Ge(r,e,()=>r.next(i),t),()=>Ge(r,e,()=>r.complete(),t),i=>Ge(r,e,()=>r.error(i),t)))})}function lo(e,t=0){return wt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function rh(e,t){return It(e).pipe(lo(t),ao(t))}function ih(e,t){return It(e).pipe(lo(t),ao(t))}function oh(e,t){return new re(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function sh(e,t){return new re(n=>{let r;return Ge(n,t,()=>{r=e[ro](),Ge(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function co(e,t){if(!e)throw new Error("Iterable cannot be null");return new re(n=>{Ge(n,t,()=>{let r=e[Symbol.asyncIterator]();Ge(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ah(e,t){return co(oo(e),t)}function lh(e,t){if(e!=null){if(eo(e))return rh(e,t);if(Xi(e))return oh(e,t);if(Ji(e))return ih(e,t);if(to(e))return co(e,t);if(io(e))return sh(e,t);if(so(e))return ah(e,t)}throw no(e)}function Dr(e,t){return t?lh(e,t):It(e)}function tl(...e){let t=Qf(e);return Dr(e,t)}function $t(e,t){return wt((n,r)=>{let i=0;n.subscribe(bt(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:aC}=Array;function lC(e,t){return aC(t)?e(...t):e(t)}function ch(e){return $t(t=>lC(e,t))}var{isArray:cC}=Array,{getPrototypeOf:uC,prototype:dC,keys:fC}=Object;function uh(e){if(e.length===1){let t=e[0];if(cC(t))return{args:t,keys:null};if(hC(t)){let n=fC(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function hC(e){return e&&typeof e=="object"&&uC(e)===dC}function dh(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function nl(...e){let t=Kf(e),{args:n,keys:r}=uh(e),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;It(n[u]).subscribe(bt(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?dh(r,a):a),o.complete())}))}});return t?i.pipe(ch(t)):i}function rl(e,t,n){let r=k(e)||t||n?{next:e,error:t,complete:n}:e;return r?wt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(bt(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ki}var ll={JSACTION:"jsaction"},cl={JSACTION:"__jsaction",OWNER:"__owner"},gh={};function pC(e){return e[cl.JSACTION]}function fh(e,t){e[cl.JSACTION]=t}function gC(e){return gh[e]}function mC(e,t){gh[e]=t}var v={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},yC=[v.MOUSEENTER,v.MOUSELEAVE,"pointerenter","pointerleave"],K1=[v.CLICK,v.DBLCLICK,v.FOCUSIN,v.FOCUSOUT,v.KEYDOWN,v.KEYUP,v.KEYPRESS,v.MOUSEOVER,v.MOUSEOUT,v.SUBMIT,v.TOUCHSTART,v.TOUCHEND,v.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],_C=[v.FOCUS,v.BLUR,v.ERROR,v.LOAD,v.TOGGLE],ul=e=>_C.indexOf(e)>=0;function vC(e){return e===v.MOUSEENTER?v.MOUSEOVER:e===v.MOUSELEAVE?v.MOUSEOUT:e===v.POINTERENTER?v.POINTEROVER:e===v.POINTERLEAVE?v.POINTEROUT:e}function EC(e,t,n,r){let i=!1;ul(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function CC(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function DC(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var hh=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function wC(e){return e.which===2||e.which==null&&e.button===4}function bC(e){return hh&&e.metaKey||!hh&&e.ctrlKey||wC(e)||e.shiftKey}function IC(e,t,n){let r=e.relatedTarget;return(e.type===v.MOUSEOVER&&t===v.MOUSEENTER||e.type===v.MOUSEOUT&&t===v.MOUSELEAVE||e.type===v.POINTEROVER&&t===v.POINTERENTER||e.type===v.POINTEROUT&&t===v.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function MC(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===v.MOUSEOVER?n.type=v.MOUSEENTER:e.type===v.MOUSEOUT?n.type=v.MOUSELEAVE:e.type===v.POINTEROVER?n.type=v.POINTERENTER:n.type=v.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var TC=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),po=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){TC&&(this.element.style.cursor="pointer"),this.handlerInfos.push(EC(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)CC(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},SC={EVENT_ACTION_SEPARATOR:":"};function Mt(e){return e.eventType}function dl(e,t){e.eventType=t}function fo(e){return e.event}function mh(e,t){e.event=t}function yh(e){return e.targetElement}function _h(e,t){e.targetElement=t}function vh(e){return e.eic}function xC(e,t){e.eic=t}function NC(e){return e.timeStamp}function AC(e,t){e.timeStamp=t}function ho(e){return e.eia}function Eh(e,t,n){e.eia=[t,n]}function il(e){e.eia=void 0}function uo(e){return e[1]}function OC(e){return e.eirp}function Ch(e,t){e.eirp=t}function Dh(e){return e.eir}function wh(e,t){e.eir=t}function bh(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function RC(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var ol=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Mt(this.eventInfo)}setEventType(t){dl(this.eventInfo,t)}getEvent(){return fo(this.eventInfo)}setEvent(t){mh(this.eventInfo,t)}getTargetElement(){return yh(this.eventInfo)}setTargetElement(t){_h(this.eventInfo,t)}getContainer(){return vh(this.eventInfo)}setContainer(t){xC(this.eventInfo,t)}getTimestamp(){return NC(this.eventInfo)}setTimestamp(t){AC(this.eventInfo,t)}getAction(){let t=ho(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){il(this.eventInfo);return}Eh(this.eventInfo,t.name,t.element)}getIsReplay(){return OC(this.eventInfo)}setIsReplay(t){Ch(this.eventInfo,t)}getResolved(){return Dh(this.eventInfo)}setResolved(t){wh(this.eventInfo,t)}clone(){return new e(bh(this.eventInfo))}},PC={},kC=/\s*;\s*/,FC=v.CLICK,sl=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&Mt(t)===v.CLICK&&bC(fo(t))?dl(t,v.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){Dh(t)||(this.populateAction(t,yh(t)),wh(t,!0))}resolveParentAction(t){let n=ho(t),r=n&&uo(n);il(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==vh(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!ho(t));)r=this.getParentNode(r);let i=ho(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Mt(t)===v.MOUSEENTER||Mt(t)===v.MOUSELEAVE||Mt(t)===v.POINTERENTER||Mt(t)===v.POINTERLEAVE)))if(IC(fo(t),Mt(t),uo(i))){let o=MC(fo(t),uo(i));mh(t,o),_h(t,uo(i))}else il(t)}getParentNode(t){let n=t[cl.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[Mt(n)];i!==void 0&&Eh(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=pC(t);if(!n){let r=t.getAttribute(ll.JSACTION);if(!r)n=PC,fh(t,n);else{if(n=gC(r),!n){n={};let i=r.split(kC);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(SC.EVENT_ACTION_SEPARATOR),l=a!==-1,c=l?s.substr(0,a).trim():FC,u=l?s.substr(a+1).trim():s;n[c]=u}mC(r,n)}fh(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Ih=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(Ih||{}),al=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new ol(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&LC(r.element,n)&&DC(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function LC(e,t){return e.tagName==="A"&&(t.getEventType()===v.CLICK||t.getEventType()===v.CLICKMOD)}var Mh=Symbol.for("propagationStopped"),fl={REPLAY:101};var VC="`preventDefault` called during event replay.";var jC="`composedPath` called during event replay.",go=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new sl({clickModSupport:n}),this.dispatcher=new al(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&HC(t),BC(t);t.getAction();){if($C(t),ul(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),UC(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function BC(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Mh]=!0,n()};zt(t,"stopPropagation",r),zt(t,"stopImmediatePropagation",r)}function UC(e){return!!e.getEvent()[Mh]}function HC(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);zt(t,"target",n),zt(t,"eventPhase",fl.REPLAY),zt(t,"preventDefault",()=>{throw r(),new Error(VC+"")}),zt(t,"composedPath",()=>{throw new Error(jC+"")})}function $C(e){let t=e.getEvent(),n=e.getAction()?.element;n&&zt(t,"currentTarget",n,{configurable:!0})}function zt(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function Th(e,t){e.ecrd(n=>{t.dispatch(n)},Ih.I_AM_THE_JSACTION_FRAMEWORK)}function zC(e){return e?.q??[]}function GC(e){e&&(ph(e.c,e.et,e.h),ph(e.c,e.etc,e.h,!0))}function ph(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var WC=!1,Sh=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=WC;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=RC(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){Ch(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&yC.indexOf(n)>=0)return;let o=(a,l,c)=>{this.handleEvent(a,l,c)};this.eventHandlers[n]=o;let s=vC(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{o(n,l,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),GC(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=bh(i);dl(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function xh(e,t=window){return zC(t._ejsas?.[e])}function hl(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var qC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(t,n){super(_c(t,n)),this.code=t}};function YC(e){return`NG0${Math.abs(e)}`}function _c(e,t){return`${YC(e)}${t?": "+t:""}`}function Rr(e){return{toString:e}.toString()}var mo="__parameters__";function ZC(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function xp(e,t,n){return Rr(()=>{let r=ZC(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(mo)?l[mo]:Object.defineProperty(l,mo,{value:[]})[mo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function G(e){for(let t in e)if(e[t]===G)return t;throw Error("Could not find renamed property on target object.")}function KC(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function be(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(be).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Nh(e,t){return e?t?`${e} ${t}`:e:t||""}var QC=G({__forward_ref__:G});function Pr(e){return e.__forward_ref__=Pr,e.toString=function(){return be(this())},e}function ue(e){return Np(e)?e():e}function Np(e){return typeof e=="function"&&e.hasOwnProperty(QC)&&e.__forward_ref__===Pr}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Vn(e){return{providers:e.providers||[],imports:e.imports||[]}}function vc(e){return Ah(e,Ap)||Ah(e,Op)}function Ah(e,t){return e.hasOwnProperty(t)?e[t]:null}function XC(e){let t=e&&(e[Ap]||e[Op]);return t||null}function Oh(e){return e&&(e.hasOwnProperty(Rh)||e.hasOwnProperty(JC))?e[Rh]:null}var Ap=G({\u0275prov:G}),Rh=G({\u0275inj:G}),Op=G({ngInjectableDef:G}),JC=G({ngInjectorDef:G}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Rp(e){return e&&!!e.\u0275providers}var eD=G({\u0275cmp:G}),tD=G({\u0275dir:G}),nD=G({\u0275pipe:G});var To=G({\u0275fac:G}),Mr=G({__NG_ELEMENT_ID__:G}),Ph=G({__NG_ENV_ID__:G});function Pp(e){return typeof e=="string"?e:e==null?"":String(e)}function rD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Pp(e)}function kp(e,t){throw new D(-200,e)}function Ec(e,t){throw new D(-201,!1)}var x=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(x||{}),Al;function Fp(){return Al}function Ce(e){let t=Al;return Al=e,t}function Lp(e,t,n){let r=vc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&x.Optional)return null;if(t!==void 0)return t;Ec(e,"Injector")}var iD={},Gt=iD,Ol="__NG_DI_FLAG__",So=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?zi:Gt,r)}},xo="ngTempTokenPath",oD="ngTokenPath",sD=/\n/gm,aD="\u0275",kh="__source";function lD(e,t=x.Default){if(Er()===void 0)throw new D(-203,!1);if(Er()===null)return Lp(e,void 0,t);{let n=Er(),r;return n instanceof So?r=n.injector:r=n,r.get(e,t&x.Optional?null:void 0,t)}}function U(e,t=x.Default){return(Fp()||lD)(ue(e),t)}function y(e,t=x.Default){return U(e,ts(t))}function ts(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Rl(e){let t=[];for(let n=0;n<e.length;n++){let r=ue(e[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=x.Default;for(let s=0;s<r.length;s++){let a=r[s],l=cD(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(U(i,o))}else t.push(U(r))}return t}function Vp(e,t){return e[Ol]=t,e.prototype[Ol]=t,e}function cD(e){return e[Ol]}function uD(e,t,n,r){let i=e[xo];throw t[kh]&&i.unshift(t[kh]),e.message=dD(`
`+e.message,i,n,r),e[oD]=i,e[xo]=null,e}function dD(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==aD?e.slice(2):e;let i=be(t);if(Array.isArray(t))i=t.map(be).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):be(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(sD,`
  `)}`}var jp=Vp(xp("Optional"),8);var fD=Vp(xp("SkipSelf"),4);function An(e,t){let n=e.hasOwnProperty(To);return n?e[To]:null}function Cc(e,t){e.forEach(n=>Array.isArray(n)?Cc(n,t):t(n))}function Bp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function No(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function hD(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function pD(e,t,n){let r=kr(e,t);return r>=0?e[r|1]=n:(r=~r,hD(e,r,t,n)),r}function pl(e,t){let n=kr(e,t);if(n>=0)return e[n|1]}function kr(e,t){return gD(e,t,1)}function gD(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var qt={},De=[],Yt=new E(""),Up=new E("",-1),Hp=new E(""),Ao=class{get(t,n=Gt){if(n===Gt){let r=new Error(`NullInjectorError: No provider for ${be(t)}!`);throw r.name="NullInjectorError",r}return n}};function On(e){return e[eD]||null}function $p(e){return e[tD]||null}function zp(e){return e[nD]||null}function Fr(e){return{\u0275providers:e}}function mD(...e){return{\u0275providers:Dc(!0,e),\u0275fromNgModule:!0}}function Dc(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cc(t,s=>{let a=s;Pl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Gp(i,o),n}function Gp(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];wc(i,o=>{t(o,r)})}}function Pl(e,t,n,r){if(e=ue(e),!e)return!1;let i=null,o=Oh(e),s=!o&&On(e);if(!o&&!s){let l=e.ngModule;if(o=Oh(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Pl(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Cc(o.imports,u=>{Pl(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Gp(c,t)}if(!a){let c=An(i)||(()=>new i);t({provide:i,useFactory:c,deps:De},i),t({provide:Hp,useValue:i,multi:!0},i),t({provide:Yt,useValue:()=>U(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;wc(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function wc(e,t){for(let n of e)Rp(n)&&(n=n.\u0275providers),Array.isArray(n)?wc(n,t):t(n)}var yD=G({provide:String,useValue:G});function Wp(e){return e!==null&&typeof e=="object"&&yD in e}function _D(e){return!!(e&&e.useExisting)}function vD(e){return!!(e&&e.useFactory)}function Rn(e){return typeof e=="function"}function ED(e){return!!e.useClass}var ns=new E(""),Eo={},Fh={},gl;function bc(){return gl===void 0&&(gl=new Ao),gl}var ct=class{},Tr=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Fl(t,s=>this.processProvider(s)),this.records.set(Up,Dn(void 0,this)),i.has("environment")&&this.records.set(ct,Dn(void 0,this));let o=this.records.get(ns);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hp,De,x.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?zi:Gt,r)}destroy(){br(this),this._destroyed=!0;let t=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(t)}}onDestroy(t){return br(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){br(this);let n=st(this),r=Ce(void 0),i;try{return t()}finally{st(n),Ce(r)}}get(t,n=Gt,r=x.Default){if(br(this),t.hasOwnProperty(Ph))return t[Ph](this);r=ts(r);let i,o=st(this),s=Ce(void 0);try{if(!(r&x.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=ID(t)&&vc(t);c&&this.injectableDefInScope(c)?l=Dn(kl(t),Eo):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&x.Self?bc():this.parent;return n=r&x.Optional&&n===Gt?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xo]=a[xo]||[]).unshift(be(t)),o)throw a;return uD(a,t,"R3InjectorError",this.source)}else throw a}finally{Ce(s),st(o)}}resolveInjectorInitializers(){let t=P(null),n=st(this),r=Ce(void 0),i;try{let o=this.get(Yt,De,x.Self);for(let s of o)s()}finally{st(n),Ce(r),P(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(be(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ue(t);let n=Rn(t)?t:ue(t&&t.provide),r=DD(t);if(!Rn(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Dn(void 0,Eo,!0),i.factory=()=>Rl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=P(null);try{return n.value===Fh?kp(be(t)):n.value===Eo&&(n.value=Fh,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&bD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ue(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kl(e){let t=vc(e),n=t!==null?t.factory:An(e);if(n!==null)return n;if(e instanceof E)throw new D(204,!1);if(e instanceof Function)return CD(e);throw new D(204,!1)}function CD(e){if(e.length>0)throw new D(204,!1);let n=XC(e);return n!==null?()=>n.factory(e):()=>new e}function DD(e){if(Wp(e))return Dn(void 0,e.useValue);{let t=qp(e);return Dn(t,Eo)}}function qp(e,t,n){let r;if(Rn(e)){let i=ue(e);return An(i)||kl(i)}else if(Wp(e))r=()=>ue(e.useValue);else if(vD(e))r=()=>e.useFactory(...Rl(e.deps||[]));else if(_D(e))r=(i,o)=>U(ue(e.useExisting),o!==void 0&&o&x.Optional?x.Optional:void 0);else{let i=ue(e&&(e.useClass||e.provide));if(wD(e))r=()=>new i(...Rl(e.deps));else return An(i)||kl(i)}return r}function br(e){if(e.destroyed)throw new D(205,!1)}function Dn(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function wD(e){return!!e.deps}function bD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ID(e){return typeof e=="function"||typeof e=="object"&&e instanceof E}function Fl(e,t){for(let n of e)Array.isArray(n)?Fl(n,t):n&&Rp(n)?Fl(n.\u0275providers,t):t(n)}function Ic(e,t){let n;e instanceof Tr?(br(e),n=e):n=new So(e);let r,i=st(n),o=Ce(void 0);try{return t()}finally{st(i),Ce(o)}}function Yp(){return Fp()!==void 0||Er()!=null}function Zp(e){if(!Yp())throw new D(-203,!1)}function MD(e){return typeof e=="function"}var ve=0,w=1,b=2,ie=3,Ve=4,Ue=5,qe=6,Oo=7,de=8,Ye=9,St=10,q=11,Sr=12,Lh=13,jn=14,Me=15,Pn=16,wn=17,kn=18,rs=19,Kp=20,Tt=21,ml=22,Ro=23,Ie=24,Tn=25,oe=26,Qp=1,ut=6,dt=7,Po=8,ko=9,_e=10;function je(e){return Array.isArray(e)&&typeof e[Qp]=="object"}function Je(e){return Array.isArray(e)&&e[Qp]===!0}function Xp(e){return(e.flags&4)!==0}function en(e){return e.componentOffset>-1}function Mc(e){return(e.flags&1)===1}function Ze(e){return!!e.template}function xr(e){return(e[b]&512)!==0}function tn(e){return(e[b]&256)===256}var Ll=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jp(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Tc=(()=>{let e=()=>eg;return e.ngInherit=!0,e})();function eg(e){return e.type.prototype.ngOnChanges&&(e.setInput=SD),TD}function TD(){let e=ng(this),t=e?.current;if(t){let n=e.previous;if(n===qt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function SD(e,t,n,r,i){let o=this.declaredInputs[r],s=ng(e)||xD(e,{previous:qt,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Ll(c&&c.currentValue,n,l===qt),Jp(e,t,i,n)}var tg="__ngSimpleChanges__";function ng(e){return e[tg]||null}function xD(e,t){return e[tg]=t}var Vh=null;var L=function(e,t=null,n){Vh?.(e,t,n)},ND="svg",AD="math";function Be(e){for(;Array.isArray(e);)e=e[ve];return e}function rg(e,t){return Be(t[e])}function et(e,t){return Be(t[e.index])}function is(e,t){return e.data[t]}function Ke(e,t){let n=t[e];return je(n)?n:n[ve]}function Sc(e){return(e[b]&128)===128}function OD(e){return Je(e[ie])}function Fo(e,t){return t==null?null:e[t]}function ig(e){e[wn]=0}function og(e){e[b]&1024||(e[b]|=1024,Sc(e)&&Lr(e))}function RD(e,t){for(;e>0;)t=t[jn],e--;return t}function os(e){return!!(e[b]&9216||e[Ie]?.dirty)}function Vl(e){e[St].changeDetectionScheduler?.notify(8),e[b]&64&&(e[b]|=1024),os(e)&&Lr(e)}function Lr(e){e[St].changeDetectionScheduler?.notify(0);let t=Zt(e);for(;t!==null&&!(t[b]&8192||(t[b]|=8192,!Sc(t)));)t=Zt(t)}function sg(e,t){if(tn(e))throw new D(911,!1);e[Tt]===null&&(e[Tt]=[]),e[Tt].push(t)}function PD(e,t){if(e[Tt]===null)return;let n=e[Tt].indexOf(t);n!==-1&&e[Tt].splice(n,1)}function Zt(e){let t=e[ie];return Je(t)?t[ie]:t}function ag(e){return e[Oo]??=[]}function lg(e){return e.cleanup??=[]}var O={lFrame:mg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jl=!1;function kD(){return O.lFrame.elementDepthCount}function FD(){O.lFrame.elementDepthCount++}function LD(){O.lFrame.elementDepthCount--}function cg(){return O.bindingsEnabled}function Vr(){return O.skipHydrationRootTNode!==null}function VD(e){return O.skipHydrationRootTNode===e}function jD(e){O.skipHydrationRootTNode=e}function BD(){O.skipHydrationRootTNode=null}function Z(){return O.lFrame.lView}function Se(){return O.lFrame.tView}function xe(e){return O.lFrame.contextLView=e,e[de]}function Ne(e){return O.lFrame.contextLView=null,e}function Ee(){let e=ug();for(;e!==null&&e.type===64;)e=e.parent;return e}function ug(){return O.lFrame.currentTNode}function UD(){let e=O.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function jr(e,t){let n=O.lFrame;n.currentTNode=e,n.isParent=t}function dg(){return O.lFrame.isParent}function HD(){O.lFrame.isParent=!1}function fg(){return jl}function jh(e){let t=jl;return jl=e,t}function $D(e){return O.lFrame.bindingIndex=e}function xc(){return O.lFrame.bindingIndex++}function zD(e){let t=O.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function GD(){return O.lFrame.inI18n}function WD(e,t){let n=O.lFrame;n.bindingIndex=n.bindingRootIndex=e,Bl(t)}function qD(){return O.lFrame.currentDirectiveIndex}function Bl(e){O.lFrame.currentDirectiveIndex=e}function YD(e){let t=O.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function hg(e){O.lFrame.currentQueryIndex=e}function ZD(e){let t=e[w];return t.type===2?t.declTNode:t.type===1?e[Ue]:null}function pg(e,t,n){if(n&x.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&x.Host);)if(i=ZD(o),i===null||(o=o[jn],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=O.lFrame=gg();return r.currentTNode=t,r.lView=e,!0}function Nc(e){let t=gg(),n=e[w];O.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gg(){let e=O.lFrame,t=e===null?null:e.child;return t===null?mg(e):t}function mg(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function yg(){let e=O.lFrame;return O.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var _g=yg;function Ac(){let e=yg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function KD(e){return(O.lFrame.contextLView=RD(e,O.lFrame.contextLView))[de]}function Bn(){return O.lFrame.selectedIndex}function Kt(e){O.lFrame.selectedIndex=e}function vg(){let e=O.lFrame;return is(e.tView,e.selectedIndex)}function Eg(){return O.lFrame.currentNamespace}var Cg=!0;function Oc(){return Cg}function xt(e){Cg=e}function QD(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=eg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Dg(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Co(e,t,n){wg(e,t,3,n)}function Do(e,t,n,r){(e[b]&3)===n&&wg(e,t,n,r)}function yl(e,t){let n=e[b];(n&3)===t&&(n&=16383,n+=1,e[b]=n)}function wg(e,t,n,r){let i=r!==void 0?e[wn]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[wn]+=65536),(a<o||o==-1)&&(XD(e,n,t,l),e[wn]=(e[wn]&4294901760)+l+2),l++}function Bh(e,t){L(4,e,t);let n=P(null);try{t.call(e)}finally{P(n),L(5,e,t)}}function XD(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[b]>>14<e[wn]>>16&&(e[b]&3)===t&&(e[b]+=16384,Bh(a,o)):Bh(a,o)}var Sn=-1,Qt=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function JD(e){return(e.flags&8)!==0}function ew(e){return(e.flags&16)!==0}function tw(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];rw(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function nw(e){return e===3||e===4||e===6}function rw(e){return e.charCodeAt(0)===64}function Nr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Uh(e,n,i,null,t[++r]):Uh(e,n,i,null,null))}}return e}function Uh(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function bg(e){return e!==Sn}function Lo(e){return e&32767}function iw(e){return e>>16}function Vo(e,t){let n=iw(e),r=t;for(;n>0;)r=r[jn],n--;return r}var Ul=!0;function Hh(e){let t=Ul;return Ul=e,t}var ow=256,Ig=ow-1,Mg=5,sw=0,We={};function aw(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mr)&&(r=n[Mr]),r==null&&(r=n[Mr]=sw++);let i=r&Ig,o=1<<i;t.data[e+(i>>Mg)]|=o}function jo(e,t){let n=Tg(e,t);if(n!==-1)return n;let r=t[w];r.firstCreatePass&&(e.injectorIndex=t.length,_l(r.data,e),_l(t,null),_l(r.blueprint,null));let i=Rc(e,t),o=e.injectorIndex;if(bg(i)){let s=Lo(i),a=Vo(i,t),l=a[w].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function _l(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Tg(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Rc(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Rg(i),r===null)return Sn;if(n++,i=i[jn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Sn}function Hl(e,t,n){aw(e,t,n)}function Sg(e,t,n){if(n&x.Optional||e!==void 0)return e;Ec(t,"NodeInjector")}function xg(e,t,n,r){if(n&x.Optional&&r===void 0&&(r=null),(n&(x.Self|x.Host))===0){let i=e[Ye],o=Ce(void 0);try{return i?i.get(t,r,n&x.Optional):Lp(t,r,n&x.Optional)}finally{Ce(o)}}return Sg(r,t,n)}function Ng(e,t,n,r=x.Default,i){if(e!==null){if(t[b]&2048&&!(r&x.Self)){let s=fw(e,t,n,r,We);if(s!==We)return s}let o=Ag(e,t,n,r,We);if(o!==We)return o}return xg(t,n,r,i)}function Ag(e,t,n,r,i){let o=uw(n);if(typeof o=="function"){if(!pg(t,e,r))return r&x.Host?Sg(i,n,r):xg(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&x.Optional))Ec(n);else return s}finally{_g()}}else if(typeof o=="number"){let s=null,a=Tg(e,t),l=Sn,c=r&x.Host?t[Me][Ue]:null;for((a===-1||r&x.SkipSelf)&&(l=a===-1?Rc(e,t):t[a+8],l===Sn||!zh(r,!1)?a=-1:(s=t[w],a=Lo(l),t=Vo(l,t)));a!==-1;){let u=t[w];if($h(o,a,u.data)){let d=lw(a,t,n,s,r,c);if(d!==We)return d}l=t[a+8],l!==Sn&&zh(r,t[w].data[a+8]===c)&&$h(o,a,t)?(s=u,a=Lo(l),t=Vo(l,t)):a=-1}}return i}function lw(e,t,n,r,i,o){let s=t[w],a=s.data[e+8],l=r==null?en(a)&&Ul:r!=s&&(a.type&3)!==0,c=i&x.Host&&o===a,u=cw(a,s,n,l,c);return u!==null?Bo(t,s,u,a,i):We}function cw(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&Ze(h)&&h.type===n)return l}return null}function Bo(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Qt){let a=o;a.resolving&&kp(rD(s[n]));let l=Hh(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Ce(a.injectImpl):null,d=pg(e,r,x.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&QD(n,s[n],t)}finally{u!==null&&Ce(u),Hh(l),a.resolving=!1,_g()}}return o}function uw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Mr)?e[Mr]:void 0;return typeof t=="number"?t>=0?t&Ig:dw:t}function $h(e,t,n){let r=1<<e;return!!(n[t+(e>>Mg)]&r)}function zh(e,t){return!(e&x.Self)&&!(e&x.Host&&t)}var Wt=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ng(this._tNode,this._lView,t,ts(r),n)}};function dw(){return new Wt(Ee(),Z())}function Og(e){return Rr(()=>{let t=e.prototype.constructor,n=t[To]||$l(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[To]||$l(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $l(e){return Np(e)?()=>{let t=$l(ue(e));return t&&t()}:An(e)}function fw(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[b]&2048&&!xr(s);){let a=Ag(o,s,n,r|x.Self,We);if(a!==We)return a;let l=o.parent;if(!l){let c=s[Kp];if(c){let u=c.get(n,We,r);if(u!==We)return u}l=Rg(s),s=s[jn]}o=l}return i}function Rg(e){let t=e[w],n=t.type;return n===2?t.declTNode:n===1?e[Ue]:null}function Gh(e,t=null,n=null,r){let i=hw(e,t,n,r);return i.resolveInjectorInitializers(),i}function hw(e,t=null,n=null,r,i=new Set){let o=[n||De,mD(e)];return r=r||(typeof e=="object"?void 0:be(e)),new Tr(o,t||bc(),r||null,i)}var ft=class e{static THROW_IF_NOT_FOUND=Gt;static NULL=new Ao;static create(t,n){if(Array.isArray(t))return Gh({name:""},n,t,"");{let r=t.name??"";return Gh({name:r},t.parent,t.providers,r)}}static \u0275prov=V({token:e,providedIn:"any",factory:()=>U(Up)});static __NG_ELEMENT_ID__=-1};var pw=new E("");pw.__NG_ELEMENT_ID__=e=>{let t=Ee();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(e&x.Optional)return null;throw new D(204,!1)};var Pg=!1,ss=(()=>{class e{static __NG_ELEMENT_ID__=gw;static __NG_ENV_ID__=n=>n}return e})(),zl=class extends ss{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return tn(n)?(t(),()=>{}):(sg(n,t),()=>PD(n,t))}};function gw(){return new zl(Z())}var Xt=class{},as=new E("",{providedIn:"root",factory:()=>!1});var kg=new E(""),Fg=new E(""),nn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ut(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),mw=(()=>{class e{internalPendingTasks=y(nn);scheduler=y(Xt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return B(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),Gl=class extends at{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Yp()&&(this.destroyRef=y(ss,{optional:!0})??void 0,this.pendingTasks=y(nn,{optional:!0})??void 0)}emit(t){let n=P(null);try{super.next(t)}finally{P(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ce&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},we=Gl;function Uo(...e){}function Lg(e){let t,n;function r(){e=Uo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Wh(e){return queueMicrotask(()=>e()),()=>{e=Uo}}var Pc="isAngularZone",Ho=Pc+"_ID",yw=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Pg}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ew(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pc)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,_w,Uo,Uo);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},_w={};function kc(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Lg(()=>{e.callbackScheduled=!1,Wl(e),e.isCheckStableRunning=!0,kc(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Wl(e)}function Ew(e){let t=()=>{vw(e)},n=yw++;e._inner=e._inner.fork({name:"angular",properties:{[Pc]:!0,[Ho]:n,[Ho+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Cw(l))return r.invokeTask(o,s,a,l);try{return qh(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Yh(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return qh(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Dw(l)&&t(),Yh(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Wl(e),kc(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Wl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function qh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Yh(e){e._nesting--,kc(e)}var ql=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Cw(e){return Vg(e,"__ignore_ng_zone__")}function Dw(e){return Vg(e,"__scheduler_tick__")}function Vg(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Qe=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ww=new E("",{providedIn:"root",factory:()=>{let e=y(ee),t=y(Qe);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function bw(){return ls(Ee(),Z())}function ls(e,t){return new Br(et(e,t))}var Br=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=bw}return e})();function Iw(e){return typeof e=="function"&&e[ke]!==void 0}function Ur(e,t){let n=$a(e,t?.equal),r=n[ke];return n.set=i=>$i(r,i),n.update=i=>za(r,i),n.asReadonly=Mw.bind(n),n}function Mw(){let e=this[ke];if(e.readonlyFn===void 0){let t=()=>this();t[ke]=e,e.readonlyFn=t}return e.readonlyFn}function jg(e){return Iw(e)&&typeof e.set=="function"}var Tw="ngSkipHydration",Sw="ngskiphydration";function Bg(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Sw)return!0}return!1}function Ug(e){return e.hasAttribute(Tw)}function $o(e){return(e.flags&128)===128}function xw(e){if($o(e))return!0;let t=e.parent;for(;t;){if($o(e)||Bg(t))return!0;t=t.parent}return!1}var Hg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Hg||{}),$g=new Map,Nw=0;function Aw(){return Nw++}function Ow(e){$g.set(e[rs],e)}function Yl(e){$g.delete(e[rs])}var Zh="__ngContext__";function Hr(e,t){je(t)?(e[Zh]=t[rs],Ow(t)):e[Zh]=t}function zg(e){return Wg(e[Sr])}function Gg(e){return Wg(e[Ve])}function Wg(e){for(;e!==null&&!Je(e);)e=e[Ve];return e}var Zl;function qg(e){Zl=e}function cs(){if(Zl!==void 0)return Zl;if(typeof document<"u")return document;throw new D(210,!1)}var lt=new E("",{providedIn:"root",factory:()=>Rw}),Rw="ng",Fc=new E(""),rn=new E("",{providedIn:"platform",factory:()=>"unknown"});var Lc=new E("",{providedIn:"root",factory:()=>cs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Pw(){let e=new Un;return e.store=kw(cs(),y(lt)),e}var Un=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:Pw});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function kw(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var Yg="h",Zg="b",Fw="f",Lw="n",Vw="e",jw="t",Vc="c",Kg="x",zo="r",Bw="i",Uw="n",Qg="d";var Hw="di",$w="s",zw="p";var yo=new E(""),Xg=!1,Jg=new E("",{providedIn:"root",factory:()=>Xg});var em=new E(""),Gw=!1,Ww=new E(""),Kh=new E("",{providedIn:"root",factory:()=>new Map}),jc=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(jc||{}),Hn=new E(""),Qh=new Set;function on(e){Qh.has(e)||(Qh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var tm=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=qw}return e})();function qw(){return new tm(Z(),Ee())}var bn=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(bn||{}),nm=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),Yw=[bn.EarlyRead,bn.Write,bn.MixedReadWrite,bn.Read],Zw=(()=>{class e{ngZone=y(ee);scheduler=y(Xt);errorHandler=y(Qe,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Hn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&L(16),this.executing=!0;for(let r of Yw)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&L(17)}register(n){let{view:r}=n;r!==void 0?((r[Tn]??=[]).push(n),Lr(r),r[b]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(jc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})(),Kl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Tn];t&&(this.view[Tn]=t.filter(n=>n!==this))}};function rm(e,t){!t?.injector&&Zp(rm);let n=t?.injector??y(ft);return on("NgAfterNextRender"),Qw(e,n,t,!0)}function Kw(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Qw(e,t,n,r){let i=t.get(nm);i.impl??=t.get(Zw);let o=t.get(Hn,null,{optional:!0}),s=n?.phase??bn.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(ss):null,l=t.get(tm,null,{optional:!0}),c=new Kl(i.impl,Kw(e,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var ye=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(ye||{}),Xh=0,Xw=1,J=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(J||{});var Jw=0,us=1;var eb=4,tb=5;var nb=7,xn=8,rb=9,im=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(im||{});function wo(e,t){let n=ob(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function ib(e){wo(1,e),wo(0,e),wo(2,e)}function ob(e){let t=eb;return e===1?t=tb:e===2&&(t=rb),t}function om(e){return e+1}function $r(e,t){let n=e[w],r=om(t.index);return e[r]}function ds(e,t){let n=om(t.index);return e.data[n]}function sb(e,t,n){let r=t[w],i=ds(r,n);switch(e){case J.Complete:return i.primaryTmplIndex;case J.Loading:return i.loadingTmplIndex;case J.Error:return i.errorTmplIndex;case J.Placeholder:return i.placeholderTmplIndex;default:return null}}function Jh(e,t){return t===J.Placeholder?e.placeholderBlockConfig?.[Xh]??null:t===J.Loading?e.loadingBlockConfig?.[Xh]??null:null}function ab(e){return e.loadingBlockConfig?.[Xw]??null}function ep(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function lb(e,t){let n=t.primaryTmplIndex+oe;return is(e,n)}var fs="ngb";var cb=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},ub=(e,t)=>{let n=e,r=n.getAttribute(fs)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var db=e=>{e.removeAttribute(ll.JSACTION),e.removeAttribute(fs),e.__jsaction_fns=void 0},fb=new E("",{providedIn:"root",factory:()=>({})});function sm(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Ql=new Map;function hb(e,t){return Ql.set(e,t),()=>Ql.delete(e)}var tp=!1,am=(e,t,n,r)=>{};function pb(e,t,n,r){am(e,t,n,r)}function gb(){tp||(am=(e,t,n,r)=>{let i=e[Ye].get(lt);Ql.get(i)?.(t,n,r)},tp=!0)}var Bc=new E("");var mb="__nghData__",lm=mb,yb="__nghDeferData__",_b=yb,vl="ngh",vb="nghm",cm=()=>null;function Eb(e,t,n=!1){let r=e.getAttribute(vl);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,l={};if(r!==""){let u=t.get(Un,null,{optional:!0});u!==null&&(l=u.get(lm,[])[Number(r)])}let c={data:l,firstChild:e.firstChild??null};return n&&(c.firstChild=e,hs(c,0,e.nextSibling)),a?e.setAttribute(vl,a):e.removeAttribute(vl),c}function Cb(){cm=Eb}function um(e,t,n=!1){return cm(e,t,n)}function Db(e){let t=e._lView;return t[w].type===2?null:(xr(t)&&(t=t[oe]),t)}function wb(e){return e.textContent?.replace(/\s/gm,"")}function bb(e){let t=cs(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=wb(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function hs(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Xl(e,t){return e.segmentHeads?.[t]??null}function Ib(e){return e.get(Ww,!1,{optional:!0})}function Mb(e,t){let n=e.data,r=n[Vw]?.[t]??null;return r===null&&n[Vc]?.[t]&&(r=Uc(e,t)),r}function dm(e,t){return e.data[Vc]?.[t]??null}function Uc(e,t){let n=dm(e,t)??[],r=0;for(let i of n)r+=i[zo]*(i[Kg]??1);return r}function Tb(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[Qg];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function zr(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[Qg];e.disconnectedNodes=n?new Set(n):null}return!!Tb(e)?.has(t)}function Sb(e,t){let n=t.get(Bc),i=t.get(Un).get(_b,{}),o=!1,s=e,a=null,l=[];for(;!o&&s;){o=n.has(s);let c=n.hydrating.get(s);if(a===null&&c!=null){a=c.promise;break}l.unshift(s),s=i[s][zw]}return{parentBlockPromise:a,hydrationQueue:l}}function El(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===vb}function np(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function xb(e){for(let r of e.body.childNodes)if(El(r))return;let t=np(e.body.previousSibling);if(El(t))return;let n=np(e.head.lastChild);if(!El(n))throw new D(-507,!1)}function fm(e,t){let n=e.contentQueries;if(n!==null){let r=P(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];hg(o),a.contentQueries(2,t[s],s)}}}finally{P(r)}}}function Jl(e,t,n){hg(0);let r=P(null);try{t(e,n)}finally{P(r)}}function hm(e,t,n){if(Xp(t)){let r=P(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{P(r)}}}var Xe=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Xe||{});var ec=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qC})`}};function pm(e){return e instanceof ec?e.changingThisBreaksApplicationSecurity:e}var Nb=/^>|^->|<!--|-->|--!>|<!-$/g,Ab=/(<|>)/g,Ob="\u200B$1\u200B";function Rb(e){return e.replace(Nb,t=>t.replace(Ab,Ob))}function gm(e,t){return e.createText(t)}function Pb(e,t,n){e.setValue(t,n)}function mm(e,t){return e.createComment(Rb(t))}function Hc(e,t,n){return e.createElement(t,n)}function Go(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ym(e,t,n){e.appendChild(t,n)}function rp(e,t,n,r,i){r!==null?Go(e,t,n,r,i):ym(e,t,n)}function $c(e,t,n){e.removeChild(null,t,n)}function _m(e){e.textContent=""}function kb(e,t,n){e.setAttribute(t,"style",n)}function Fb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function vm(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&tw(e,t,r),i!==null&&Fb(e,t,i),o!==null&&kb(e,t,o)}function Lb(e){return e.ownerDocument.body}function Vb(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Em="ng-template";function jb(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&Vb(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zc(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function zc(e){return e.type===4&&e.value!==Em}function Bb(e,t,n){let r=e.type===4&&!n?Em:e.value;return t===r}function Ub(e,t,n){let r=4,i=e.attrs,o=i!==null?zb(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Le(r)&&!Le(l))return!1;if(s&&Le(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Bb(e,l,n)||l===""&&t.length===1){if(Le(r))return!1;s=!0}}else if(r&8){if(i===null||!jb(e,i,l,n)){if(Le(r))return!1;s=!0}}else{let c=t[++a],u=Hb(l,i,zc(e),n);if(u===-1){if(Le(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Le(r))return!1;s=!0}}}}return Le(r)||s}function Le(e){return(e&1)===0}function Hb(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Gb(t,e)}function $b(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ub(e,t[r],n))return!0;return!1}function zb(e){for(let t=0;t<e.length;t++){let n=e[t];if(nw(n))return t}return e.length}function Gb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function ip(e,t){return e?":not("+t.trim()+")":t}function Wb(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Le(s)&&(t+=ip(o,i),i=""),r=s,o=o||!Le(r);n++}return i!==""&&(t+=ip(o,i)),t}function qb(e){return e.map(Wb).join(",")}function Yb(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Le(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var $n={};function Gc(e,t,n,r,i,o,s,a,l,c,u){let d=oe+r,f=d+i,h=Zb(d,f),p=typeof c=="function"?c():c;return h[w]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function Zb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:$n);return n}function Kb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Gc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Wc(e,t,n,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[ve]=i,d[b]=r|4|128|8|64|1024,(c!==null||e&&e[b]&2048)&&(d[b]|=2048),ig(d),d[ie]=d[jn]=e,d[de]=n,d[St]=s||e&&e[St],d[q]=a||e&&e[q],d[Ye]=l||e&&e[Ye]||null,d[Ue]=o,d[rs]=Aw(),d[qe]=u,d[Kp]=c,d[Me]=t.type==2?e[Me]:d,d}function Qb(e,t,n){let r=et(t,e),i=Kb(n),o=e[St].rendererFactory,s=qc(e,Wc(e,i,null,Cm(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Cm(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Dm(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function qc(e,t){return e[Sr]?e[Lh][Ve]=t:e[Sr]=t,e[Lh]=t,t}function K(e=1){wm(Se(),Z(),Bn()+e,!1)}function wm(e,t,n,r){if(!r)if((t[b]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Co(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Do(t,o,0,n)}Kt(n)}var ps=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ps||{});function tc(e,t,n,r){let i=P(null);try{let[o,s,a]=e.inputs[n],l=null;(s&ps.SignalBased)!==0&&(l=t[o][ke]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):Jp(t,l,o,r)}finally{P(i)}}function bm(e,t,n,r,i){let o=Bn(),s=r&2;try{Kt(-1),s&&t.length>oe&&wm(e,t,oe,!1),L(s?2:0,i),n(r,i)}finally{Kt(o),L(s?3:1,i)}}function Yc(e,t,n){i0(e,t,n),(n.flags&64)===64&&o0(e,t,n)}function Im(e,t,n=et){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Xb(e,t,n,r){let o=r.get(Jg,Xg)||n===Xe.ShadowDom,s=e.selectRootElement(t,o);return Jb(s),s}function Jb(e){Mm(e)}var Mm=()=>null;function e0(e){Ug(e)?_m(e):bb(e)}function t0(){Mm=e0}function n0(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Tm(e,t,n,r,i,o,s,a){if(!a&&Kc(t,e,n,r,i)){en(t)&&r0(n,t.index);return}if(t.type&3){let l=et(t,n);r=n0(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function r0(e,t){let n=Ke(t,e);n[b]&16||(n[b]|=64)}function i0(e,t,n){let r=n.directiveStart,i=n.directiveEnd;en(n)&&Qb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||jo(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Bo(t,e,s,n);if(Hr(l,t),o!==null&&a0(t,s-r,l,a,n,o),Ze(a)){let c=Ke(n.index,t);c[de]=Bo(t,e,s,n)}}}function o0(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qD();try{Kt(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Bl(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&s0(l,c)}}finally{Kt(-1),Bl(s)}}function s0(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Sm(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];$b(t,o.selectors,!1)&&(r??=[],Ze(o)?r.unshift(o):r.push(o))}return r}function a0(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];tc(r,n,l,c)}}function Zc(e,t){let n=e[Ye],r=n?n.get(Qe,null):null;r&&r.handleError(t)}function Kc(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];tc(d,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=t.data[l];tc(u,c,r,i),a=!0}return a}function l0(e,t){let n=Ke(t,e),r=n[w];c0(r,n);let i=n[ve];i!==null&&n[qe]===null&&(n[qe]=um(i,n[Ye])),L(18),Qc(r,n,n[de]),L(19,n[de])}function c0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Qc(e,t,n){Nc(t);try{let r=e.viewQuery;r!==null&&Jl(1,r,n);let i=e.template;i!==null&&bm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[kn]?.finishViewCreation(e),e.staticContentQueries&&fm(e,t),e.staticViewQueries&&Jl(2,e.viewQuery,n);let o=e.components;o!==null&&u0(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[b]&=-5,Ac()}}function u0(e,t){for(let n=0;n<t.length;n++)l0(e,t[n])}function xm(e,t,n,r){let i=P(null);try{let o=t.tView,a=e[b]&4096?4096:16,l=Wc(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[Pn]=c;let u=e[kn];return u!==null&&(l[kn]=u.createEmbeddedView(o)),Qc(o,l,n),l}finally{P(i)}}function nc(e,t){return!t||t.firstChild===null||$o(e)}var d0;function Xc(e,t){return d0(e,t)}var ht=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ht||{});function zn(e){return(e.flags&32)===32}function In(e,t,n,r,i){if(r!=null){let o,s=!1;Je(r)?o=r:je(r)&&(s=!0,r=r[ve]);let a=Be(r);e===0&&n!==null?i==null?ym(t,n,a):Go(t,n,a,i||null,!0):e===1&&n!==null?Go(t,n,a,i||null,!0):e===2?$c(t,a,s):e===3&&t.destroyNode(a),o!=null&&w0(t,e,o,n,i)}}function f0(e,t){Nm(e,t),t[ve]=null,t[Ue]=null}function h0(e,t,n,r,i,o){r[ve]=i,r[Ue]=t,gs(e,r,n,1,i,o)}function Nm(e,t){t[St].changeDetectionScheduler?.notify(9),gs(e,t,t[q],2,null,null)}function p0(e){let t=e[Sr];if(!t)return Cl(e[w],e);for(;t;){let n=null;if(je(t))n=t[Sr];else{let r=t[_e];r&&(n=r)}if(!n){for(;t&&!t[Ve]&&t!==e;)je(t)&&Cl(t[w],t),t=t[ie];t===null&&(t=e),je(t)&&Cl(t[w],t),n=t&&t[Ve]}t=n}}function Jc(e,t){let n=e[ko],r=n.indexOf(t);n.splice(r,1)}function eu(e,t){if(tn(t))return;let n=t[q];n.destroyNode&&gs(e,t,n,3,null,null),p0(t)}function Cl(e,t){if(tn(t))return;let n=P(null);try{t[b]&=-129,t[b]|=256,t[Ie]&&Ba(t[Ie]),m0(e,t),g0(e,t),t[w].type===1&&t[q].destroy();let r=t[Pn];if(r!==null&&Je(t[ie])){r!==t[ie]&&Jc(r,t);let i=t[kn];i!==null&&i.detachView(e)}Yl(t)}finally{P(n)}}function g0(e,t){let n=e.cleanup,r=t[Oo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Oo]=null);let i=t[Tt];if(i!==null){t[Tt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Ro];if(o!==null){t[Ro]=null;for(let s of o)s.destroy()}}function m0(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Qt)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];L(4,a,l);try{l.call(a)}finally{L(5,a,l)}}else{L(4,i,o);try{o.call(i)}finally{L(5,i,o)}}}}}function y0(e,t,n){return _0(e,t.parent,n)}function _0(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[ve];if(en(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Xe.None||i===Xe.Emulated)return null}return et(r,n)}function v0(e,t,n){return C0(e,t,n)}function E0(e,t,n){return e.type&40?et(e,n):null}var C0=E0,op;function tu(e,t,n,r){let i=y0(e,r,t),o=t[q],s=r.parent||t[Ue],a=v0(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)rp(o,i,n[l],a,!1);else rp(o,i,n,a,!1);op!==void 0&&op(o,r,t,n,i)}function Ir(e,t){if(t!==null){let n=t.type;if(n&3)return et(t,e);if(n&4)return rc(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ir(e,r);{let i=e[t.index];return Je(i)?rc(-1,i):Be(i)}}else{if(n&128)return Ir(e,t.next);if(n&32)return Xc(t,e)()||Be(e[t.index]);{let r=Am(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Zt(e[Me]);return Ir(i,r)}else return Ir(e,t.next)}}}return null}function Am(e,t){if(t!==null){let r=e[Me][Ue],i=t.projection;return r.projection[i]}return null}function rc(e,t){let n=_e+e+1;if(n<t.length){let r=t[n],i=r[w].firstChild;if(i!==null)return Ir(r,i)}return t[dt]}function nu(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Hr(Be(a),r),n.flags|=2),!zn(n))if(l&8)nu(e,t,n.child,r,i,o,!1),In(t,e,i,a,o);else if(l&32){let c=Xc(n,r),u;for(;u=c();)In(t,e,i,u,o);In(t,e,i,a,o)}else l&16?D0(e,t,r,n,i,o):In(t,e,i,a,o);n=s?n.projectionNext:n.next}}function gs(e,t,n,r,i,o){nu(n,r,e.firstChild,t,i,o,!1)}function D0(e,t,n,r,i,o){let s=n[Me],l=s[Ue].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];In(t,e,i,u,o)}else{let c=l,u=s[ie];$o(r)&&(c.flags|=128),nu(e,t,c,u,i,o,!0)}}function w0(e,t,n,r,i){let o=n[dt],s=Be(n);o!==s&&In(t,e,r,o,i);for(let a=_e;a<n.length;a++){let l=n[a];gs(l[w],l,e,t,r,o)}}function b0(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ht.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ht.Important),e.setStyle(n,r,i,o))}}function Wo(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Be(o)),Je(o)&&I0(o,r);let s=n.type;if(s&8)Wo(e,t,n.child,r);else if(s&32){let a=Xc(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Am(t,n);if(Array.isArray(a))r.push(...a);else{let l=Zt(t[Me]);Wo(l[w],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function I0(e,t){for(let n=_e;n<e.length;n++){let r=e[n],i=r[w].firstChild;i!==null&&Wo(r[w],r,i,t)}e[dt]!==e[ve]&&t.push(e[dt])}function Om(e){if(e[Tn]!==null){for(let t of e[Tn])t.impl.addSequence(t);e[Tn].length=0}}var Rm=[];function M0(e){return e[Ie]??T0(e)}function T0(e){let t=Rm.pop()??Object.create(x0);return t.lView=e,t}function S0(e){e.lView[Ie]!==e&&(e.lView=null,Rm.push(e))}var x0=W(M({},vr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Lr(e.lView)},consumerOnSignalRead(){this.lView[Ie]=this}});function N0(e){let t=e[Ie]??Object.create(A0);return t.lView=e,t}var A0=W(M({},vr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Zt(e.lView);for(;t&&!Pm(t[w]);)t=Zt(t);t&&og(t)},consumerOnSignalRead(){this.lView[Ie]=this}});function Pm(e){return e.type!==2}function km(e){if(e[Ro]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Ro])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[b]&8192)}}var O0=100;function Fm(e,t=!0,n=0){let i=e[St].rendererFactory,o=!1;o||i.begin?.();try{R0(e,n)}catch(s){throw t&&Zc(e,s),s}finally{o||i.end?.()}}function R0(e,t){let n=fg();try{jh(!0),ic(e,t);let r=0;for(;os(e);){if(r===O0)throw new D(103,!1);r++,ic(e,1)}}finally{jh(n)}}function P0(e,t,n,r){if(tn(t))return;let i=t[b],o=!1,s=!1;Nc(t);let a=!0,l=null,c=null;o||(Pm(e)?(c=M0(t),l=Bi(c)):Pa()===null?(a=!1,c=N0(t),l=Bi(c)):t[Ie]&&(Ba(t[Ie]),t[Ie]=null));try{ig(t),$D(e.bindingStartIndex),n!==null&&bm(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Co(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Do(t,h,0,null),yl(t,0)}if(s||k0(t),km(t),Lm(t,0),e.contentQueries!==null&&fm(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Co(t,h)}else{let h=e.contentHooks;h!==null&&Do(t,h,1),yl(t,1)}L0(e,t);let d=e.components;d!==null&&jm(t,d,0);let f=e.viewQuery;if(f!==null&&Jl(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Co(t,h)}else{let h=e.viewHooks;h!==null&&Do(t,h,2),yl(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ml]){for(let h of t[ml])h();t[ml]=null}o||(Om(t),t[b]&=-73)}catch(u){throw o||Lr(t),u}finally{c!==null&&(Va(c,l),a&&S0(c)),Ac()}}function Lm(e,t){for(let n=zg(e);n!==null;n=Gg(n))for(let r=_e;r<n.length;r++){let i=n[r];Vm(i,t)}}function k0(e){for(let t=zg(e);t!==null;t=Gg(t)){if(!(t[b]&2))continue;let n=t[ko];for(let r=0;r<n.length;r++){let i=n[r];og(i)}}}function F0(e,t,n){L(18);let r=Ke(t,e);Vm(r,n),L(19,r[de])}function Vm(e,t){Sc(e)&&ic(e,t)}function ic(e,t){let r=e[w],i=e[b],o=e[Ie],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ja(o)),s||=!1,o&&(o.dirty=!1),e[b]&=-9217,s)P0(r,e,r.template,e[de]);else if(i&8192){km(e),Lm(e,1);let a=r.components;a!==null&&jm(e,a,1),Om(e)}}function jm(e,t,n){for(let r=0;r<t.length;r++)F0(e,t[r],n)}function L0(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kt(~i);else{let o=i,s=n[++r],a=n[++r];WD(s,o);let l=t[o];L(24,l),a(2,l),L(25,l)}}}finally{Kt(-1)}}function ms(e,t){let n=fg()?64:1088;for(e[St].changeDetectionScheduler?.notify(t);e;){e[b]|=n;let r=Zt(e);if(xr(e)&&!r)return e;e=r}return null}function Bm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Um(e,t,n,r=!0){let i=t[w];if(j0(i,t,e,n),r){let s=rc(n,e),a=t[q],l=a.parentNode(e[dt]);l!==null&&h0(i,e[Ue],a,t,l,s)}let o=t[qe];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function V0(e,t){let n=qo(e,t);return n!==void 0&&eu(n[w],n),n}function qo(e,t){if(e.length<=_e)return;let n=_e+t,r=e[n];if(r){let i=r[Pn];i!==null&&i!==e&&Jc(i,r),t>0&&(e[n-1][Ve]=r[Ve]);let o=No(e,_e+t);f0(r[w],r);let s=o[kn];s!==null&&s.detachView(o[w]),r[ie]=null,r[Ve]=null,r[b]&=-129}return r}function j0(e,t,n,r){let i=_e+r,o=n.length;r>0&&(n[i-1][Ve]=t),r<o-_e?(t[Ve]=n[i],Bp(n,_e+r,t)):(n.push(t),t[Ve]=null),t[ie]=n;let s=t[Pn];s!==null&&n!==s&&Hm(s,t);let a=t[kn];a!==null&&a.insertView(e),Vl(t),t[b]|=128}function Hm(e,t){let n=e[ko],r=t[ie];if(je(r))e[b]|=2;else{let i=r[ie][Me];t[Me]!==i&&(e[b]|=2)}n===null?e[ko]=[t]:n.push(t)}var Ar=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[w];return Wo(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[de]}set context(t){this._lView[de]=t}get destroyed(){return tn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ie];if(Je(t)){let n=t[Po],r=n?n.indexOf(this):-1;r>-1&&(qo(t,r),No(n,r))}this._attachedToViewContainer=!1}eu(this._lView[w],this._lView)}onDestroy(t){sg(this._lView,t)}markForCheck(){ms(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){Vl(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,Fm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=xr(this._lView),n=this._lView[Pn];n!==null&&!t&&Jc(n,this._lView),Nm(this._lView[w],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let n=xr(this._lView),r=this._lView[Pn];r!==null&&!n&&Hm(r,this._lView),Vl(this._lView)}};var ys=(()=>{class e{static __NG_ELEMENT_ID__=H0}return e})(),B0=ys,U0=class extends B0{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=xm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ar(i)}};function H0(){return $0(Ee(),Z())}function $0(e,t){return e.type&4?new U0(t,e,ls(e,t)):null}function ru(e,t,n,r,i){let o=e.data[t];if(o===null)o=z0(e,t,n,r,i),GD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=UD();o.injectorIndex=s===null?-1:s.injectorIndex}return jr(o,!0),o}function z0(e,t,n,r,i){let o=ug(),s=dg(),a=s?o:o&&o.parent,l=e.data[t]=W0(e,a,n,t,r,i);return G0(e,l,o,s),l}function G0(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function W0(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Vr()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var q0=new RegExp(`^(\\d+)*(${Zg}|${Yg})*(.*)`);function Y0(e){let t=e.match(q0),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[l,c,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[s,...a]}function Z0(e){return!e.prev&&e.parent?.type===8}function Dl(e){return e.index-oe}function K0(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function _s(e,t,n,r){let i=Dl(r),o=K0(e,i);if(o===void 0){let s=e.data[Uw];if(s?.[i])o=X0(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(Z0(r)){let c=Dl(r.parent);o=Xl(e,c)}else{let c=et(l,n);if(a)o=c.firstChild;else{let u=Dl(l),d=Xl(e,u);if(l.type===2&&d){let h=Uc(e,u)+1;o=vs(h,d)}else o=c.nextSibling}}}}return o}function vs(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function Q0(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case Fw:n=n.firstChild;break;case Lw:n=n.nextSibling;break}}return n}function X0(e,t){let[n,...r]=Y0(e),i;if(n===Yg)i=t[Me][ve];else if(n===Zg)i=Lb(t[Me][ve]);else{let o=Number(n);i=Be(t[o+oe])}return Q0(i,r)}var J0=!1;function eI(e){J0=e}function tI(e){let t=e[qe];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[q];for(let o of r.values())nI(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function nI(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-oe);i&&$c(e,i,!1)}}function $m(e){let t=e[ut]??[],r=e[ie][q],i=[];for(let o of t)o.data[Hw]!==void 0?i.push(o):zm(o,r);e[ut]=i}function rI(e){let{lContainer:t}=e,n=t[ut];if(n===null)return;let i=t[ie][q];for(let o of n)zm(o,i)}function zm(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[zo];for(;n<i;){let o=r.nextSibling;$c(t,r,!1),r=o,n++}}}function Es(e){$m(e);let t=e[ve];je(t)&&Yo(t);for(let n=_e;n<e.length;n++)Yo(e[n])}function Yo(e){tI(e);let t=e[w];for(let n=oe;n<t.bindingStartIndex;n++)if(Je(e[n])){let r=e[n];Es(r)}else je(e[n])&&Yo(e[n])}function Gm(e){let t=e._views;for(let n of t){let r=Db(n);r!==null&&r[ve]!==null&&(je(r)?Yo(r):Es(r))}}function iI(e,t,n,r){e!==null&&(n.cleanup(t),Es(e.lContainer),Gm(r))}function oI(e,t){let n=[];for(let r of t)for(let i=0;i<(r[Kg]??1);i++){let o={data:r,firstChild:null};r[zo]>0&&(o.firstChild=e,e=vs(r[zo],e)),n.push(o)}return[e,n]}var Wm=()=>null;function sI(e,t){let n=e[ut];return!t||n===null||n.length===0?null:n[0].data[Bw]===t?n.shift():($m(e),null)}function aI(){Wm=sI}function sp(e,t){return Wm(e,t)}var lI=class{},qm=class{},oc=class{resolveComponentFactory(t){throw Error(`No component factory found for ${be(t)}.`)}},iu=class{static NULL=new oc},Fn=class{},Cs=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>cI()}return e})();function cI(){let e=Z(),t=Ee(),n=Ke(t.index,e);return(je(n)?n:e)[q]}var uI=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:()=>null})}return e})();var wl={},Nn=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ts(r);let i=this.injector.get(t,wl,r);return i!==wl||n===wl?i:this.parentInjector.get(t,n,r)}};function ap(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Nh(i,a);else if(o==2){let l=a,c=t[++s];r=Nh(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Y(e,t=x.Default){let n=Z();if(n===null)return U(e,t);let r=Ee();return Ng(r,n,ue(e),t)}function Ym(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,l=null,c=null,u=fI(s);u===null?a=s:[a,l,c]=u,gI(e,t,n,a,o,l,c)}o!==null&&r!==null&&dI(n,r,o)}function dI(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new D(-301,!1);r.push(t[i],o)}}function fI(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Ze(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,hI(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function hI(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function pI(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function gI(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&Ze(h)&&(l=!0,pI(e,n,f)),Hl(jo(n,t),e,h.type)}CI(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=Dm(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Nr(n.mergedAttrs,h.hostAttrs),yI(e,n,t,d,h),EI(d,h,i),s!==null&&s.has(h)){let[m,I]=s.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}mI(e,n,o)}function mI(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))lp(0,t,i,r),lp(1,t,i,r),up(t,r,!1);else{let o=n.get(i);cp(0,t,o,r),cp(1,t,o,r),up(t,r,!0)}}}function lp(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Zm(t,o)}}function cp(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Zm(t,s)}}function Zm(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function up(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||zc(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function yI(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=An(i.type,!0)),s=new Qt(o,Ze(i),Y);e.blueprint[r]=s,n[r]=s,_I(e,t,r,Dm(e,n,i.hostVars,$n),i)}function _I(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;vI(s)!=a&&s.push(a),s.push(n,r,o)}}function vI(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function EI(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ze(t)&&(n[""]=e)}}function CI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Km(e,t,n,r,i,o,s,a){let l=t.consts,c=Fo(l,s),u=ru(t,e,2,r,c);return o&&Ym(t,n,u,Fo(l,a),i),u.mergedAttrs=Nr(u.mergedAttrs,u.attrs),u.attrs!==null&&ap(u,u.attrs,!1),u.mergedAttrs!==null&&ap(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function Qm(e,t){Dg(e,t),Xp(t)&&e.queries.elementEnd(t)}var sc=class extends iu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=On(t);return new Zo(n,this.ngModule)}};function DI(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&ps.SignalBased)!==0};return i&&(o.transform=i),o})}function wI(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function bI(e,t,n){let r=t instanceof ct?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Nn(n,r):n}function II(e){let t=e.get(Fn,null);if(t===null)throw new D(407,!1);let n=e.get(uI,null),r=e.get(Xt,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function MI(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Hc(t,n,n==="svg"?ND:n==="math"?AD:null)}var Zo=class extends qm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=DI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wI(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=qb(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){L(22);let o=P(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:Yb(this.componentDef.selectors[0]),l=Gc(0,null,null,1,0,null,null,null,null,[a],null),c=bI(s,i||this.ngModule,t),u=II(c),d=u.rendererFactory.createRenderer(null,s),f=r?Xb(d,r,s.encapsulation,c):MI(s,d),h=Wc(null,l,null,512|Cm(s),null,null,u,d,c,null,um(f,c,!0));h[oe]=f,Nc(h);let p=null;try{let m=Km(oe,l,h,"#host",()=>[this.componentDef],!0,0);f&&(vm(d,f,m),Hr(f,h)),Yc(l,h,m),hm(l,m,h),Qm(l,m),n!==void 0&&TI(m,this.ngContentSelectors,n),p=Ke(m.index,h),h[de]=p[de],Qc(l,h,null)}catch(m){throw p!==null&&Yl(p),Yl(h),m}finally{L(23),Ac()}return new ac(this.componentType,h)}finally{P(o)}}},ac=class extends lI{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=is(n[w],oe),this.location=ls(this._tNode,n),this.instance=Ke(this._tNode.index,n)[de],this.hostView=this.changeDetectorRef=new Ar(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Kc(r,i[w],i,t,n);this.previousInputValues.set(t,n);let s=Ke(r.index,i);ms(s,1)}get injector(){return new Wt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function TI(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ds=(()=>{class e{static __NG_ELEMENT_ID__=SI}return e})();function SI(){let e=Ee();return NI(e,Z())}var xI=Ds,Xm=class extends xI{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new Wt(this._hostTNode,this._hostLView)}get parentInjector(){let t=Rc(this._hostTNode,this._hostLView);if(bg(t)){let n=Vo(t,this._hostLView),r=Lo(t),i=n[w].data[r+8];return new Wt(i,n)}else return new Wt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=dp(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-_e}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sp(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,nc(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!MD(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Zo(On(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(ct,null);m&&(o=m)}let u=On(l.componentType??{}),d=sp(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,nc(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(OD(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[ie],c=new Xm(l,l[Ue],l[ie]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Um(s,i,o,r),t.attachToViewContainerRef(),Bp(bl(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=dp(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=qo(this._lContainer,n);r&&(No(bl(this._lContainer),n),eu(r[w],r))}detach(t){let n=this._adjustIndex(t,-1),r=qo(this._lContainer,n);return r&&No(bl(this._lContainer),n)!=null?new Ar(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function dp(e){return e[Po]}function bl(e){return e[Po]||(e[Po]=[])}function NI(e,t){let n,r=t[e.index];return Je(r)?n=r:(n=Bm(r,t,null,e),t[e.index]=n,qc(t,n)),Jm(n,t,e,r),new Xm(n,e,t)}function AI(e,t){let n=e[q],r=n.createComment(""),i=et(t,e),o=n.parentNode(i);return Go(n,o,r,n.nextSibling(i),!1),r}var Jm=ey,ou=()=>!1;function OI(e,t,n){return ou(e,t,n)}function ey(e,t,n,r){if(e[dt])return;let i;n.type&8?i=Be(r):i=AI(t,n),e[dt]=i}function RI(e,t,n){if(e[dt]&&e[ut])return!0;let r=n[qe],i=t.index-oe;if(!r||xw(t)||zr(r,i))return!1;let s=Xl(r,i),a=r.data[Vc]?.[i],[l,c]=oI(s,a);return e[dt]=l,e[ut]=c,!0}function PI(e,t,n,r){ou(e,n,t)||ey(e,t,n,r)}function kI(){Jm=PI,ou=RI}var Ko=class{};var Qo=class extends Ko{injector;componentFactoryResolver=new sc(this);instance=null;constructor(t){super();let n=new Tr([...t.providers,{provide:Ko,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],t.parent||bc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ty(e,t,n=null){return new Qo({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var FI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Dc(!1,n.type),i=r.length>0?ty([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(U(ct))})}return e})();function ny(e){return Rr(()=>{let t=ry(e),n=W(M({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Hg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(FI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Xe.Emulated,styles:e.styles||De,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&on("NgStandalone"),iy(n);let r=e.dependencies;return n.directiveDefs=fp(r,!1),n.pipeDefs=fp(r,!0),n.id=UI(n),n})}function LI(e){return On(e)||$p(e)}function VI(e){return e!==null}function Gn(e){return Rr(()=>({type:e.type,bootstrap:e.bootstrap||De,declarations:e.declarations||De,imports:e.imports||De,exports:e.exports||De,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function jI(e,t){if(e==null)return qt;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=ps.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function BI(e){if(e==null)return qt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function pt(e){return Rr(()=>{let t=ry(e);return iy(t),t})}function ry(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||qt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||De,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jI(e.inputs,t),outputs:BI(e.outputs),debugInfo:null}}function iy(e){e.features?.forEach(t=>t(e))}function fp(e,t){if(!e)return null;let n=t?zp:LI;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(VI)}function UI(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function HI(e){return Object.getPrototypeOf(e.prototype).constructor}function Wn(e){let t=HI(e.type),n=!0,r=[e];for(;t;){let i;if(Ze(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Il(e.inputs),s.declaredInputs=Il(e.declaredInputs),s.outputs=Il(e.outputs);let a=i.hostBindings;a&&qI(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&GI(e,l),c&&WI(e,c),$I(e,i),KC(e.outputs,i.outputs),Ze(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Wn&&(n=!1)}}t=Object.getPrototypeOf(t)}zI(r)}function $I(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function zI(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Nr(i.hostAttrs,n=Nr(n,i.hostAttrs))}}function Il(e){return e===qt?{}:e===De?[]:e}function GI(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function WI(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function qI(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function oy(e){return ZI(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function YI(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function ZI(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function ws(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function KI(e,t,n,r,i,o,s,a,l){let c=t.consts,u=ru(t,e,4,s||null,a||null);cg()&&Ym(t,n,u,Fo(c,l),Sm),u.mergedAttrs=Nr(u.mergedAttrs,u.attrs),Dg(t,u);let d=u.tView=Gc(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function QI(e,t,n,r,i,o,s,a,l,c){let u=n+oe,d=t.firstCreatePass?KI(u,t,e,r,i,o,s,a,l):t.data[u];jr(d,!1);let f=sy(t,e,d,n);Oc()&&tu(t,e,f,d),Hr(f,e);let h=Bm(f,e,f,d);return e[u]=h,qc(e,h),OI(h,d,e),Mc(d)&&Yc(t,e,d),l!=null&&Im(e,d,c),d}function Nt(e,t,n,r,i,o,s,a){let l=Z(),c=Se(),u=Fo(c.consts,o);return QI(l,c,e,t,n,r,i,u,s,a),Nt}var sy=ay;function ay(e,t,n,r){return xt(!0),t[q].createComment("")}function XI(e,t,n,r){let i=t[qe],o=!i||Vr()||zn(n)||zr(i,r);if(xt(o),o)return ay(e,t);let s=i.data[jw]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=_s(i,e,t,n);hs(i,r,a);let l=Uc(i,r);return vs(l,a)}function JI(){sy=XI}var eM=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?ty(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:e,providedIn:"environment",factory:()=>new e})}return e})();var tM=new E("");function Ml(e,t,n){return e.get(eM).getOrCreateInjector(t,e,n,"")}function nM(e,t,n){if(e instanceof Nn){let i=e.injector,o=e.parentInjector,s=Ml(o,t,n);return new Nn(i,s)}let r=e.get(ct);if(r!==e){let i=Ml(r,t,n);return new Nn(e,i)}return Ml(e,t,n)}function Mn(e,t,n,r=!1){let i=n[ie],o=i[w];if(tn(i))return;let s=$r(i,t),a=s[us],l=s[nb];if(!(l!==null&&e<l)&&hp(a,e)&&hp(s[Jw]??-1,e)){let c=ds(o,t),d=!r&&!0&&(ab(c)!==null||Jh(c,J.Loading)!==null||Jh(c,J.Placeholder))?oM:iM;try{d(e,s,n,t,i)}catch(f){Zc(i,f)}}}function rM(e,t){let n=e[ut]?.findIndex(i=>i.data[$w]===t[us])??-1;return{dehydratedView:n>-1?e[ut][n]:null,dehydratedViewIx:n}}function iM(e,t,n,r,i){L(20);let o=sb(e,i,r);if(o!==null){t[us]=e;let s=i[w],a=o+oe,l=is(s,a),c=0;V0(n,c);let u;if(e===J.Complete){let p=ds(s,r),m=p.providers;m&&m.length>0&&(u=nM(i[Ye],p,m))}let{dehydratedView:d,dehydratedViewIx:f}=rM(n,t),h=xm(i,l,null,{injector:u,dehydratedView:d});if(Um(n,h,c,nc(l,d)),ms(h,2),f>-1&&n[ut]?.splice(f,1),(e===J.Complete||e===J.Error)&&Array.isArray(t[xn])){for(let p of t[xn])p();t[xn]=null}}L(21)}function hp(e,t){return e<t}function pp(e,t,n){e.loadingPromise.then(()=>{e.loadingState===ye.COMPLETE?Mn(J.Complete,t,n):e.loadingState===ye.FAILED&&Mn(J.Error,t,n)})}var oM=null;var ly=new E("");var sM=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:()=>new lc})}return e})(),lc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Gr(e){return!!e&&typeof e.then=="function"}function cy(e){return!!e&&typeof e.subscribe=="function"}var aM=new E("");var uy=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=y(aM,{optional:!0})??[];injector=y(ft);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ic(this.injector,i);if(Gr(o))n.push(o);else if(cy(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wr=new E("");function lM(){Ha(()=>{throw new D(600,!1)})}function cM(e){return e.isBoundToModule}var uM=10;var Te=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(ww);afterRenderManager=y(nm);zonelessEnabled=y(as);rootEffectScheduler=y(sM);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new at;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(nn).hasPendingTasks.pipe($t(n=>!n));constructor(){y(Hn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=y(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ft.NULL){L(10);let o=n instanceof qm;if(!this._injector.get(uy).done){let h="";throw new D(405,h)}let a;o?a=n:a=this._injector.get(iu).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=cM(a)?void 0:this._injector.get(Ko),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,f=u.injector.get(ly,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),bo(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),L(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){L(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(jc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),L(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<uM;)L(14),this.synchronizeOnce(),L(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)dM(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>os(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Wr,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function dM(e,t,n,r){if(!n&&!os(e))return;Fm(e,t,n&&!r?0:1)}function fM(e,t,n){let r=t[Ye],i=t[w];if(e.loadingState!==ye.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=$r(t,n),s=lb(i,e);e.loadingState=ye.IN_PROGRESS,wo(1,o);let a=e.dependencyResolverFn,l=r.get(mw).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(c=>{let u=!1,d=[],f=[];for(let h of c)if(h.status==="fulfilled"){let p=h.value,m=On(p)||$p(p);if(m)d.push(m);else{let I=zp(p);I&&f.push(I)}}else{u=!0;break}if(u){if(e.loadingState=ye.FAILED,e.errorTmplIndex===null){let h="",p=new D(-750,!1);Zc(t,p)}}else{e.loadingState=ye.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=ep(h.directiveRegistry,d);let p=d.map(I=>I.type),m=Dc(!1,...p);e.providers=m}f.length>0&&(h.pipeRegistry=ep(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,l()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=ye.COMPLETE,l()}),e.loadingPromise)}function hM(e,t){return t[Ye].get(tM,null,{optional:!0})?.behavior!==im.Manual}function pM(e,t,n){let r=t[w],i=t[n.index];if(!hM(e,t))return;let o=$r(t,n),s=ds(r,n);switch(ib(o),s.loadingState){case ye.NOT_STARTED:Mn(J.Loading,n,i),fM(s,t,n),s.loadingState===ye.IN_PROGRESS&&pp(s,n,i);break;case ye.IN_PROGRESS:Mn(J.Loading,n,i),pp(s,n,i);break;case ye.COMPLETE:Mn(J.Complete,n,i);break;case ye.FAILED:Mn(J.Error,n,i);break;default:}}function gM(e,t,n){return B(this,null,function*(){let r=e.get(Bc);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=Sb(t,e);if(s.length===0)return;o!==null&&s.shift(),_M(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield gp(e,s,n):r.awaitParentBlock(a,()=>B(null,null,function*(){return yield gp(e,s,n)}))})}function gp(e,t,n){return B(this,null,function*(){let r=e.get(Bc),i=r.hydrating,o=e.get(nn),s=o.add();for(let l=0;l<t.length;l++){let c=t[l],u=r.get(c);if(u!=null){if(yield EM(u),yield vM(e),mM(u)){rI(u),mp(t.slice(l),r);break}i.get(c).resolve()}else{yM(l,t,r),mp(t.slice(l),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),iI(r.get(a),t,r,e.get(Te))})}function mM(e){return $r(e.lView,e.tNode)[us]===J.Error}function yM(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&Es(i.lContainer)}function mp(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function _M(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function vM(e){return new Promise(t=>rm(t,{injector:e}))}function EM(e){return B(this,null,function*(){let{tNode:t,lView:n}=e,r=$r(n,t);return new Promise(i=>{CM(r,i),pM(2,n,t)})})}function CM(e,t){Array.isArray(e[xn])||(e[xn]=[]),e[xn].push(t)}function DM(e,t,n,r){return ws(e,xc(),n)?t+Pp(n)+r:$n}function _o(e,t){return e<<17|t<<2}function Jt(e){return e>>17&32767}function wM(e){return(e&2)==2}function bM(e,t){return e&131071|t<<17}function cc(e){return e|2}function Ln(e){return(e&131068)>>2}function Tl(e,t){return e&-131069|t<<2}function IM(e){return(e&1)===1}function uc(e){return e|1}function MM(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Jt(s),l=Ln(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||kr(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=Jt(e[a+1]);e[r+1]=_o(f,a),f!==0&&(e[f+1]=Tl(e[f+1],r)),e[a+1]=bM(e[a+1],r)}else e[r+1]=_o(a,0),a!==0&&(e[a+1]=Tl(e[a+1],r)),a=r;else e[r+1]=_o(l,0),a===0?a=r:e[l+1]=Tl(e[l+1],r),l=r;c&&(e[r+1]=cc(e[r+1])),yp(e,u,r,!0),yp(e,u,r,!1),TM(t,u,e,r,o),s=_o(a,l),o?t.classBindings=s:t.styleBindings=s}function TM(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&kr(o,t)>=0&&(n[r+1]=uc(n[r+1]))}function yp(e,t,n,r){let i=e[n+1],o=t===null,s=r?Jt(i):Ln(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];SM(l,t)&&(a=!0,e[s+1]=r?uc(c):cc(c)),s=r?Jt(c):Ln(c)}a&&(e[n+1]=r?cc(i):uc(i))}function SM(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?kr(e,t)>=0:!1}function Ae(e,t,n){let r=Z(),i=xc();if(ws(r,i,t)){let o=Se(),s=vg();Tm(o,s,r,e,t,r[q],n,!1)}return Ae}function _p(e,t,n,r,i){Kc(t,e,n,i?"class":"style",r)}function su(e,t,n){return dy(e,t,n,!1),su}function qr(e,t){return dy(e,t,null,!0),qr}function dy(e,t,n,r){let i=Z(),o=Se(),s=zD(2);if(o.firstUpdatePass&&NM(o,e,s,r),t!==$n&&ws(i,s,t)){let a=o.data[Bn()];kM(o,a,i,i[q],e,i[s+1]=FM(t,n),r,s)}}function xM(e,t){return t>=e.expandoStartIndex}function NM(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Bn()],s=xM(e,n);LM(o,r)&&t===null&&!s&&(t=!1),t=AM(i,o,t,r),MM(i,o,t,n,s,r)}}function AM(e,t,n,r){let i=YD(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Sl(null,e,t,n,r),n=Or(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Sl(i,e,t,n,r),o===null){let l=OM(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Sl(null,e,t,l[1],r),l=Or(l,t.attrs,r),RM(e,t,r,l))}else o=PM(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function OM(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ln(r)!==0)return e[Jt(r)]}function RM(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Jt(i)]=r}function PM(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Or(r,s,n)}return Or(r,t.attrs,n)}function Sl(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Or(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Or(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),pD(e,s,n?!0:t[++o]))}return e===void 0?null:e}function kM(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=IM(c)?vp(l,t,n,i,Ln(c),s):void 0;if(!Xo(u)){Xo(o)||wM(c)&&(o=vp(l,null,n,i,a,s));let d=rg(Bn(),n);b0(r,s,d,i,o)}}function vp(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===$n&&(f=d?De:void 0);let h=d?pl(f,r):u===r?f:void 0;if(c&&!Xo(h)&&(h=pl(l,r)),Xo(h)&&(a=h,s))return a;let p=e[i+1];i=s?Jt(p):Ln(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=pl(l,r))}return a}function Xo(e){return e!==void 0}function FM(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=be(pm(e)))),e}function LM(e,t){return(e.flags&(t?8:16))!==0}function _(e,t,n,r){let i=Z(),o=Se(),s=oe+e,a=i[q],l=o.firstCreatePass?Km(s,o,i,t,Sm,cg(),n,r):o.data[s],c=fy(o,i,l,a,t,e);i[s]=c;let u=Mc(l);return jr(l,!0),vm(a,c,l),!zn(l)&&Oc()&&tu(o,i,c,l),(kD()===0||u)&&Hr(c,i),FD(),u&&(Yc(o,i,l),hm(o,l,i)),r!==null&&Im(i,l),_}function C(){let e=Ee();dg()?HD():(e=e.parent,jr(e,!1));let t=e;VD(t)&&BD(),LD();let n=Se();return n.firstCreatePass&&Qm(n,t),t.classesWithoutHost!=null&&JD(t)&&_p(n,t,Z(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ew(t)&&_p(n,t,Z(),t.stylesWithoutHost,!1),C}function gt(e,t,n,r){return _(e,t,n,r),C(),gt}var fy=(e,t,n,r,i,o)=>(xt(!0),Hc(r,i,Eg()));function VM(e,t,n,r,i,o){let s=t[qe],a=!s||Vr()||zn(n)||zr(s,o);if(xt(a),a)return Hc(r,i,Eg());let l=_s(s,e,t,n);return dm(s,o)&&hs(s,o,l.nextSibling),s&&(Bg(n)||Ug(l))&&en(n)&&(jD(n),_m(l)),l}function jM(){fy=VM}var BM=(e,t,n,r)=>(xt(!0),mm(t[q],""));function UM(e,t,n,r){let i,o=t[qe],s=!o||Vr()||zr(o,r)||zn(n);if(xt(s),s)return mm(t[q],"");let a=_s(o,e,t,n),l=Mb(o,r);return hs(o,r,a),i=vs(l,a),i}function HM(){BM=UM}function qn(){return Z()}var Jo="en-US";var $M=Jo;function zM(e){typeof e=="string"&&($M=e.toLowerCase().replace(/_/g,"-"))}function Ep(e,t,n){return function r(i){if(i===Function)return n;let o=en(e)?Ke(e.index,t):t;ms(o,5);let s=t[de],a=Cp(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Cp(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Cp(e,t,n,r){let i=P(null);try{return L(6,t,n),n(r)!==!1}catch(o){return GM(e,o),!1}finally{L(7,t,n),P(i)}}function GM(e,t){let n=e[Ye],r=n?n.get(Qe,null):null;r&&r.handleError(t)}function Dp(e,t,n,r,i,o){let s=t[n],a=t[w],c=a.data[n].outputs[r],u=s[c],d=a.firstCreatePass?lg(a):null,f=ag(t),h=u.subscribe(o),p=f.length;f.push(o,h),d&&d.push(i,e.index,p,-(p+1))}function fe(e,t,n,r){let i=Z(),o=Se(),s=Ee();return hy(o,i,i[q],s,e,t,r),fe}function WM(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Oo],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function hy(e,t,n,r,i,o,s){let a=Mc(r),c=e.firstCreatePass?lg(e):null,u=ag(t),d=!0;if(r.type&3||s){let f=et(r,t),h=s?s(f):f,p=u.length,m=s?z=>s(Be(z[r.index])):r.index,I=null;if(!s&&a&&(I=WM(e,t,i,r.index)),I!==null){let z=I.__ngLastListenerFn__||I;z.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,d=!1}else{o=Ep(r,t,o),pb(t,h,i,o);let z=n.listen(h,i,o);u.push(o,z),c&&c.push(i,m,p,p+1)}}else o=Ep(r,t,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],I=h[p+1];Dp(r,t,m,I,i,o)}if(f&&f.length)for(let p of f)Dp(r,t,p,i,i,o)}}function se(e=1){return KD(e)}function T(e,t=""){let n=Z(),r=Se(),i=e+oe,o=r.firstCreatePass?ru(r,i,1,t,null):r.data[i],s=py(r,n,o,t,e);n[i]=s,Oc()&&tu(r,n,s,o),jr(o,!1)}var py=(e,t,n,r,i)=>(xt(!0),gm(t[q],r));function qM(e,t,n,r,i){let o=t[qe],s=!o||Vr()||zn(n)||zr(o,i);return xt(s),s?gm(t[q],r):_s(o,e,t,n)}function YM(){py=qM}function mt(e){return sn("",e,""),mt}function sn(e,t,n){let r=Z(),i=DM(r,e,t,n);return i!==$n&&ZM(r,Bn(),i),sn}function ZM(e,t,n){let r=rg(t,e);Pb(e[q],r,n)}function au(e,t,n){jg(t)&&(t=t());let r=Z(),i=xc();if(ws(r,i,t)){let o=Se(),s=vg();Tm(o,s,r,e,t,r[q],n,!1)}return au}function gy(e,t){let n=jg(e);return n&&e.set(t),n}function lu(e,t){let n=Z(),r=Se(),i=Ee();return hy(r,n,n[q],i,e,t),lu}function KM(e,t,n){let r=Se();if(r.firstCreatePass){let i=Ze(e);dc(n,r.data,r.blueprint,i,!0),dc(t,r.data,r.blueprint,i,!1)}}function dc(e,t,n,r,i){if(e=ue(e),Array.isArray(e))for(let o=0;o<e.length;o++)dc(e[o],t,n,r,i);else{let o=Se(),s=Z(),a=Ee(),l=Rn(e)?e:ue(e.provide),c=qp(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Rn(e)||!e.multi){let h=new Qt(c,i,Y),p=Nl(l,t,i?u:u+f,d);p===-1?(Hl(jo(a,s),o,l),xl(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Nl(l,t,u+f,d),p=Nl(l,t,u,u+f),m=h>=0&&n[h],I=p>=0&&n[p];if(i&&!I||!i&&!m){Hl(jo(a,s),o,l);let z=JM(i?XM:QM,n.length,i,r,c);!i&&I&&(n[p].providerFactory=z),xl(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(z),s.push(z)}else{let z=my(n[i?p:h],c,!i&&r);xl(o,e,h>-1?h:p,z)}!i&&r&&I&&n[p].componentProviders++}}}function xl(e,t,n,r){let i=Rn(t),o=ED(t);if(i||o){let l=(o?ue(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function my(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Nl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function QM(e,t,n,r,i){return fc(this.multi,[])}function XM(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Bo(r,r[w],this.providerFactory.index,i);s=l.slice(0,a),fc(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],fc(o,s);return s}function fc(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function JM(e,t,n,r,i){let o=new Qt(e,n,Y);return o.multi=[],o.index=t,o.componentProviders=0,my(o,i,r&&!n),o}function cu(e,t=[]){return n=>{n.providersResolver=(r,i)=>KM(r,i?i(e):e,t)}}var eT=(()=>{class e{zone=y(ee);changeDetectionScheduler=y(Xt);applicationRef=y(Te);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tT=new E("",{factory:()=>!1});function yy({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ee(W(M({},vy()),{scheduleInRootZone:n})),[{provide:ee,useFactory:e},{provide:Yt,multi:!0,useFactory:()=>{let r=y(eT,{optional:!0});return()=>r.initialize()}},{provide:Yt,multi:!0,useFactory:()=>{let r=y(nT);return()=>{r.initialize()}}},t===!0?{provide:kg,useValue:!0}:[],{provide:Fg,useValue:n??Pg}]}function _y(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=yy({ngZoneFactory:()=>{let i=vy(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&on("NgZone_CoalesceEvent"),new ee(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Fr([{provide:tT,useValue:!0},{provide:as,useValue:!1},r])}function vy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var nT=(()=>{class e{subscription=new ce;initialized=!1;zone=y(ee);pendingTasks=y(nn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rT=(()=>{class e{appRef=y(Te);taskService=y(nn);ngZone=y(ee);zonelessEnabled=y(as);tracing=y(Hn,{optional:!0});disableScheduling=y(kg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ho):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Fg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ql||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Wh:Lg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ho+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Wh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iT(){return typeof $localize<"u"&&$localize.locale||Jo}var uu=new E("",{providedIn:"root",factory:()=>y(uu,x.Optional|x.SkipSelf)||iT()});var hc=new E(""),oT=new E("");function wr(e){return!e.moduleRef}function sT(e){let t=wr(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ee);return n.run(()=>{wr(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Qe,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),wr(e)){let o=()=>t.destroy(),s=e.platformInjector.get(hc);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(hc);s.add(o),e.moduleRef.onDestroy(()=>{bo(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return lT(r,n,()=>{let o=t.get(uy);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(uu,Jo);if(zM(s||Jo),!t.get(oT,!0))return wr(e)?t.get(Te):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(wr(e)){let l=t.get(Te);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return aT(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function aT(e,t){let n=e.injector.get(Te);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new D(-403,!1);t.push(e)}function lT(e,t,n){try{let r=n();return Gr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Io=null;function cT(e=[],t){return ft.create({name:t,providers:[{provide:ns,useValue:"platform"},{provide:hc,useValue:new Set([()=>Io=null])},...e]})}function uT(e=[]){if(Io)return Io;let t=cT(e);return Io=t,lM(),dT(t),t}function dT(e){let t=e.get(Fc,null);Ic(e,()=>{t?.forEach(n=>n())})}var du=(()=>{class e{static __NG_ELEMENT_ID__=fT}return e})();function fT(e){return hT(Ee(),Z(),(e&16)===16)}function hT(e,t,n){if(en(e)&&!n){let r=Ke(e.index,t);return new Ar(r,r)}else if(e.type&175){let r=t[Me];return new Ar(r,t)}return null}var pc=class{constructor(){}supports(t){return oy(t)}create(t){return new gc(t)}},pT=(e,t)=>t,gc=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||pT}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<wp(r,i,o)?n:r,a=wp(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!oy(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,YI(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new mc(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new es),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new es),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},mc=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},yc=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},es=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new yc,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wp(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function bp(){return new fu([new pc])}var fu=(()=>{class e{factories;static \u0275prov=V({token:e,providedIn:"root",factory:bp});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||bp()),deps:[[e,new fD,new jp]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new D(901,!1)}}return e})();function Ey(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;L(8);try{let o=i?.injector??uT(r),s=[yy({}),{provide:Xt,useExisting:rT},...n||[]],a=new Qo({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return sT({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{L(9)}}var vo=new WeakSet,Ip="",Mo=[];function Mp(e){return e.get(em,Gw)}function Cy(){let e=[{provide:em,useFactory:()=>{let t=!0;{let n=y(lt);t=!!window._ejsas?.[n]}return t&&on("NgEventReplay"),t}}];return e.push({provide:Yt,useValue:()=>{let t=y(Te),{injector:n}=t;if(!vo.has(t)){let r=y(Kh);if(Mp(n)){gb();let i=n.get(lt),o=hb(i,(s,a,l)=>{s.nodeType===Node.ELEMENT_NODE&&(cb(s,a,l),ub(s,r))});t.onDestroy(o)}}},multi:!0},{provide:Wr,useFactory:()=>{let t=y(Te),{injector:n}=t;return()=>{!Mp(n)||vo.has(t)||(vo.add(t),t.onDestroy(()=>{vo.delete(t);{let r=n.get(lt);hl(r)}}),t.whenStable().then(()=>{if(t.destroyed)return;let r=n.get(fb);gT(r,n);let i=n.get(Kh);i.get(Ip)?.forEach(db),i.delete(Ip);let o=r.instance;Ib(n)?t.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),e}var gT=(e,t)=>{let n=t.get(lt),r=window._ejsas[n],i=e.instance=new Sh(new po(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=xh(n);i.replayEarlyEventInfos(o),hl(n);let s=new go(a=>{mT(t,a,a.currentTarget)});Th(i,s)};function mT(e,t,n){let r=(n&&n.getAttribute(fs))??"";/d\d+/.test(r)?yT(r,e,t,n):t.eventPhase===fl.REPLAY&&sm(t,n)}function yT(e,t,n,r){Mo.push({event:n,currentTarget:r}),gM(t,e,_T)}function _T(e){let t=[...Mo],n=new Set(e);Mo=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(fs);n.has(o)?sm(r,i):Mo.push({event:r,currentTarget:i})}}var Tp=!1;function vT(){Tp||(Tp=!0,Cb(),jM(),YM(),HM(),JI(),kI(),aI(),t0())}function ET(e){return e.whenStable()}function Dy(){let e=[{provide:yo,useFactory:()=>{let t=!0;return t=!!y(Un,{optional:!0})?.get(lm,null),t&&on("NgHydration"),t}},{provide:Yt,useValue:()=>{eI(!1),y(yo)&&(xb(cs()),vT())},multi:!0}];return e.push({provide:Jg,useFactory:()=>y(yo)},{provide:Wr,useFactory:()=>{if(y(yo)){let t=y(Te);return()=>{ET(t).then(()=>{t.destroyed||Gm(t)})}}return()=>{}},multi:!0}),Fr(e)}function wy(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function At(e){return Wa(e)}function Yr(e,t){return Ua(e,t?.equal)}var Sp=class{[ke];constructor(t){this[ke]=t}destroy(){this[ke].destroy()}};var tt=new E("");var by=null;function Ot(){return by}function hu(e){by??=e}var Zr=class{};var bs=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ms=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bs(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Iy(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Iy(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Y(Ds),Y(ys),Y(fu))};static \u0275dir=pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Iy(e,t){e.context.$implicit=t.item}var pu=(()=>{class e{_viewContainer;_context=new Is;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){My(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){My(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Y(Ds),Y(ys))};static \u0275dir=pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Is=class{$implicit=null;ngIf=null};function My(e,t){if(e&&!e.createEmbeddedView)throw new D(2020,!1)}var Ts=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gn({type:e});static \u0275inj=Vn({})}return e})();function gu(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Ss="browser",Ty="server";function mu(e){return e===Ss}function xs(e){return e===Ty}var Kr=class{};var Os=new E(""),Eu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(U(Os),U(ee))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),Qr=class{_doc;constructor(t){this._doc=t}manager},Ns="ng-app-id";function Sy(e){for(let t of e)t.remove()}function xy(e,t){let n=t.createElement("style");return n.textContent=e,n}function DT(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Ns}="${t}"],link[${Ns}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Ns),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function _u(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Cu=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=xs(o),DT(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,xy);r?.forEach(i=>this.addUsage(i,this.external,_u))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Sy(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Sy(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,xy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,_u(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ns,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(U(tt),U(lt),U(Lc,8),U(rn))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),yu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Du=/%COMP%/g;var Ay="%COMP%",wT=`_nghost-${Ay}`,bT=`_ngcontent-${Ay}`,IT=!0,MT=new E("",{providedIn:"root",factory:()=>IT});function TT(e){return bT.replace(Du,e)}function ST(e){return wT.replace(Du,e)}function Oy(e,t){return t.map(n=>n.replace(Du,e))}var wu=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=xs(a),this.defaultRenderer=new Xr(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xe.ShadowDom&&(r=W(M({},r),{encapsulation:Xe.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof As?i.applyToHost(n):i instanceof Jr&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Xe.Emulated:o=new As(l,c,r,this.appId,u,s,a,d,f);break;case Xe.ShadowDom:return new vu(l,c,n,r,s,a,this.nonce,d,f);default:o=new Jr(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(U(Eu),U(Cu),U(lt),U(MT),U(tt),U(rn),U(ee),U(Lc),U(Hn,8))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),Xr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(yu[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Ny(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ny(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=yu[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=yu[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ht.DashCase|ht.Important)?t.style.setProperty(n,r,i&ht.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ht.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Ot().getGlobalEventTarget(this.doc,t),!t))throw new D(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Ny(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var vu=class extends Xr{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Oy(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=_u(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jr=class extends Xr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Oy(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},As=class extends Jr{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=TT(u),this.hostAttr=ST(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Rs=class e extends Zr{supportsDOMEvents=!0;static makeCurrent(){hu(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=NT();return n==null?null:AT(n)}resetBaseElement(){ei=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gu(document.cookie,t)}},ei=null;function NT(){return ei=ei||document.head.querySelector("base"),ei?ei.getAttribute("href"):null}function AT(e){return new URL(e,document.baseURI).pathname}var OT=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),Py=(()=>{class e extends Qr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(U(tt))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),Ry=["alt","control","meta","shift"],RT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ky=(()=>{class e extends Qr{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ot().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ry.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=RT[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ry.forEach(s=>{if(s!==i){let a=PT[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(U(tt))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})();function bu(e,t,n){return Ey(M({rootComponent:e,platformRef:n?.platformRef},kT(t)))}function kT(e){return{appProviders:[...BT,...e?.providers??[]],platformProviders:jT}}function FT(){Rs.makeCurrent()}function LT(){return new Qe}function VT(){return qg(document),document}var jT=[{provide:rn,useValue:Ss},{provide:Fc,useValue:FT,multi:!0},{provide:tt,useFactory:VT}];var BT=[{provide:ns,useValue:"root"},{provide:Qe,useFactory:LT},{provide:Os,useClass:Py,multi:!0,deps:[tt]},{provide:Os,useClass:ky,multi:!0,deps:[tt]},wu,Cu,Eu,{provide:Fn,useExisting:wu},{provide:Kr,useClass:OT},[]];var ti=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var UT="X-Request-URL",HT="text/plain",$T="application/json",VL=`${$T}, ${HT}, */*`;var Mu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Mu||{}),Iu=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new ti,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var ni=class e extends Iu{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Mu.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Fy=new E("");var jL=RegExp(`^${UT}:`,"m");var zT=new E(""),GT="b",WT="h",qT="s",YT="st",ZT="u",KT="rt",Tu=new E(""),QT=["GET","HEAD"];function XT(e,t){let f=y(Tu),{isCacheActive:n}=f,r=Rf(f,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!QT.includes(o)||!r.includeRequestsWithAuthHeaders&&JT(e)||r.filter?.(e)===!1)return t(e);let s=y(Un);if(y(zT,{optional:!0}))throw new D(2803,!1);let l=e.url,c=eS(e,l),u=s.get(c,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[GT]:h,[KT]:p,[WT]:m,[qT]:I,[YT]:z,[ZT]:Re}=u,Pe=h;switch(p){case"arraybuffer":Pe=new TextEncoder().encode(h).buffer;break;case"blob":Pe=new Blob([h]);break}let yr=new ti(m);return tl(new ni({body:Pe,headers:yr,status:I,statusText:z,url:Re}))}return t(e).pipe(rl(h=>{h instanceof ni}))}function JT(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function Ly(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function eS(e,t){let{params:n,method:r,responseType:i}=e,o=Ly(n),s=e.serializeBody();s instanceof URLSearchParams?s=Ly(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),l=tS(a);return l}function tS(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function Vy(e){return[{provide:Tu,useFactory:()=>(on("NgHttpTransferCache"),M({isCacheActive:!0},e))},{provide:Fy,useValue:XT,multi:!0},{provide:Wr,multi:!0,useFactory:()=>{let t=y(Te),n=y(Tu);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Ps=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(Ps||{});function rS(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function jy(){return rS(Ps.EventReplay,Cy())}function By(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(Ps.HttpTransferCacheOptions);return Fr([[],Dy(),n.has(Ps.NoHttpTransferCache)||r?[]:Vy({}),t])}var Uy={providers:[_y({eventCoalescing:!0}),By(jy())]};var Zy=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Y(Cs),Y(Br))};static \u0275dir=pt({type:e})}return e})(),iS=(()=>{class e extends Zy{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Og(e)))(i||e)}})();static \u0275dir=pt({type:e,features:[Wn]})}return e})(),Ky=new E("");var oS={provide:Ky,useExisting:Pr(()=>js),multi:!0};function sS(){let e=Ot()?Ot().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var aS=new E(""),js=(()=>{class e extends Zy{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!sS())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(Y(Cs),Y(Br),Y(aS,8))};static \u0275dir=pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[cu([oS]),Wn]})}return e})();var lS=new E(""),cS=new E("");function Qy(e){return e!=null}function Xy(e){return Gr(e)?Dr(e):e}function Jy(e){let t={};return e.forEach(n=>{t=n!=null?M(M({},t),n):t}),Object.keys(t).length===0?null:t}function e_(e,t){return t.map(n=>n(e))}function uS(e){return!e.validate}function t_(e){return e.map(t=>uS(t)?t:n=>t.validate(n))}function dS(e){if(!e)return null;let t=e.filter(Qy);return t.length==0?null:function(n){return Jy(e_(n,t))}}function n_(e){return e!=null?dS(t_(e)):null}function fS(e){if(!e)return null;let t=e.filter(Qy);return t.length==0?null:function(n){let r=e_(n,t).map(Xy);return nl(r).pipe($t(Jy))}}function r_(e){return e!=null?fS(t_(e)):null}function Hy(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function hS(e){return e._rawValidators}function pS(e){return e._rawAsyncValidators}function Su(e){return e?Array.isArray(e)?e:[e]:[]}function Fs(e,t){return Array.isArray(e)?e.includes(t):e===t}function $y(e,t){let n=Su(t);return Su(e).forEach(i=>{Fs(n,i)||n.push(i)}),n}function zy(e,t){return Su(t).filter(n=>!Fs(e,n))}var Ls=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=n_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=r_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},xu=class extends Ls{name;get formDirective(){return null}get path(){return null}},ai=class extends Ls{_parent=null;name=null;valueAccessor=null},Nu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gS={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZV=W(M({},gS),{"[class.ng-submitted]":"isSubmitted"}),i_=(()=>{class e extends Nu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Y(ai,2))};static \u0275dir=pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Wn]})}return e})();var ri="VALID",ks="INVALID",Zn="PENDING",ii="DISABLED",Qn=class{},Vs=class extends Qn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},oi=class extends Qn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},si=class extends Qn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Kn=class extends Qn{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function mS(e){return(Bs(e)?e.validators:e)||null}function yS(e){return Array.isArray(e)?n_(e):e||null}function _S(e,t){return(Bs(t)?t.asyncValidators:e)||null}function vS(e){return Array.isArray(e)?r_(e):e||null}function Bs(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Au=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return At(this.statusReactive)}set status(t){At(()=>this.statusReactive.set(t))}_status=Yr(()=>this.statusReactive());statusReactive=Ur(void 0);get valid(){return this.status===ri}get invalid(){return this.status===ks}get pending(){return this.status==Zn}get disabled(){return this.status===ii}get enabled(){return this.status!==ii}errors;get pristine(){return At(this.pristineReactive)}set pristine(t){At(()=>this.pristineReactive.set(t))}_pristine=Yr(()=>this.pristineReactive());pristineReactive=Ur(!0);get dirty(){return!this.pristine}get touched(){return At(this.touchedReactive)}set touched(t){At(()=>this.touchedReactive.set(t))}_touched=Yr(()=>this.touchedReactive());touchedReactive=Ur(!1);get untouched(){return!this.touched}_events=new at;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators($y(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($y(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zy(t,this._rawAsyncValidators))}hasValidator(t){return Fs(this._rawValidators,t)}hasAsyncValidator(t){return Fs(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(W(M({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new si(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new si(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(W(M({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new oi(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new oi(!0,r))}markAsPending(t={}){this.status=Zn;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Kn(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(W(M({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ii,this.errors=null,this._forEachChild(i=>{i.disable(W(M({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Vs(this.value,r)),this._events.next(new Kn(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(M({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ri,this._forEachChild(r=>{r.enable(W(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(W(M({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ri||this.status===Zn)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Vs(this.value,n)),this._events.next(new Kn(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(W(M({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ii:ri}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Zn,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Xy(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Kn(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?ii:this.errors?ks:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zn)?Zn:this._anyControlsHaveStatus(ks)?ks:ri}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new oi(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new si(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bs(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=yS(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=vS(this._rawAsyncValidators)}};var o_=new E("",{providedIn:"root",factory:()=>Ou}),Ou="always";function ES(e,t){return[...t.path,e]}function CS(e,t,n=Ou){wS(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),bS(e,t),MS(e,t),IS(e,t),DS(e,t)}function Gy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function DS(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function wS(e,t){let n=hS(e);t.validator!==null?e.setValidators(Hy(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=pS(e);t.asyncValidator!==null?e.setAsyncValidators(Hy(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Gy(t._rawValidators,i),Gy(t._rawAsyncValidators,i)}function bS(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&s_(e,t)})}function IS(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&s_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function s_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function MS(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function TS(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function SS(e){return Object.getPrototypeOf(e.constructor)===iS}function xS(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===js?n=o:SS(o)?r=o:i=o}),i||r||n||null}function Wy(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function qy(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var NS=class extends Au{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(mS(n),_S(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bs(n)&&(n.nonNullable||n.initialValueIsDefault)&&(qy(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Wy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Wy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){qy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var AS={provide:ai,useExisting:Pr(()=>Ru)},Yy=Promise.resolve(),Ru=(()=>{class e extends ai{_changeDetectorRef;callSetDisabledState;control=new NS;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new we;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=xS(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),TS(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){CS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Yy.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&wy(r);Yy.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ES(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(Y(xu,9),Y(lS,10),Y(cS,10),Y(Ky,10),Y(du,8),Y(o_,8))};static \u0275dir=pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[cu([AS]),Wn,Tc]})}return e})();var OS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gn({type:e});static \u0275inj=Vn({})}return e})();var a_=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:o_,useValue:n.callSetDisabledState??Ou}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Gn({type:e});static \u0275inj=Vn({imports:[OS]})}return e})();var l_=()=>{};var Pu={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var g=function(e,t){if(!e)throw ln(t)},ln=function(e){return new Error("Firebase Database ("+Pu.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var d_=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},PS=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},$s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;l||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):PS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let c=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new ku;let f=o<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ku=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Fu=function(e){let t=d_(e);return $s.encodeByteArray(t,!0)},ci=function(e){return Fu(e).replace(/\./g,"")},Us=function(e){try{return $s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f_(e){return h_(void 0,e)}function h_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!kS(n)||(e[n]=h_(e[n],t[n]));return e}function kS(e){return e!=="__proto__"}function FS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var LS=()=>FS().__FIREBASE_DEFAULTS__,VS=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Us(e[1]);return t&&JSON.parse(t)},p_=()=>{try{return l_()||LS()||VS()||jS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},BS=e=>p_()?.emulatorHosts?.[e],g_=e=>{let t=BS(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Lu=()=>p_()?.config;var Rt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function zs(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function m_(e){return B(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function y_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=M({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ci(JSON.stringify(n)),ci(JSON.stringify(s)),""].join(".")}var li={};function US(){let e={prod:[],emulator:[]};for(let t of Object.keys(li))li[t]?e.emulator.push(t):e.prod.push(t);return e}function HS(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var c_=!1;function __(e,t){if(typeof window>"u"||typeof document>"u"||!zs(window.location.host)||li[e]===t||li[e]||c_)return;li[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=US().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{c_=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=HS(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),m=n("learnmore"),I=document.getElementById(m)||document.createElement("a"),z=n("preprendIcon"),Re=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let Pe=f.element;a(Pe),u(I,m);let yr=c();l(Re,z),Pe.append(Re,p,I,yr),document.body.appendChild(Pe)}o?(p.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function $S(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($S())}function v_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nt(){return Pu.NODE_CLIENT===!0||Pu.NODE_ADMIN===!0}function E_(){try{return typeof indexedDB=="object"}catch{return!1}}function C_(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}var zS="FirebaseError",an=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zS,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}},ui=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?GS(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new an(i,a,r)}};function GS(e,t){return e.replace(WS,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var WS=/\{\$([^}]+)}/g;function Xn(e){return JSON.parse(e)}function te(e){return JSON.stringify(e)}var D_=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Xn(Us(o[0])||""),n=Xn(Us(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var w_=function(e){let t=D_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},b_=function(e){let t=D_(e).claims;return typeof t=="object"&&t.admin===!0};function rt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cn(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ju(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function di(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Jn(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(u_(o)&&u_(s)){if(!Jn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function u_(e){return e!==null&&typeof e=="object"}function I_(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Hs=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function Gs(e,t){return`${e} failed: ${t} argument `}var M_=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,g(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},fi=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var e2=4*60*60*1e3;function er(e){return e&&e._delegate?e._delegate:e}var yt=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var un="[DEFAULT]";var Ws=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Rt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){let n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YS(t))try{this.getOrInitializeService({instanceIdentifier:un})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=un){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return B(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=un){return this.instances.has(t)}getOptions(t=un){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=un){return this.component?this.component.multipleInstances?t:un:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qS(e){return e===un?void 0:e}function YS(e){return e.instantiationMode==="EAGER"}var hi=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Ws(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var ZS=[],H=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(H||{}),KS={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},QS=H.INFO,XS={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},JS=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=XS[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},tr=class{constructor(t){this.name=t,this._logLevel=QS,this._logHandler=JS,this._userLogHandler=null,ZS.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in H))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...t),this._logHandler(this,H.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...t),this._logHandler(this,H.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,H.INFO,...t),this._logHandler(this,H.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,H.WARN,...t),this._logHandler(this,H.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...t),this._logHandler(this,H.ERROR,...t)}};var ex=(e,t)=>t.some(n=>e instanceof n),T_,S_;function tx(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var x_=new WeakMap,Uu=new WeakMap,N_=new WeakMap,Bu=new WeakMap,$u=new WeakMap;function rx(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(it(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&x_.set(n,e)}).catch(()=>{}),$u.set(t,e),t}function ix(e){if(Uu.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Uu.set(e,t)}var Hu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Uu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||N_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return it(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function A_(e){Hu=e(Hu)}function ox(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(qs(this),t,...n);return N_.set(r,t.sort?t.sort():[t]),it(r)}:nx().includes(e)?function(...t){return e.apply(qs(this),t),it(x_.get(this))}:function(...t){return it(e.apply(qs(this),t))}}function sx(e){return typeof e=="function"?ox(e):(e instanceof IDBTransaction&&ix(e),ex(e,tx())?new Proxy(e,Hu):e)}function it(e){if(e instanceof IDBRequest)return rx(e);if(Bu.has(e))return Bu.get(e);let t=sx(e);return t!==e&&(Bu.set(e,t),$u.set(t,e)),t}var qs=e=>$u.get(e);function R_(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=it(s);return r&&s.addEventListener("upgradeneeded",l=>{r(it(s.result),l.oldVersion,l.newVersion,it(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var ax=["get","getKey","getAll","getAllKeys","count"],lx=["put","add","delete","clear"],zu=new Map;function O_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zu.get(t))return zu.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=lx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ax.includes(n)))return;let o=function(s,...a){return B(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return zu.set(t,o),o}A_(e=>W(M({},e),{get:(t,n,r)=>O_(t,n)||e.get(t,n,r),has:(t,n)=>!!O_(t,n)||e.has(t,n)}));var Wu=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cx(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function cx(e){return e.getComponent()?.type==="VERSION"}var qu="@firebase/app",P_="0.14.6";var _t=new tr("@firebase/app"),ux="@firebase/app-compat",dx="@firebase/analytics-compat",fx="@firebase/analytics",hx="@firebase/app-check-compat",px="@firebase/app-check",gx="@firebase/auth",mx="@firebase/auth-compat",yx="@firebase/database",_x="@firebase/data-connect",vx="@firebase/database-compat",Ex="@firebase/functions",Cx="@firebase/functions-compat",Dx="@firebase/installations",wx="@firebase/installations-compat",bx="@firebase/messaging",Ix="@firebase/messaging-compat",Mx="@firebase/performance",Tx="@firebase/performance-compat",Sx="@firebase/remote-config",xx="@firebase/remote-config-compat",Nx="@firebase/storage",Ax="@firebase/storage-compat",Ox="@firebase/firestore",Rx="@firebase/ai",Px="@firebase/firestore-compat",kx="firebase",Fx="12.6.0";var Yu="[DEFAULT]",Lx={[qu]:"fire-core",[ux]:"fire-core-compat",[fx]:"fire-analytics",[dx]:"fire-analytics-compat",[px]:"fire-app-check",[hx]:"fire-app-check-compat",[gx]:"fire-auth",[mx]:"fire-auth-compat",[yx]:"fire-rtdb",[_x]:"fire-data-connect",[vx]:"fire-rtdb-compat",[Ex]:"fire-fn",[Cx]:"fire-fn-compat",[Dx]:"fire-iid",[wx]:"fire-iid-compat",[bx]:"fire-fcm",[Ix]:"fire-fcm-compat",[Mx]:"fire-perf",[Tx]:"fire-perf-compat",[Sx]:"fire-rc",[xx]:"fire-rc-compat",[Nx]:"fire-gcs",[Ax]:"fire-gcs-compat",[Ox]:"fire-fst",[Px]:"fire-fst-compat",[Rx]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};var Ys=new Map,Vx=new Map,Zu=new Map;function k_(e,t){try{e.container.addComponent(t)}catch(n){_t.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function pi(e){let t=e.name;if(Zu.has(t))return _t.debug(`There were multiple attempts to register component ${t}.`),!1;Zu.set(t,e);for(let n of Ys.values())k_(n,e);for(let n of Vx.values())k_(n,e);return!0}function j_(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function B_(e){return e==null?!1:e.settings!==void 0}var jx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pt=new ui("app","Firebase",jx);var Ku=class{constructor(t,n,r){this._isDeleted=!1,this._options=M({},t),this._config=M({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pt.create("app-deleted",{appName:this._name})}};var U_=Fx;function Ju(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=M({name:Yu,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Pt.create("bad-app-name",{appName:String(i)});if(n||(n=Lu()),!n)throw Pt.create("no-options");let o=Ys.get(i);if(o){if(Jn(n,o.options)&&Jn(r,o.config))return o;throw Pt.create("duplicate-app",{appName:i})}let s=new hi(i);for(let l of Zu.values())s.addComponent(l);let a=new Ku(n,r,s);return Ys.set(i,a),a}function H_(e=Yu){let t=Ys.get(e);if(!t&&e===Yu&&Lu())return Ju();if(!t)throw Pt.create("no-app",{appName:e});return t}function kt(e,t,n){let r=Lx[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_t.warn(s.join(" "));return}pi(new yt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var Bx="firebase-heartbeat-database",Ux=1,gi="firebase-heartbeat-store",Gu=null;function $_(){return Gu||(Gu=R_(Bx,Ux,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(gi)}catch(n){console.warn(n)}}}}).catch(e=>{throw Pt.create("idb-open",{originalErrorMessage:e.message})})),Gu}function Hx(e){return B(this,null,function*(){try{let n=(yield $_()).transaction(gi),r=yield n.objectStore(gi).get(z_(e));return yield n.done,r}catch(t){if(t instanceof an)_t.warn(t.message);else{let n=Pt.create("idb-get",{originalErrorMessage:t?.message});_t.warn(n.message)}}})}function F_(e,t){return B(this,null,function*(){try{let r=(yield $_()).transaction(gi,"readwrite");yield r.objectStore(gi).put(t,z_(e)),yield r.done}catch(n){if(n instanceof an)_t.warn(n.message);else{let r=Pt.create("idb-set",{originalErrorMessage:n?.message});_t.warn(r.message)}}})}function z_(e){return`${e.name}!${e.options.appId}`}var $x=1024,zx=30,Qu=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xu(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return B(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>zx){let i=Wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_t.warn(t)}})}getHeartbeatsHeader(){return B(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=L_(),{heartbeatsToSend:n,unsentEntries:r}=Gx(this._heartbeatsCache.heartbeats),i=ci(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return _t.warn(t),""}})}};function L_(){return new Date().toISOString().substring(0,10)}function Gx(e,t=$x){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),V_(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xu=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return B(this,null,function*(){return E_()?C_().then(()=>!0).catch(()=>!1):!1})}read(){return B(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Hx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return B(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return B(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function V_(e){return ci(JSON.stringify({version:2,heartbeats:e})).length}function Wx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function qx(e){pi(new yt("platform-logger",t=>new Wu(t),"PRIVATE")),pi(new yt("heartbeat",t=>new Qu(t),"PRIVATE")),kt(qu,P_,e),kt(qu,P_,"esm2020"),kt("fire-js","")}qx("");var Yx="firebase",Zx="12.7.0";kt(Yx,Zx,"app");var G_="@firebase/database",W_="1.1.0";var of="";function Kx(e){of=e}var ad=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),te(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Xn(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var ld=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return rt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var Iv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ad(t)}}catch{}return new ld},fn=Iv("localStorage"),cd=Iv("sessionStorage");var ir=new tr("@firebase/database"),Qx=function(){let e=1;return function(){return e++}}(),Mv=function(e){let t=M_(e),n=new Hs;n.update(t);let r=n.digest();return $s.encodeByteArray(r)},Ai=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ai.apply(null,r):typeof r=="object"?t+=te(r):t+=r,t+=" "}return t},pn=null,q_=!0,Xx=function(e,t){g(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ir.logLevel=H.VERBOSE,pn=ir.log.bind(ir),t&&cd.set("logging_enabled",!0)):typeof e=="function"?pn=e:(pn=null,cd.remove("logging_enabled"))},le=function(...e){if(q_===!0&&(q_=!1,pn===null&&cd.get("logging_enabled")===!0&&Xx(!0)),pn){let t=Ai.apply(null,e);pn(t)}},Oi=function(e){return function(...t){le(e,...t)}},ud=function(...e){let t="FIREBASE INTERNAL ERROR: "+Ai(...e);ir.error(t)},vt=function(...e){let t=`FIREBASE FATAL ERROR: ${Ai(...e)}`;throw ir.error(t),new Error(t)},pe=function(...e){let t="FIREBASE WARNING: "+Ai(...e);ir.warn(t)},Jx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Tv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},eN=function(e){if(nt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ar="[MIN_NAME]",gn="[MAX_NAME]",pr=function(e,t){if(e===t)return 0;if(e===ar||t===gn)return-1;if(t===ar||e===gn)return 1;{let n=Y_(e),r=Y_(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},tN=function(e,t){return e===t?0:e<t?-1:1},mi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+te(t))},sf=function(e){if(typeof e!="object"||e===null)return te(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=te(t[r]),n+=":",n+=sf(e[t[r]]);return n+="}",n},Sv=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ge(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var xv=function(e){g(!Tv(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},nN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iN(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var oN=new RegExp("^-?(0*)\\d{1,10}$"),sN=-2147483648,aN=2147483647,Y_=function(e){if(oN.test(e)){let t=Number(e);if(t>=sN&&t<=aN)return t}return null},gr=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw pe("Exception was thrown by user callback.",n),t},Math.floor(0))}},lN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ci=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var dd=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,B_(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){pe(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var fd=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(le("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pe(t)}},Di=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Ks="5",Nv="v",Av="s",Ov="r",Rv="f",Pv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kv="ls",Fv="p",hd="ac",Lv="websocket",Vv="long_polling";var Qs=class{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&fn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function cN(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function jv(e,t,n){g(typeof t=="string","typeof type must == string"),g(typeof n=="object","typeof params must == object");let r;if(t===Lv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Vv)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);cN(e)&&(n.ns=e.namespace);let i=[];return ge(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var pd=class{constructor(){this.counters_={}}incrementCounter(t,n=1){rt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return f_(this.counters_)}};var ed={},td={};function af(e){let t=e.toString();return ed[t]||(ed[t]=new pd),ed[t]}function uN(e,t){let n=e.toString();return td[n]||(td[n]=t()),td[n]}var gd=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&gr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Z_="start",dN="close",fN="pLPCommand",hN="pRTLPCB",Bv="id",Uv="pw",Hv="ser",pN="cb",gN="seg",mN="ts",yN="d",_N="dframe",$v=1870,zv=30,vN=$v-zv,EN=25e3,CN=3e4,md=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Oi(t),this.stats_=af(n),this.urlFn=l=>(this.appCheckToken&&(l[hd]=this.appCheckToken),jv(n,Vv,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gd(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CN)),eN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yd((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Z_)this.id=a,this.password=l;else if(s===dN)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[Z_]="t",r[Hv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[pN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Nv]=Ks,this.transportSessionId&&(r[Av]=this.transportSessionId),this.lastSessionId&&(r[kv]=this.lastSessionId),this.applicationId&&(r[Fv]=this.applicationId),this.appCheckToken&&(r[hd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Pv.test(location.hostname)&&(r[Ov]=Rv);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return nt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nN()&&!rN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=te(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Fu(n),i=Sv(r,vN);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(nt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[_N]="t",r[Bv]=t,r[Uv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=te(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},yd=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,nt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Qx(),window[fN+this.uniqueCallbackIdentifier]=t,window[hN+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){le("frame writing exception"),a.stack&&le(a.stack),le(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||le("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[Bv]=this.myID,t[Uv]=this.myPW,t[Hv]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zv+r.length<=$v;){let s=this.pendingSegs.shift();r=r+"&"+gN+i+"="+s.seg+"&"+mN+i+"="+s.ts+"&"+yN+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(EN)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){nt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{le("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var DN=16384,wN=45e3,Xs=null;typeof MozWebSocket<"u"?Xs=MozWebSocket:typeof WebSocket<"u"&&(Xs=WebSocket);var yi=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Oi(this.connId),this.stats_=af(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[Nv]=Ks,!nt()&&typeof location<"u"&&location.hostname&&Pv.test(location.hostname)&&(a[Ov]=Rv),r&&(a[Av]=r),i&&(a[kv]=i),o&&(a[hd]=o),s&&(a[Fv]=s),jv(n,Lv,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fn.set("previous_websocket_failure",!0);try{let i;if(nt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ks}/${of}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Xs(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Xs!==null&&!e.forceDisallow_}static previouslyFailed(){return fn.isInMemoryStorage||fn.get("previous_websocket_failure")===!0}markConnectionHealthy(){fn.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Xn(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(g(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=te(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Sv(r,DN);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wN))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),bN=(()=>{class e{static get ALL_TRANSPORTS(){return[md,yi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=yi&&yi.isAvailable(),i=r&&!yi.previouslyFailed();if(n.webSocketOnly&&(r||pe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[yi];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),IN=6e4,MN=5e3,TN=10*1024,SN=100*1024,nd="t",K_="d",xN="s",Q_="r",NN="e",X_="o",J_="a",ev="n",tv="p",AN="h",_d=class{constructor(t,n,r,i,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Oi("c:"+this.id+":"),this.transportManager_=new bN(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ci(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(nd in t){let n=t[nd];n===J_?this.upgradeIfSecondaryHealthy_():n===Q_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===X_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=mi("t",t),r=mi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:J_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ev,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=mi("t",t),r=mi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=mi(nd,t);if(K_ in t){let r=t[K_];if(n===AN){let i=M({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ev){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xN?this.onConnectionShutdown_(r):n===Q_?this.onReset_(r):n===NN?ud("Server Error: "+r):n===X_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ud("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ks!==r&&pe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ci(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(IN))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ci(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(MN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tv,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Js=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var ea=class{constructor(t){this.allowedEvents_=t,this.listeners_={},g(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){g(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var ta=class e extends ea{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return g(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var nv=32,rv=768,j=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function F(){return new j("")}function N(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Lt(e){return e.pieces_.length-e.pieceNum_}function $(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new j(e.pieces_,t)}function Gv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ON(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Wv(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function qv(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new j(t,0)}function ne(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof j)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new j(n,0)}function R(e){return e.pieceNum_>=e.pieces_.length}function he(e,t){let n=N(e),r=N(t);if(n===null)return t;if(n===r)return he($(e),$(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function lf(e,t){if(Lt(e)!==Lt(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function $e(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Lt(e)>Lt(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var vd=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Wv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fi(this.parts_[r]);Yv(this)}};function RN(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=fi(t),Yv(e)}function PN(e){let t=e.parts_.pop();e.byteLength_-=fi(t),e.parts_.length>0&&(e.byteLength_-=1)}function Yv(e){if(e.byteLength_>rv)throw new Error(e.errorPrefix_+"has a key path longer than "+rv+" bytes ("+e.byteLength_+").");if(e.parts_.length>nv)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nv+") or object contains a cycle "+dn(e))}function dn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Ed=class e extends ea{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return g(t==="visible","Unknown event type: "+t),[this.visible_]}};var _i=1e3,kN=60*5*1e3,iv=30*1e3,FN=1.3,LN=3e4,VN="server_kill",ov=3,cf=(()=>{class e extends Js{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Oi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_i,this.maxReconnectDelay_=kN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!nt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ed.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ta.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(te(s)),g(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Rt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),g(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),g(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&rt(n,"w")){let i=cn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();pe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||b_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=w_(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),g(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+te(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ud("Unrecognized action received from server: "+te(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){g(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LN&&(this.reconnectDelay_=_i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FN)}this.onConnectStatus_(!1)}establishConnection_(){return B(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){g(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?le("getToken() completed but was canceled"):(le("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new _d(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{pe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(VN)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&pe(f),c())}}})}interrupt(n){le("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){le("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ju(this.interruptReasons_)&&(this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>sf(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new j(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){le("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ov&&(this.reconnectDelay_=iv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){le("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ov&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";nt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+of.replace(/\./g,"-")]=1,Vu()?n["framework.cordova"]=1:v_()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ta.getInstance().currentlyOnline();return ju(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),A=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var lr=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new A(ar,t),i=new A(ar,n);return this.compare(r,i)!==0}minPost(){return A.MIN}};var Zs,na=class extends lr{static get __EMPTY_NODE(){return Zs}static set __EMPTY_NODE(t){Zs=t}compare(t,n){return pr(t.name,n.name)}isDefinedOn(t){throw ln("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return A.MIN}maxPost(){return new A(gn,Zs)}makePost(t,n){return g(typeof t=="string","KeyIndex indexValue must always be a string."),new A(t,Zs)}toString(){return".key"}},or=new na;var rr=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},He=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Oe.EMPTY_NODE,this.right=s??Oe.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oe.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Oe.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Cd=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new He(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Oe=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,He.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new rr(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new rr(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new rr(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new rr(this.root_,null,this.comparator_,!0,t)}};Oe.EMPTY_NODE=new Cd;function jN(e,t){return pr(e.name,t.name)}function uf(e,t){return pr(e,t)}var Dd;function BN(e){Dd=e}var Zv=function(e){return typeof e=="number"?"number:"+xv(e):"string:"+e},Kv=function(e){if(e.isLeafNode()){let t=e.val();g(typeof t=="string"||typeof t=="number"||typeof t=="object"&&rt(t,".sv"),"Priority must be a string or number.")}else g(e===Dd||e.isEmpty(),"priority of unexpected type.");g(e===Dd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var sv,cr=(()=>{class e{static set __childrenNodeConstructor(n){sv=n}static get __childrenNodeConstructor(){return sv}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,g(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Kv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return R(n)?this:N(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=N(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(g(i!==".priority"||Lt(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild($(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Zv(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=xv(this.value_):n+=this.value_,this.lazyHash_=Mv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(g(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return g(o>=0,"Unknown leaf type: "+r),g(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),Qv,Xv;function UN(e){Qv=e}function HN(e){Xv=e}var wd=class extends lr{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?pr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return A.MIN}maxPost(){return new A(gn,new cr("[PRIORITY-POST]",Xv))}makePost(t,n){let r=Qv(t);return new A(n,new cr("[PRIORITY-POST]",r))}toString(){return".priority"}},Q=new wd;var $N=Math.log(2),bd=class{constructor(t){let n=o=>parseInt(Math.log(o)/$N,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},ra=function(e,t,n,r){e.sort(t);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new He(f,d.node,He.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=e[h],f=n?n(d):d,new He(f,d.node,He.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,f=function(p,m){let I=d-p,z=d;d-=p;let Re=i(I+1,z),Pe=e[I],yr=n?n(Pe):Pe;h(new He(yr,Pe.node,m,null,Re))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),I=Math.pow(2,l.count-(p+1));m?f(I,He.BLACK):(f(I,He.BLACK),f(I,He.RED))}return u},s=new bd(e.length),a=o(s);return new Oe(r||t,a)};var rd,nr={},ur=class e{static get Default(){return g(nr&&Q,"ChildrenNode.ts has not been loaded"),rd=rd||new e({".priority":nr},{".priority":Q}),rd}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=cn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Oe?n:null}hasIndex(t){return rt(this.indexSet_,t.toString())}addIndex(t,n){g(t!==or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(A.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=ra(r,t.getCompare()):a=nr;let l=t.toString(),c=M({},this.indexSet_);c[l]=t;let u=M({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=di(this.indexes_,(i,o)=>{let s=cn(this.indexSet_,o);if(g(s,"Missing index implementation for "+o),i===nr)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(A.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),ra(a,s.getCompare())}else return nr;else{let a=n.get(t.name),l=i;return a&&(l=l.remove(new A(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=di(this.indexes_,i=>{if(i===nr)return i;{let o=n.get(t.name);return o?i.remove(new A(t.name,o)):i}});return new e(r,this.indexSet_)}};var vi,S=(()=>{class e{static get EMPTY_NODE(){return vi||(vi=new e(new Oe(uf),null,ur.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Kv(this.priorityNode_),this.children_.isEmpty()&&g(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vi}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?vi:r}}getChild(n){let r=N(n);return r===null?this:this.getImmediateChild(r).getChild($(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(g(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new A(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?vi:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=N(n);if(i===null)return r;{g(N(n)!==".priority"||Lt(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild($(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Q,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Zv(this.getPriority().val())+":"),this.forEachChild(Q,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":Mv(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new A(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new A(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new A(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,A.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,A.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ri?-1:0}withIndex(n){if(n===or||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===or||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Q),o=r.getIterator(Q),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===or?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Id=class extends S{constructor(){super(new Oe(uf),S.EMPTY_NODE,ur.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return S.EMPTY_NODE}isEmpty(){return!1}},Ri=new Id;Object.defineProperties(A,{MIN:{value:new A(ar,S.EMPTY_NODE)},MAX:{value:new A(gn,Ri)}});na.__EMPTY_NODE=S.EMPTY_NODE;cr.__childrenNodeConstructor=S;BN(Ri);HN(Ri);var zN=!0;function ae(e,t=null){if(e===null)return S.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),g(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new cr(n,ae(t))}if(!(e instanceof Array)&&zN){let n=[],r=!1;if(ge(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=ae(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new A(s,l)))}}),n.length===0)return S.EMPTY_NODE;let o=ra(n,jN,s=>s.name,uf);if(r){let s=ra(n,Q.getCompare());return new S(o,ae(t),new ur({".priority":s},{".priority":Q}))}else return new S(o,ae(t),ur.Default)}else{let n=S.EMPTY_NODE;return ge(e,(r,i)=>{if(rt(e,r)&&r.substring(0,1)!=="."){let o=ae(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ae(t))}}UN(ae);var Md=class extends lr{constructor(t){super(),this.indexPath_=t,g(!R(t)&&N(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?pr(t.name,n.name):o}makePost(t,n){let r=ae(t),i=S.EMPTY_NODE.updateChild(this.indexPath_,r);return new A(n,i)}maxPost(){let t=S.EMPTY_NODE.updateChild(this.indexPath_,Ri);return new A(gn,t)}toString(){return Wv(this.indexPath_,0).join("/")}};var Td=class extends lr{compare(t,n){let r=t.node.compareTo(n.node);return r===0?pr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return A.MIN}maxPost(){return A.MAX}makePost(t,n){let r=ae(t);return new A(n,r)}toString(){return".value"}},GN=new Td;function Jv(e){return{type:"value",snapshotNode:e}}function dr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Mi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ti(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function WN(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Si=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){g(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Mi(n,a)):g(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(dr(n,r)):s.trackChildChange(Ti(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Q,(i,o)=>{n.hasChild(i)||r.trackChildChange(Mi(i,o))}),n.isLeafNode()||n.forEachChild(Q,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ti(i,o,s))}else r.trackChildChange(dr(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?S.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var ia=class e{constructor(t){this.indexedFilter_=new Si(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new A(n,r))||(r=S.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=S.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(S.EMPTY_NODE);let o=this;return n.forEachChild(Q,(s,a)=>{o.matches(new A(s,a))||(i=i.updateImmediateChild(s,S.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Sd=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ia(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new A(n,r))||(r=S.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=S.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=S.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(S.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,S.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;g(a.numChildren()===this.limit_,"");let l=new A(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ti(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Mi(n,d));let m=a.updateImmediateChild(n,S.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(dr(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return r.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Mi(c.name,c.node)),o.trackChildChange(dr(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,S.EMPTY_NODE)):t}};var xd=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Q}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return g(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return g(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ar}hasEnd(){return this.endSet_}getIndexEndValue(){return g(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return g(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return g(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Q}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function qN(e){return e.loadsAllData()?new Si(e.getIndex()):e.hasLimit()?new Sd(e):new ia(e)}function av(e){let t={};if(e.isDefault())return t;let n;if(e.index_===Q?n="$priority":e.index_===GN?n="$value":e.index_===or?n="$key":(g(e.index_ instanceof Md,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=te(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=te(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+te(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=te(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+te(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function lv(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Q&&(t.i=e.index_.toString()),t}var Nd=class e extends Js{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(g(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Oi("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let l=av(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),cn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=av(t._queryParams),r=t._path.toString(),i=new Rt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+I_(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Xn(a.responseText)}catch{pe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&pe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Ad=class{constructor(){this.rootNode_=S.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function oa(){return{value:null,children:new Map}}function eE(e,t,n){if(R(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=N(t);e.children.has(r)||e.children.set(r,oa());let i=e.children.get(r);t=$(t),eE(i,t,n)}}function Od(e,t,n){e.value!==null?n(t,e.value):YN(e,(r,i)=>{let o=new j(t.toString()+"/"+r);Od(i,o,n)})}function YN(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Rd=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=M({},t);return this.last_&&ge(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var cv=10*1e3,ZN=30*1e3,KN=5*60*1e3,Pd=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rd(t);let r=cv+(ZN-cv)*Math.random();Ci(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;ge(t,(i,o)=>{o>0&&rt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ci(this.reportStats_.bind(this),Math.floor(Math.random()*2*KN))}};var ot=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(ot||{});function tE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function df(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ff(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var kd=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ot.ACK_USER_WRITE,this.source=tE()}operationForChild(t){if(R(this.path)){if(this.affectedTree.value!=null)return g(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new j(t));return new e(F(),n,this.revert)}}else return g(N(this.path)===t,"operationForChild called for unrelated child."),new e($(this.path),this.affectedTree,this.revert)}};var sa=class e{constructor(t,n){this.source=t,this.path=n,this.type=ot.LISTEN_COMPLETE}operationForChild(t){return R(this.path)?new e(this.source,F()):new e(this.source,$(this.path))}};var fr=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ot.OVERWRITE}operationForChild(t){return R(this.path)?new e(this.source,F(),this.snap.getImmediateChild(t)):new e(this.source,$(this.path),this.snap)}};var aa=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ot.MERGE}operationForChild(t){if(R(this.path)){let n=this.children.subtree(new j(t));return n.isEmpty()?null:n.value?new fr(this.source,F(),n.value):new e(this.source,F(),n)}else return g(N(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,$(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Et=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(R(t))return this.isFullyInitialized()&&!this.filtered_;let n=N(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Fd=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function QN(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(WN(s.childName,s.snapshotNode))}),Ei(e,i,"child_removed",t,r,n),Ei(e,i,"child_added",t,r,n),Ei(e,i,"child_moved",o,r,n),Ei(e,i,"child_changed",t,r,n),Ei(e,i,"value",t,r,n),i}function Ei(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>JN(e,a,l)),s.forEach(a=>{let l=XN(e,a,o);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function XN(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function JN(e,t,n){if(t.childName==null||n.childName==null)throw ln("Should only compare child_ events.");let r=new A(t.childName,t.snapshotNode),i=new A(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function va(e,t){return{eventCache:e,serverCache:t}}function wi(e,t,n,r){return va(new Et(t,n,r),e.serverCache)}function nE(e,t,n,r){return va(e.eventCache,new Et(t,n,r))}function Ld(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function mn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var id,eA=()=>(id||(id=new Oe(tN)),id),me=class e{static fromObject(t){let n=new e(null);return ge(t,(r,i)=>{n=n.set(new j(r),i)}),n}constructor(t,n=eA()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:F(),value:this.value};if(R(t))return null;{let r=N(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue($(t),n);return o!=null?{path:ne(new j(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(R(t))return this;{let n=N(t),r=this.children.get(n);return r!==null?r.subtree($(t)):new e(null)}}set(t,n){if(R(t))return new e(n,this.children);{let r=N(t),o=(this.children.get(r)||new e(null)).set($(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(R(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=N(t),r=this.children.get(n);if(r){let i=r.remove($(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(R(t))return this.value;{let n=N(t),r=this.children.get(n);return r?r.get($(t)):null}}setTree(t,n){if(R(t))return n;{let r=N(t),o=(this.children.get(r)||new e(null)).setTree($(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(F(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ne(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,F(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(R(t))return null;{let o=N(t),s=this.children.get(o);return s?s.findOnPath_($(t),ne(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,F(),n)}foreachOnPath_(t,n,r){if(R(t))return this;{this.value&&r(n,this.value);let i=N(t),o=this.children.get(i);return o?o.foreachOnPath_($(t),ne(n,i),r):new e(null)}}foreach(t){this.foreach_(F(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ne(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var ze=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new me(null))}};function bi(e,t,n){if(R(t))return new ze(new me(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=he(i,t);return o=o.updateChild(s,n),new ze(e.writeTree_.set(i,o))}else{let i=new me(n),o=e.writeTree_.setTree(t,i);return new ze(o)}}}function uv(e,t,n){let r=e;return ge(n,(i,o)=>{r=bi(r,ne(t,i),o)}),r}function dv(e,t){if(R(t))return ze.empty();{let n=e.writeTree_.setTree(t,new me(null));return new ze(n)}}function Vd(e,t){return yn(e,t)!=null}function yn(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(he(n.path,t)):null}function fv(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Q,(r,i)=>{t.push(new A(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new A(r,i.value))}),t}function Ft(e,t){if(R(t))return e;{let n=yn(e,t);return n!=null?new ze(new me(n)):new ze(e.writeTree_.subtree(t))}}function jd(e){return e.writeTree_.isEmpty()}function hr(e,t){return rE(F(),e.writeTree_,t)}function rE(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(g(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=rE(ne(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ne(e,".priority"),r)),n}}function hf(e,t){return aE(t,e)}function tA(e,t,n,r,i){g(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=bi(e.visibleWrites,t,n)),e.lastWriteId=r}function nA(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function rA(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);g(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&iA(a,r.path)?i=!1:$e(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return oA(e),!0;if(r.snap)e.visibleWrites=dv(e.visibleWrites,r.path);else{let a=r.children;ge(a,l=>{e.visibleWrites=dv(e.visibleWrites,ne(r.path,l))})}return!0}else return!1}function iA(e,t){if(e.snap)return $e(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&$e(ne(e.path,n),t))return!0;return!1}function oA(e){e.visibleWrites=iE(e.allWrites,sA,F()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function sA(e){return e.visible}function iE(e,t,n){let r=ze.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)$e(n,s)?(a=he(n,s),r=bi(r,a,o.snap)):$e(s,n)&&(a=he(s,n),r=bi(r,F(),o.snap.getChild(a)));else if(o.children){if($e(n,s))a=he(n,s),r=uv(r,a,o.children);else if($e(s,n))if(a=he(s,n),R(a))r=uv(r,F(),o.children);else{let l=cn(o.children,N(a));if(l){let c=l.getChild($(a));r=bi(r,F(),c)}}}else throw ln("WriteRecord should have .snap or .children")}}return r}function oE(e,t,n,r,i){if(!r&&!i){let o=yn(e.visibleWrites,t);if(o!=null)return o;{let s=Ft(e.visibleWrites,t);if(jd(s))return n;if(n==null&&!Vd(s,F()))return null;{let a=n||S.EMPTY_NODE;return hr(s,a)}}}else{let o=Ft(e.visibleWrites,t);if(!i&&jd(o))return n;if(!i&&n==null&&!Vd(o,F()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&($e(c.path,t)||$e(t,c.path))},a=iE(e.allWrites,s,t),l=n||S.EMPTY_NODE;return hr(a,l)}}}function aA(e,t,n){let r=S.EMPTY_NODE,i=yn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Q,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Ft(e.visibleWrites,t);return n.forEachChild(Q,(s,a)=>{let l=hr(Ft(o,new j(s)),a);r=r.updateImmediateChild(s,l)}),fv(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ft(e.visibleWrites,t);return fv(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function lA(e,t,n,r,i){g(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ne(t,n);if(Vd(e.visibleWrites,o))return null;{let s=Ft(e.visibleWrites,o);return jd(s)?i.getChild(n):hr(s,i.getChild(n))}}function cA(e,t,n,r){let i=ne(t,n),o=yn(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Ft(e.visibleWrites,i);return hr(s,r.getNode().getImmediateChild(n))}else return null}function uA(e,t){return yn(e.visibleWrites,t)}function dA(e,t,n,r,i,o,s){let a,l=Ft(e.visibleWrites,t),c=yn(l,F());if(c!=null)a=c;else if(n!=null)a=hr(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function fA(){return{visibleWrites:ze.empty(),allWrites:[],lastWriteId:-1}}function la(e,t,n,r){return oE(e.writeTree,e.treePath,t,n,r)}function pf(e,t){return aA(e.writeTree,e.treePath,t)}function hv(e,t,n,r){return lA(e.writeTree,e.treePath,t,n,r)}function ca(e,t){return uA(e.writeTree,ne(e.treePath,t))}function hA(e,t,n,r,i,o){return dA(e.writeTree,e.treePath,t,n,r,i,o)}function gf(e,t,n){return cA(e.writeTree,e.treePath,t,n)}function sE(e,t){return aE(ne(e.treePath,t),e.writeTree)}function aE(e,t){return{treePath:e,writeTree:t}}var Bd=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;g(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),g(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ti(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Mi(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,dr(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ti(r,t.snapshotNode,i.oldSnap));else throw ln("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Ud=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},lE=new Ud,xi=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Et(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gf(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:mn(this.viewCache_),o=hA(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function pA(e){return{filter:e}}function gA(e,t){g(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),g(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function mA(e,t,n,r,i){let o=new Bd,s,a;if(n.type===ot.OVERWRITE){let c=n;c.source.fromUser?s=Hd(e,t,c.path,c.snap,r,i,o):(g(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!R(c.path),s=ua(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===ot.MERGE){let c=n;c.source.fromUser?s=_A(e,t,c.path,c.children,r,i,o):(g(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=$d(e,t,c.path,c.children,r,i,a,o))}else if(n.type===ot.ACK_USER_WRITE){let c=n;c.revert?s=CA(e,t,c.path,r,i,o):s=vA(e,t,c.path,c.affectedTree,r,i,o)}else if(n.type===ot.LISTEN_COMPLETE)s=EA(e,t,n.path,r,o);else throw ln("Unknown operation type: "+n.type);let l=o.getChanges();return yA(t,s,l),{viewCache:s,changes:l}}function yA(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ld(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Jv(Ld(t)))}}function cE(e,t,n,r,i,o){let s=t.eventCache;if(ca(r,n)!=null)return t;{let a,l;if(R(n))if(g(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=mn(t),u=c instanceof S?c:S.EMPTY_NODE,d=pf(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=la(r,mn(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=N(n);if(c===".priority"){g(Lt(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=hv(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=$(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let f=hv(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=gf(r,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return wi(t,a,s.isFullyInitialized()||R(n),e.filter.filtersNodes())}}function ua(e,t,n,r,i,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(R(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=N(n);if(!l.isCompleteForPath(n)&&Lt(n)>1)return t;let p=$(n),I=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),I):c=u.updateChild(l.getNode(),h,I,p,lE,null)}let d=nE(t,c,l.isFullyInitialized()||R(n),u.filtersNodes()),f=new xi(i,d,o);return cE(e,d,n,i,f,a)}function Hd(e,t,n,r,i,o,s){let a=t.eventCache,l,c,u=new xi(i,t,o);if(R(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=wi(t,c,!0,e.filter.filtersNodes());else{let d=N(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=wi(t,c,a.isFullyInitialized(),a.isFiltered());else{let f=$(n),h=a.getNode().getImmediateChild(d),p;if(R(f))p=r;else{let m=u.getCompleteChild(d);m!=null?Gv(f)===".priority"&&m.getChild(qv(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=S.EMPTY_NODE}if(h.equals(p))l=t;else{let m=e.filter.updateChild(a.getNode(),d,p,f,u,s);l=wi(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function pv(e,t){return e.eventCache.isCompleteForChild(t)}function _A(e,t,n,r,i,o,s){let a=t;return r.foreach((l,c)=>{let u=ne(n,l);pv(t,N(u))&&(a=Hd(e,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=ne(n,l);pv(t,N(u))||(a=Hd(e,a,u,c,i,o,s))}),a}function gv(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function $d(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;R(n)?c=r:c=new me(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=gv(e,h,f);l=ua(e,l,new j(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),m=gv(e,p,f);l=ua(e,l,new j(d),m,i,o,s,a)}}),l}function vA(e,t,n,r,i,o,s){if(ca(i,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(R(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ua(e,t,n,l.getNode().getChild(n),i,o,a,s);if(R(n)){let c=new me(null);return l.getNode().forEachChild(or,(u,d)=>{c=c.set(new j(u),d)}),$d(e,t,n,c,i,o,a,s)}else return t}else{let c=new me(null);return r.foreach((u,d)=>{let f=ne(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),$d(e,t,n,c,i,o,a,s)}}function EA(e,t,n,r,i){let o=t.serverCache,s=nE(t,o.getNode(),o.isFullyInitialized()||R(n),o.isFiltered());return cE(e,s,n,r,lE,i)}function CA(e,t,n,r,i,o){let s;if(ca(r,n)!=null)return t;{let a=new xi(r,t,i),l=t.eventCache.getNode(),c;if(R(n)||N(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=la(r,mn(t));else{let d=t.serverCache.getNode();g(d instanceof S,"serverChildren would be complete if leaf node"),u=pf(r,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=N(n),d=gf(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,$(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,S.EMPTY_NODE,$(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=la(r,mn(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||ca(r,F())!=null,wi(t,c,s,e.filter.filtersNodes())}}var zd=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Si(r.getIndex()),o=qN(r);this.processor_=pA(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(S.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(S.EMPTY_NODE,a.getNode(),null),u=new Et(l,s.isFullyInitialized(),i.filtersNodes()),d=new Et(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=va(d,u),this.eventGenerator_=new Fd(this.query_)}get query(){return this.query_}};function DA(e){return e.viewCache_.serverCache.getNode()}function wA(e,t){let n=mn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!R(t)&&!n.getImmediateChild(N(t)).isEmpty())?n.getChild(t):null}function mv(e){return e.eventRegistrations_.length===0}function bA(e,t){e.eventRegistrations_.push(t)}function yv(e,t,n){let r=[];if(n){g(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function _v(e,t,n,r){t.type===ot.MERGE&&t.source.queryId!==null&&(g(mn(e.viewCache_),"We should always have a full cache before handling merges"),g(Ld(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=mA(e.processor_,i,t,n,r);return gA(e.processor_,o.viewCache),g(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,uE(e,o.changes,o.viewCache.eventCache.getNode(),null)}function IA(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Q,(o,s)=>{r.push(dr(o,s))}),n.isFullyInitialized()&&r.push(Jv(n.getNode())),uE(e,r,n.getNode(),t)}function uE(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return QN(e.eventGenerator_,t,n,i)}var da,Gd=class{constructor(){this.views=new Map}};function MA(e){g(!da,"__referenceConstructor has already been defined"),da=e}function TA(){return g(da,"Reference.ts has not been loaded"),da}function SA(e){return e.views.size===0}function mf(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return g(o!=null,"SyncTree gave us an op for an invalid query."),_v(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(_v(s,t,n,r));return o}}function xA(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=la(n,i?r:null),l=!1;a?l=!0:r instanceof S?(a=pf(n,r),l=!1):(a=S.EMPTY_NODE,l=!1);let c=va(new Et(a,l,!1),new Et(r,i,!1));return new zd(t,c)}return s}function NA(e,t,n,r,i,o){let s=xA(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),bA(s,n),IA(s,n)}function AA(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Vt(e);if(i==="default")for(let[l,c]of e.views.entries())s=s.concat(yv(c,n,r)),mv(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(i);l&&(s=s.concat(yv(l,n,r)),mv(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Vt(e)&&o.push(new(TA())(t._repo,t._path)),{removed:o,events:s}}function dE(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function sr(e,t){let n=null;for(let r of e.views.values())n=n||wA(r,t);return n}function fE(e,t){if(t._queryParams.loadsAllData())return Ea(e);{let r=t._queryIdentifier;return e.views.get(r)}}function hE(e,t){return fE(e,t)!=null}function Vt(e){return Ea(e)!=null}function Ea(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var fa;function OA(e){g(!fa,"__referenceConstructor has already been defined"),fa=e}function RA(){return g(fa,"Reference.ts has not been loaded"),fa}var PA=1,ha=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new me(null),this.pendingWriteTree_=fA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function pE(e,t,n,r,i){return tA(e.pendingWriteTree_,t,n,r,i),i?Pi(e,new fr(tE(),t,n)):[]}function hn(e,t,n=!1){let r=nA(e.pendingWriteTree_,t);if(rA(e.pendingWriteTree_,t)){let o=new me(null);return r.snap!=null?o=o.set(F(),!0):ge(r.children,s=>{o=o.set(new j(s),!0)}),Pi(e,new kd(r.path,o,n))}else return[]}function Ca(e,t,n){return Pi(e,new fr(df(),t,n))}function kA(e,t,n){let r=me.fromObject(n);return Pi(e,new aa(df(),t,r))}function FA(e,t){return Pi(e,new sa(df(),t))}function LA(e,t,n){let r=_f(e,n);if(r){let i=vf(r),o=i.path,s=i.queryId,a=he(o,t),l=new sa(ff(s),a);return Ef(e,o,l)}else return[]}function Wd(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||hE(s,t))){let l=AA(s,t,n,r);SA(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Vt(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=BA(f);for(let p=0;p<h.length;++p){let m=h[p],I=m.query,z=yE(e,m);e.listenProvider_.startListening(Ii(I),pa(e,I),z.hashFn,z.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Ii(t),null):c.forEach(f=>{let h=e.queryToTagMap.get(Da(f));e.listenProvider_.stopListening(Ii(f),h)}))}UA(e,c)}return a}function VA(e,t,n,r){let i=_f(e,r);if(i!=null){let o=vf(i),s=o.path,a=o.queryId,l=he(s,t),c=new fr(ff(a),l,n);return Ef(e,s,c)}else return[]}function jA(e,t,n,r){let i=_f(e,r);if(i){let o=vf(i),s=o.path,a=o.queryId,l=he(s,t),c=me.fromObject(n),u=new aa(ff(a),l,c);return Ef(e,s,u)}else return[]}function vv(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=he(f,i);o=o||sr(h,p),s=s||Vt(h)});let a=e.syncPointTree_.get(i);a?(s=s||Vt(a),o=o||sr(a,F())):(a=new Gd,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=S.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let m=sr(p,F());m&&(o=o.updateImmediateChild(h,m))}));let c=hE(a,t);if(!c&&!t._queryParams.loadsAllData()){let f=Da(t);g(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=HA();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=hf(e.pendingWriteTree_,i),d=NA(a,t,n,u,o,l);if(!c&&!s&&!r){let f=fE(a,t);d=d.concat($A(e,t,f))}return d}function yf(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=he(s,t),c=sr(a,l);if(c)return c});return oE(i,t,o,n,!0)}function Pi(e,t){return gE(t,e.syncPointTree_,null,hf(e.pendingWriteTree_,F()))}function gE(e,t,n,r){if(R(e.path))return mE(e,t,n,r);{let i=t.get(F());n==null&&i!=null&&(n=sr(i,F()));let o=[],s=N(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=sE(r,s);o=o.concat(gE(a,l,c,u))}return i&&(o=o.concat(mf(i,e,r,n))),o}}function mE(e,t,n,r){let i=t.get(F());n==null&&i!=null&&(n=sr(i,F()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=sE(r,s),u=e.operationForChild(s);u&&(o=o.concat(mE(u,a,l,c)))}),i&&(o=o.concat(mf(i,e,r,n))),o}function yE(e,t){let n=t.query,r=pa(e,n);return{hashFn:()=>(DA(t)||S.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?LA(e,n._path,r):FA(e,n._path);{let o=iN(i,n);return Wd(e,n,null,o)}}}}function pa(e,t){let n=Da(t);return e.queryToTagMap.get(n)}function Da(e){return e._path.toString()+"$"+e._queryIdentifier}function _f(e,t){return e.tagToQueryMap.get(t)}function vf(e){let t=e.indexOf("$");return g(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new j(e.substr(0,t))}}function Ef(e,t,n){let r=e.syncPointTree_.get(t);g(r,"Missing sync point for query tag that we're tracking");let i=hf(e.pendingWriteTree_,t);return mf(r,n,i,null)}function BA(e){return e.fold((t,n,r)=>{if(n&&Vt(n))return[Ea(n)];{let i=[];return n&&(i=dE(n)),ge(r,(o,s)=>{i=i.concat(s)}),i}})}function Ii(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(RA())(e._repo,e._path):e}function UA(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Da(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function HA(){return PA++}function $A(e,t,n){let r=t._path,i=pa(e,t),o=yE(e,n),s=e.listenProvider_.startListening(Ii(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)g(!Vt(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!R(c)&&u&&Vt(u))return[Ea(u).query];{let f=[];return u&&(f=f.concat(dE(u).map(h=>h.query))),ge(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Ii(u),pa(e,u))}}return s}var qd=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},Yd=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ne(this.path_,t);return new e(this.syncTree_,n)}node(){return yf(this.syncTree_,this.path_)}},zA=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Ev=function(e,t,n){if(!e||typeof e!="object")return e;if(g(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return GA(e[".sv"],t,n);if(typeof e[".sv"]=="object")return WA(e[".sv"],t);g(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},GA=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:g(!1,"Unexpected server value: "+e)}},WA=function(e,t,n){e.hasOwnProperty("increment")||g(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&g(!1,"Unexpected increment value: "+r);let i=t.node();if(g(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},qA=function(e,t,n,r){return Cf(t,new Yd(n,e),r)},_E=function(e,t,n){return Cf(e,new qd(t),n)};function Cf(e,t,n){let r=e.getPriority().val(),i=Ev(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=Ev(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new cr(a,ae(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new cr(i))),s.forEachChild(Q,(a,l)=>{let c=Cf(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Ni=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Df(e,t){let n=t instanceof j?t:new j(t),r=e,i=N(n);for(;i!==null;){let o=cn(r.node.children,i)||{children:{},childCount:0};r=new Ni(i,r,o),n=$(n),i=N(n)}return r}function mr(e){return e.node.value}function vE(e,t){e.node.value=t,Zd(e)}function EE(e){return e.node.childCount>0}function YA(e){return mr(e)===void 0&&!EE(e)}function wa(e,t){ge(e.node.children,(n,r)=>{t(new Ni(n,e,r))})}function CE(e,t,n,r){n&&!r&&t(e),wa(e,i=>{CE(i,t,!0,r)}),n&&r&&t(e)}function ZA(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function ki(e){return new j(e.parent===null?e.name:ki(e.parent)+"/"+e.name)}function Zd(e){e.parent!==null&&KA(e.parent,e.name,e)}function KA(e,t,n){let r=YA(n),i=rt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Zd(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Zd(e))}var QA=/[\[\].#$\/\u0000-\u001F\u007F]/,XA=/[\[\].#$\u0000-\u001F\u007F]/,od=10*1024*1024,DE=function(e){return typeof e=="string"&&e.length!==0&&!QA.test(e)},wE=function(e){return typeof e=="string"&&e.length!==0&&!XA.test(e)},JA=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wE(e)};var eO=function(e,t,n,r){r&&t===void 0||wf(Gs(e,"value"),t,n)},wf=function(e,t,n){let r=n instanceof j?new vd(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+dn(r));if(typeof t=="function")throw new Error(e+"contains a function "+dn(r)+" with contents = "+t.toString());if(Tv(t))throw new Error(e+"contains "+t.toString()+" "+dn(r));if(typeof t=="string"&&t.length>od/3&&fi(t)>od)throw new Error(e+"contains a string greater than "+od+" utf8 bytes "+dn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ge(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!DE(s)))throw new Error(e+" contains an invalid key ("+s+") "+dn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);RN(r,s),wf(e,a,r),PN(r)}),i&&o)throw new Error(e+' contains ".value" child '+dn(r)+" in addition to actual children.")}};var bE=function(e,t,n,r){if(!(r&&n===void 0)&&!wE(n))throw new Error(Gs(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tO=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bE(e,t,n,r)},IE=function(e,t){if(N(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},nO=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!DE(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!JA(n))throw new Error(Gs(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Kd=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function bf(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!lf(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ME(e,t,n){bf(e,n),TE(e,r=>lf(r,t))}function Ct(e,t,n){bf(e,n),TE(e,r=>$e(r,t)||$e(t,r))}function TE(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(rO(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function rO(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();pn&&le("event: "+n.toString()),gr(r)}}}var iO="repo_interrupt",oO=25,Qd=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oa(),this.transactionQueueTree_=new Ni,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function sO(e,t,n){if(e.stats_=af(e.repoInfo_),e.forceRestClient_||lN())e.server_=new Nd(e.repoInfo_,(r,i,o,s)=>{Cv(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Dv(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{te(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new cf(e.repoInfo_,t,(r,i,o,s)=>{Cv(e,r,i,o,s)},r=>{Dv(e,r)},r=>{lO(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=uN(e.repoInfo_,()=>new Pd(e.stats_,e.server_)),e.infoData_=new Ad,e.infoSyncTree_=new ha({startListening:(r,i,o,s)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Ca(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Mf(e,"connected",!1),e.serverSyncTree_=new ha({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);Ct(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function aO(e){let n=e.infoData_.getNode(new j(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function If(e){return zA({timestamp:aO(e)})}function Cv(e,t,n,r,i){e.dataUpdateCount++;let o=new j(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let l=di(n,c=>ae(c));s=jA(e.serverSyncTree_,o,l,i)}else{let l=ae(n);s=VA(e.serverSyncTree_,o,l,i)}else if(r){let l=di(n,c=>ae(c));s=kA(e.serverSyncTree_,o,l)}else{let l=ae(n);s=Ca(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ba(e,o)),Ct(e.eventQueue_,a,s)}function Dv(e,t){Mf(e,"connected",t),t===!1&&uO(e)}function lO(e,t){ge(t,(n,r)=>{Mf(e,n,r)})}function Mf(e,t,n){let r=new j("/.info/"+t),i=ae(n);e.infoData_.updateSnapshot(r,i);let o=Ca(e.infoSyncTree_,r,i);Ct(e.eventQueue_,r,o)}function SE(e){return e.nextWriteId_++}function cO(e,t,n,r,i){Tf(e,"set",{path:t.toString(),value:n,priority:r});let o=If(e),s=ae(n,r),a=yf(e.serverSyncTree_,t),l=_E(s,a,o),c=SE(e),u=pE(e.serverSyncTree_,t,l,c,!0);bf(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||pe("set at "+t+" failed: "+f);let m=hn(e.serverSyncTree_,c,!p);Ct(e.eventQueue_,t,m),hO(e,i,f,h)});let d=RE(e,t);ba(e,d),Ct(e.eventQueue_,d,[])}function uO(e){Tf(e,"onDisconnectEvents");let t=If(e),n=oa();Od(e.onDisconnect_,F(),(i,o)=>{let s=qA(i,o,e.serverSyncTree_,t);eE(n,i,s)});let r=[];Od(n,F(),(i,o)=>{r=r.concat(Ca(e.serverSyncTree_,i,o));let s=RE(e,i);ba(e,s)}),e.onDisconnect_=oa(),Ct(e.eventQueue_,F(),r)}function dO(e,t,n){let r;N(t._path)===".info"?r=vv(e.infoSyncTree_,t,n):r=vv(e.serverSyncTree_,t,n),ME(e.eventQueue_,t._path,r)}function wv(e,t,n){let r;N(t._path)===".info"?r=Wd(e.infoSyncTree_,t,n):r=Wd(e.serverSyncTree_,t,n),ME(e.eventQueue_,t._path,r)}function fO(e){e.persistentConnection_&&e.persistentConnection_.interrupt(iO)}function Tf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),le(n,...t)}function hO(e,t,n,r){t&&gr(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function xE(e,t,n){return yf(e.serverSyncTree_,t,n)||S.EMPTY_NODE}function Sf(e,t=e.transactionQueueTree_){if(t||Ia(e,t),mr(t)){let n=AE(e,t);g(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&pO(e,ki(t),n)}else EE(t)&&wa(t,n=>{Sf(e,n)})}function pO(e,t,n){let r=n.map(c=>c.currentWriteId),i=xE(e,t,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];g(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=he(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Tf(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(hn(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ia(e,Df(e.transactionQueueTree_,t)),Sf(e,e.transactionQueueTree_),Ct(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)gr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{pe("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ba(e,t)}},s)}function ba(e,t){let n=NE(e,t),r=ki(n),i=AE(e,n);return gO(e,i,r),r}function gO(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=he(n,l.path),u=!1,d;if(g(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(hn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=oO)u=!0,d="maxretry",i=i.concat(hn(e.serverSyncTree_,l.currentWriteId,!0));else{let f=xE(e,l.path,s);l.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){wf("transaction failed: Data returned ",h,l.path);let p=ae(h);typeof h=="object"&&h!=null&&rt(h,".priority")||(p=p.updatePriority(f.getPriority()));let I=l.currentWriteId,z=If(e),Re=_E(p,f,z);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=Re,l.currentWriteId=SE(e),s.splice(s.indexOf(I),1),i=i.concat(pE(e.serverSyncTree_,l.path,Re,l.currentWriteId,l.applyLocally)),i=i.concat(hn(e.serverSyncTree_,I,!0))}else u=!0,d="nodata",i=i.concat(hn(e.serverSyncTree_,l.currentWriteId,!0))}Ct(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Ia(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)gr(r[a]);Sf(e,e.transactionQueueTree_)}function NE(e,t){let n,r=e.transactionQueueTree_;for(n=N(t);n!==null&&mr(r)===void 0;)r=Df(r,n),t=$(t),n=N(t);return r}function AE(e,t){let n=[];return OE(e,t,n),n.sort((r,i)=>r.order-i.order),n}function OE(e,t,n){let r=mr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);wa(t,i=>{OE(e,i,n)})}function Ia(e,t){let n=mr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,vE(t,n.length>0?n:void 0)}wa(t,r=>{Ia(e,r)})}function RE(e,t){let n=ki(NE(e,t)),r=Df(e.transactionQueueTree_,t);return ZA(r,i=>{sd(e,i)}),sd(e,r),CE(r,i=>{sd(e,i)}),n}function sd(e,t){let n=mr(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(g(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(g(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(hn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?vE(t,void 0):n.length=o+1,Ct(e.eventQueue_,ki(t),i);for(let s=0;s<r.length;s++)gr(r[s])}}function mO(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function yO(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pe(`Invalid query segment '${n}' in query '${e}'`)}return t}var bv=function(e,t){let n=_O(e),r=n.namespace;n.domain==="firebase.com"&&vt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Jx();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Qs(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new j(n.pathString)}},_O=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=mO(e.substring(u,d)));let f=yO(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var ga=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+te(this.snapshot.exportVal())}},ma=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Xd=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return g(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Jd=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return R(this._path)?null:Gv(this._path)}get ref(){return new Dt(this._repo,this._path)}get _queryIdentifier(){let t=lv(this._queryParams),n=sf(t);return n==="{}"?"default":n}get _queryObject(){return lv(this._queryParams)}isEqual(t){if(t=er(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=lf(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ON(this._path)}};var Dt=class e extends Jd{constructor(t,n){super(t,n,new xd,!1)}get parent(){let t=qv(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},ya=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new j(t),r=_a(this.ref,t);return new e(this._node.getChild(n),r,Q)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,_a(this.ref,r),Q)))}hasChild(t){let n=new j(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Ma(e,t){return e=er(e),e._checkNotDeleted("ref"),t!==void 0?_a(e._root,t):e._root}function _a(e,t){return e=er(e),N(e._path)===null?tO("child","path",t,!1):bE("child","path",t,!1),new Dt(e._repo,ne(e._path,t))}function PE(e){return IE("remove",e._path),xf(e,null)}function xf(e,t){e=er(e),IE("set",e._path),eO("set",t,e._path,!1);let n=new Rt;return cO(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}var ef=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new ga("value",this,new ya(t.snapshotNode,new Dt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ma(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},tf=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ma(this,t,n):null}createEvent(t,n){g(t.childName!=null,"Child events should have a childName.");let r=_a(new Dt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new ga(t.type,this,new ya(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function vO(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{wv(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new Xd(n,o||void 0),a=t==="value"?new ef(s):new tf(t,s);return dO(e._repo,e,a),()=>wv(e._repo,e,a)}function kE(e,t,n,r){return vO(e,"value",t,n,r)}MA(Dt);OA(Dt);var EO="FIREBASE_DATABASE_EMULATOR_HOST",nf={},CO=!1;function DO(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=zs(o);e.repoInfo_=new Qs(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function wO(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),le("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=bv(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[EO]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=bv(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new Di(Di.OWNER):new fd(e.name,e.options,t);nO("Invalid Firebase Database URL",s),R(s.path)||vt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=IO(a,e,u,new dd(e,n));return new rf(d,e)}function bO(e,t){let n=nf[t];(!n||n[e.key]!==e)&&vt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),fO(e),delete n[e.key]}function IO(e,t,n,r){let i=nf[t.name];i||(i={},nf[t.name]=i);let o=i[e.toURLString()];return o&&vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Qd(e,CO,n,r),i[e.toURLString()]=o,o}var rf=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dt(this._repo,F())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&vt("Cannot call "+t+" on a deleted database.")}};function FE(e=H_(),t){let n=j_(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=g_("database");r&&MO(n,...r)}return n}function MO(e,t,n,r={}){e=er(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Jn(r,o.repoInfo_.emulatorOptions))return;vt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&vt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Di(Di.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:y_(r.mockUserToken,e.app.options.projectId);s=new Di(a)}zs(t)&&(m_(t),__("Database",!0)),DO(o,i,r,s)}function TO(e){Kx(U_),pi(new yt("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return wO(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),kt(G_,W_,e),kt(G_,W_,"esm2020")}cf.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};cf.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};TO();var Ta=class e{db;participantsSubject=new Ut([]);participants$=this.participantsSubject.asObservable();platformId=y(rn);isBrowser;isInitialized=!1;constructor(){if(this.isBrowser=mu(this.platformId),this.isBrowser){console.log("\u{1F310} Initialisation Firebase c\xF4t\xE9 navigateur...");let t={apiKey:"AIzaSyBNORKbQDMjvMmovUWVAIKxmfOAcIpUtLY",authDomain:"whos-eating.firebaseapp.com",databaseURL:"https://whos-eating-default-rtdb.europe-west1.firebasedatabase.app",projectId:"whos-eating",storageBucket:"whos-eating.firebasestorage.app",messagingSenderId:"1027430586394",appId:"1:1027430586394:web:1f956d00af660575da59a3"};try{let n=Ju(t);this.db=FE(n),this.isInitialized=!0,console.log("\u2705 Firebase initialis\xE9 avec succ\xE8s"),console.log("\u{1F4CD} Database URL:",t.databaseURL),this.listenToChanges()}catch(n){console.error("\u274C Erreur lors de l'initialisation Firebase:",n),this.isInitialized=!1}}else console.log("\u26A0\uFE0F Ex\xE9cution c\xF4t\xE9 serveur - Firebase non initialis\xE9")}listenToChanges(){if(!this.isBrowser||!this.isInitialized){console.log("\u26A0\uFE0F listenToChanges - conditions non remplies:",{isBrowser:this.isBrowser,isInitialized:this.isInitialized});return}let t=new Date().toDateString(),n=Ma(this.db,`lunches/${t}`);console.log("\u{1F50D} D\xE9marrage de l'\xE9coute des changements Firebase"),console.log("\u{1F4C5} Date du jour:",t),console.log("\u{1F517} Chemin Firebase:",`lunches/${t}`);try{kE(n,r=>{console.log("\u{1F4E1} \xC9v\xE9nement Firebase re\xE7u");let i=r.val();console.log("\u{1F4E6} Donn\xE9es brutes:",JSON.stringify(i,null,2)),i&&i.participants?(console.log("\u2705 Mise \xE0 jour avec",i.participants.length,"participants:",i.participants.map(o=>o.name).join(", ")),this.participantsSubject.next(i.participants)):(console.log("\u2139\uFE0F Aucune donn\xE9e - r\xE9initialisation tableau vide"),this.participantsSubject.next([]))},r=>{console.error("\u274C Erreur Firebase onValue:",r),console.error("D\xE9tails erreur:",{code:r.code||"unknown",message:r.message||String(r),stack:r.stack})}),console.log("\u2705 Listener Firebase configur\xE9 avec succ\xE8s")}catch(r){console.error("\u274C Erreur lors de la configuration du listener:",r)}}saveParticipants(t){return B(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F saveParticipants appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de sauvegarder");return}try{let n=new Date().toDateString(),r=Ma(this.db,`lunches/${n}`);console.log("\u{1F4BE} Tentative de sauvegarde dans Firebase"),console.log("\u{1F4C5} Date:",n),console.log("\u{1F4CA} Nombre de participants:",t.length),console.log("\u{1F465} Participants:",t.map(o=>o.name).join(", "));let i={date:n,participants:t};console.log("\u{1F4E4} Donn\xE9es \xE0 sauvegarder:",JSON.stringify(i,null,2)),yield xf(r,i),console.log("\u2705 Sauvegarde Firebase r\xE9ussie")}catch(n){console.error("\u274C Erreur lors de la sauvegarde Firebase:",n),console.error("D\xE9tails erreur:",{name:n instanceof Error?n.name:"Unknown",message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0})}})}resetDay(){return B(this,null,function*(){if(!this.isBrowser){console.log("\u26A0\uFE0F resetDay appel\xE9 c\xF4t\xE9 serveur - ignor\xE9");return}if(!this.isInitialized||!this.db){console.error("\u274C Firebase non initialis\xE9 - impossible de r\xE9initialiser");return}try{let t=new Date().toDateString(),n=Ma(this.db,`lunches/${t}`);console.log("\u{1F504} Tentative de r\xE9initialisation Firebase"),console.log("\u{1F4C5} Date:",t),yield PE(n),console.log("\u2705 R\xE9initialisation Firebase r\xE9ussie")}catch(t){console.error("\u274C Erreur lors de la r\xE9initialisation Firebase:",t),console.error("D\xE9tails erreur:",{name:t instanceof Error?t.name:"Unknown",message:t instanceof Error?t.message:String(t)})}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};function xO(e,t){if(e&1&&(_(0,"div",36),gt(1,"div",37),C()),e&2){let n=t.$implicit;su("top",n.top,"%")("left",n.left,"%")("transform",n.transform)}}function NO(e,t){if(e&1){let n=qn();_(0,"div",43)(1,"button",44),fe("click",function(){xe(n);let i=se().$implicit,o=se();return Ne(o.openGuestForm(i))}),T(2," \u{1F3AD}+ "),C(),_(3,"button",45),fe("click",function(){xe(n);let i=se().$implicit,o=se();return Ne(o.removeMember(i))}),T(4," \u2694\uFE0F "),C()()}}function AO(e,t){if(e&1){let n=qn();_(0,"div",38)(1,"button",39),fe("click",function(){let i=xe(n).$implicit,o=se();return Ne(o.addMember(i))}),_(2,"span",40),T(3),C(),_(4,"span",41),T(5),C()(),Nt(6,NO,5,0,"div",42),C()}if(e&2){let n=t.$implicit,r=se();K(),qr("registered",r.hasMemberRegistered(n)),Ae("disabled",r.hasMemberRegistered(n)),K(2),mt(n),K(2),mt(r.hasMemberRegistered(n)?"\u269C\uFE0F":"\u2795"),K(),Ae("ngIf",r.hasMemberRegistered(n))}}function OO(e,t){if(e&1&&(_(0,"span",58),T(1),C()),e&2){let n=se().$implicit;K(),sn(" (invit\xE9 de ",n.addedBy,") ")}}function RO(e,t){if(e&1){let n=qn();_(0,"div",51)(1,"div",52)(2,"span",53),T(3),C(),_(4,"div",54)(5,"span",55),T(6),C(),Nt(7,OO,2,1,"span",56),C()(),_(8,"button",57),fe("click",function(){let i=xe(n).$implicit,o=se(2);return Ne(o.removeParticipant(i))}),T(9,"\u2694\uFE0F"),C()()}if(e&2){let n=t.$implicit;K(3),mt(n.isGuest?"\u{1F3AD}":"\u{1FAC5}\u{1F3FB}"),K(3),mt(n.name),K(),Ae("ngIf",n.isGuest)}}function PO(e,t){if(e&1&&(_(0,"div",46)(1,"div",47),T(2,"\u{1F3BA}"),C(),_(3,"div",48),T(4,"\u{1F3BA}"),C(),_(5,"h2",24),gt(6,"span",25),T(7),gt(8,"span",25),C(),_(9,"div",49),Nt(10,RO,10,3,"div",50),C()()),e&2){let n=se();K(7),sn(" Participants (",n.totalCount,") "),K(3),Ae("ngForOf",n.participants)}}function kO(e,t){if(e&1){let n=qn();_(0,"div",59),fe("click",function(){xe(n);let i=se();return Ne(i.cancelGuestForm())}),_(1,"div",60),fe("click",function(i){return xe(n),Ne(i.stopPropagation())}),gt(2,"div",61),_(3,"h3",62),T(4),C(),_(5,"input",63),lu("ngModelChange",function(i){xe(n);let o=se();return gy(o.guestName,i)||(o.guestName=i),Ne(i)}),fe("keyup.enter",function(){xe(n);let i=se();return Ne(i.addGuest(i.selectedMember))}),C(),_(6,"div",64)(7,"button",65),fe("click",function(){xe(n);let i=se();return Ne(i.cancelGuestForm())}),_(8,"span",66),T(9,"\u2715"),C(),T(10," Annuler "),C(),_(11,"button",67),fe("click",function(){xe(n);let i=se();return Ne(i.addGuest(i.selectedMember))}),_(12,"span",66),T(13,"\u269C\uFE0F"),C(),T(14," Ajouter "),C()(),_(15,"div",68)(16,"span"),T(17,"\u2726"),C(),_(18,"span"),T(19,"\u2726"),C(),_(20,"span"),T(21,"\u2726"),C()()()()}if(e&2){let n=se();K(4),sn(" Invit\xE9 de ",n.selectedMember," "),K(),au("ngModel",n.guestName),K(6),Ae("disabled",!n.guestName.trim())}}function FO(e,t){if(e&1){let n=qn();_(0,"footer",69),gt(1,"div",70),_(2,"button",71),fe("click",function(){xe(n);let i=se();return Ne(i.resetDay())}),_(3,"span",72),T(4,"\u2694\uFE0F"),C(),T(5," R\xE9initialiser le Festin "),C()()}}var Sa=class e{constructor(t){this.dataService=t}title="Qui Mange Ce Midi ? \u{1F37D}\uFE0F";familyMembers=["Papa","Maman","David","Apo","Clovis","Julien"];participants=[];guestName="";selectedMember="";showGuestForm=!1;ngOnInit(){this.dataService.participants$.subscribe(t=>{this.participants=t})}getCurrentDate(){return new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getEmojis(){return this.totalCount===0?"\u{1F634}":"\u{1F37D}\uFE0F".repeat(Math.min(this.totalCount,10))}getPlates(){let t=[],n=this.totalCount,r=42,i=50,o=50;for(let s=0;s<n;s++){let a=s*360/n-90,l=a*Math.PI/180,c=i+r*Math.cos(l),u=o+r*Math.sin(l);t.push({top:u,left:c,transform:`translate(-50%, -50%) rotate(${a}deg)`})}return t}get totalCount(){return this.participants.length}get availableMembers(){return this.familyMembers.filter(t=>!this.participants.some(n=>n.name===t&&!n.isGuest))}hasMemberRegistered(t){return this.participants.some(n=>n.name===t&&!n.isGuest)}hasAnyRegistered(){return this.participants.some(t=>!t.isGuest)}addMember(t){if(!this.hasMemberRegistered(t)){let n=[...this.participants,{name:t,isGuest:!1}];this.dataService.saveParticipants(n)}}removeMember(t){let n=this.participants.filter(r=>!(r.name===t&&!r.isGuest)&&r.addedBy!==t);this.dataService.saveParticipants(n)}addGuest(t){if(this.guestName.trim()&&t){let n=[...this.participants,{name:this.guestName.trim(),isGuest:!0,addedBy:t}];this.guestName="",this.showGuestForm=!1,this.selectedMember="",this.dataService.saveParticipants(n)}}removeParticipant(t){let n=this.participants.filter(r=>r!==t);this.dataService.saveParticipants(n)}openGuestForm(t){this.selectedMember=t,this.showGuestForm=!0}cancelGuestForm(){this.showGuestForm=!1,this.guestName="",this.selectedMember=""}resetDay(){this.dataService.resetDay()}static \u0275fac=function(n){return new(n||e)(Y(Ta))};static \u0275cmp=ny({type:e,selectors:[["app-root"]],decls:63,vars:9,consts:[[1,"container"],[1,"castle-decoration-top"],[1,"torch","torch-left"],[1,"castle-banner"],[1,"banner-flag"],[1,"torch","torch-right"],[1,"header"],[1,"corner-ornament","corner-top-left"],[1,"corner-ornament","corner-top-right"],[1,"corner-ornament","corner-bottom-left"],[1,"corner-ornament","corner-bottom-right"],[1,"title"],[1,"date"],[1,"counter-section"],[1,"table-container"],[1,"table-top"],[1,"table-wood-grain"],[1,"counter-number"],[1,"counter-label"],[1,"plates-container"],["class","plate",3,"top","left","transform",4,"ngFor","ngForOf"],[1,"candelabra","candelabra-left"],[1,"candelabra","candelabra-right"],[1,"add-section"],[1,"section-title"],[1,"title-decoration"],[1,"family-grid"],["class","member-card",4,"ngFor","ngForOf"],[1,"section-footer"],[1,"footer-ornament"],["class","participants-section",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","footer",4,"ngIf"],[1,"castle-decoration-bottom"],[1,"castle-foundation"],[1,"foundation-stone"],[1,"plate"],[1,"plate-inner"],[1,"member-card"],[1,"member-btn",3,"click","disabled"],[1,"member-name"],[1,"member-status"],["class","member-actions",4,"ngIf"],[1,"member-actions"],["title","Ajouter un invit\xE9",1,"action-btn","guest-add-btn",3,"click"],["title","Se d\xE9sinscrire",1,"action-btn","member-remove-btn",3,"click"],[1,"participants-section"],[1,"trumpet","trumpet-left"],[1,"trumpet","trumpet-right"],[1,"participants-list"],["class","participant-card",4,"ngFor","ngForOf"],[1,"participant-card"],[1,"participant-info"],[1,"participant-icon"],[1,"participant-details"],[1,"participant-name"],["class","participant-label",4,"ngIf"],["title","Retirer",1,"remove-btn",3,"click"],[1,"participant-label"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-banner"],[1,"modal-title"],["type","text","placeholder","Nom de l'invit\xE9","autofocus","",1,"guest-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-buttons"],[1,"btn-cancel",3,"click"],[1,"btn-icon"],[1,"btn-confirm",3,"click","disabled"],[1,"modal-decoration"],[1,"footer"],[1,"footer-decoration"],[1,"reset-btn",3,"click"],[1,"reset-icon"]],template:function(n,r){n&1&&(_(0,"div",0)(1,"div",1)(2,"div",2),T(3,"\u{1F56F}\uFE0F"),C(),_(4,"div",3)(5,"div",4),T(6,"\u269C\uFE0F"),C()(),_(7,"div",5),T(8,"\u{1F56F}\uFE0F"),C()(),_(9,"header",6),gt(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),_(14,"h1",11),T(15),C(),_(16,"div",12),T(17),C()(),_(18,"div",13)(19,"div",14)(20,"div",15),gt(21,"div",16),_(22,"div",17),T(23),C(),_(24,"div",18),T(25),C(),_(26,"div",19),Nt(27,xO,2,6,"div",20),C()()(),_(28,"div",21),T(29,"\u{1F56F}\uFE0F"),C(),_(30,"div",22),T(31,"\u{1F56F}\uFE0F"),C()(),_(32,"div",23)(33,"h2",24)(34,"span",25),T(35,"\u{1F3F0}"),C(),T(36," Qui vient manger ? "),_(37,"span",25),T(38,"\u{1F3F0}"),C()(),_(39,"div",26),Nt(40,AO,7,6,"div",27),C(),_(41,"div",28)(42,"span",29),T(43,"\u2726"),C(),_(44,"span",29),T(45,"\u2726"),C(),_(46,"span",29),T(47,"\u2726"),C()()(),Nt(48,PO,11,2,"div",30)(49,kO,22,3,"div",31)(50,FO,6,0,"footer",32),_(51,"div",33)(52,"div",34)(53,"span",35),T(54,"\u25AA\uFE0F"),C(),_(55,"span",35),T(56,"\u25AA\uFE0F"),C(),_(57,"span",35),T(58,"\u25AA\uFE0F"),C(),_(59,"span",35),T(60,"\u25AA\uFE0F"),C(),_(61,"span",35),T(62,"\u25AA\uFE0F"),C()()()()),n&2&&(K(15),mt(r.title),K(2),mt(r.getCurrentDate()),K(6),mt(r.totalCount),K(2),sn("convive",r.totalCount>1?"s":"",""),K(2),Ae("ngForOf",r.getPlates()),K(13),Ae("ngForOf",r.familyMembers),K(8),Ae("ngIf",r.participants.length>0),K(),Ae("ngIf",r.showGuestForm),K(),Ae("ngIf",r.participants.length>0))},dependencies:[Ts,Ms,pu,a_,js,i_,Ru],styles:['[_nghost-%COMP%]{--medieval-gold: #d4af37;--medieval-red: #8b0000;--medieval-purple: #4b0082;--medieval-green: #2d5016;--medieval-brown: #3d2817;--medieval-stone: #8b8680;--parchment: #f4e4c1;--parchment-dark: #d4c5a0;--royal-blue: #002366;--blood-red: #8b0000;--dragon-fire: #ff4500;--castle-shadow: 6px 6px 0px rgba(0, 0, 0, .4)}.container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:30px 25px;min-height:100vh;position:relative;z-index:1;border-left:15px solid #6b5d54;border-right:15px solid #6b5d54;box-shadow:inset 5px 0 15px #0000004d,inset -5px 0 15px #0000004d;background:linear-gradient(90deg,rgba(107,93,84,.1) 0%,transparent 10%,transparent 90%,rgba(107,93,84,.1) 100%)}.header[_ngcontent-%COMP%]{text-align:center;padding:60px 50px 55px;position:relative;min-height:180px;border:6px solid transparent;border-image:linear-gradient(135deg,#b8941f,#dab02c,#cfa414,#edbf2b,#b8941f) 1;outline:3px solid #3D2817;outline-offset:-9px;box-shadow:0 0 0 2px #b8941f,0 0 0 12px #b8941f1a,inset 0 0 40px #b8941f26;filter:drop-shadow(0 12px 20px rgba(0,0,0,.35)) drop-shadow(0 5px 8px rgba(0,0,0,.25));background-color:#fff8e1}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;left:-6px;width:50px;height:50px;background:linear-gradient(135deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(45deg,#c9a227,#b8941f);border-radius:0 0 15px;box-shadow:inset 2px 2px 4px #c9a22780,2px 2px 6px #0000004d;z-index:10}.header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-6px;right:-6px;width:50px;height:50px;background:linear-gradient(-45deg,transparent 0%,transparent 48%,#B8941F 48%,#B8941F 52%,transparent 52%),linear-gradient(135deg,#ffd44b,#b8941f);border-radius:15px 0 0;box-shadow:inset -2px -2px 4px #c9a22780,-2px -2px 6px #0000004d;z-index:10}.corner-ornament[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;z-index:15}.corner-ornament[_ngcontent-%COMP%]:before, .corner-ornament[_ngcontent-%COMP%]:after{content:"";position:absolute;background:linear-gradient(135deg,#ffd44b,#b8941f);border-radius:50%}.corner-top-left[_ngcontent-%COMP%]{top:8px;left:8px}.corner-top-left[_ngcontent-%COMP%]:before{width:12px;height:12px;top:0;left:0;box-shadow:0 0 8px #c9a227cc}.corner-top-left[_ngcontent-%COMP%]:after{width:8px;height:8px;top:16px;left:16px;box-shadow:0 0 6px #b8941f99}.corner-top-right[_ngcontent-%COMP%]{top:8px;right:8px}.corner-top-right[_ngcontent-%COMP%]:before{width:12px;height:12px;top:0;right:0;box-shadow:0 0 8px #c9a227cc}.corner-top-right[_ngcontent-%COMP%]:after{width:8px;height:8px;top:16px;right:16px;box-shadow:0 0 6px #b8941f99}.corner-bottom-left[_ngcontent-%COMP%]{bottom:8px;left:8px}.corner-bottom-left[_ngcontent-%COMP%]:before{width:12px;height:12px;bottom:0;left:0;box-shadow:0 0 8px #c9a227cc}.corner-bottom-left[_ngcontent-%COMP%]:after{width:8px;height:8px;bottom:16px;left:16px;box-shadow:0 0 6px #b8941f99}.corner-bottom-right[_ngcontent-%COMP%]{bottom:8px;right:8px}.corner-bottom-right[_ngcontent-%COMP%]:before{width:12px;height:12px;bottom:0;right:0;box-shadow:0 0 8px #c9a227cc}.corner-bottom-right[_ngcontent-%COMP%]:after{width:8px;height:8px;bottom:16px;right:16px;box-shadow:0 0 6px #b8941f99}.title[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#2c1810;text-shadow:2px 2px 0px rgba(139,69,19,.4),-1px -1px 0px rgba(0,0,0,.3);font-weight:700;line-height:1.3;font-family:Old London,UnifrakturMaguntia,cursive;letter-spacing:3px;text-transform:uppercase;position:relative;z-index:10}.title[_ngcontent-%COMP%]:before{content:"\\2694\\fe0f";margin-right:12px;font-size:1.6rem;filter:drop-shadow(2px 2px 3px rgba(0,0,0,.3))}.title[_ngcontent-%COMP%]:after{content:"\\1f357";margin-left:12px;font-size:1.6rem;filter:drop-shadow(2px 2px 3px rgba(0,0,0,.3))}.date[_ngcontent-%COMP%]{font-size:1.1rem;color:#654321;margin-top:12px;font-weight:700;text-transform:capitalize;text-shadow:2px 2px 0px rgba(139,69,19,.3),-1px -1px 0px rgba(255,255,255,.5);font-style:italic;font-family:MedievalSharp,serif;position:relative;z-index:10}.counter-section[_ngcontent-%COMP%]{padding:25px;margin-bottom:20px}.counter-section[_ngcontent-%COMP%]:before, .counter-section[_ngcontent-%COMP%]:after{content:"\\2726";position:absolute;font-size:2rem;color:var(--medieval-gold);text-shadow:2px 2px 4px rgba(0,0,0,.5)}.counter-section[_ngcontent-%COMP%]:before{top:-10px;left:-10px}.counter-section[_ngcontent-%COMP%]:after{bottom:-10px;right:-10px}.table-container[_ngcontent-%COMP%]{perspective:1000px}.table-top[_ngcontent-%COMP%]{position:relative;width:100%;max-width:380px;height:380px;margin:0 auto;background:linear-gradient(135deg,#654321,#8b6914,#654321,#8b6914,#654321);border:12px solid var(--medieval-brown);border-radius:50%;box-shadow:0 15px 40px #00000080,inset 0 0 60px #0000004d,inset 0 0 100px #8b451366,0 0 0 4px var(--medieval-gold);display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(30deg)}.table-wood-grain[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:50%;background:repeating-linear-gradient(90deg,transparent,transparent 8px,rgba(0,0,0,.1) 8px,rgba(0,0,0,.1) 12px),repeating-linear-gradient(45deg,transparent,transparent 20px,rgba(101,67,33,.05) 20px,rgba(101,67,33,.05) 40px);pointer-events:none}.table-top[_ngcontent-%COMP%]:before{content:"\\269c\\fe0f";position:absolute;top:15%;left:50%;transform:translate(-50%);font-size:2rem;opacity:.3;z-index:1}.counter-number[_ngcontent-%COMP%]{font-size:4.5rem;font-weight:900;color:var(--medieval-gold);text-shadow:4px 4px 0px var(--medieval-brown),0 0 30px rgba(212,175,55,.8),0 0 50px rgba(255,215,0,.6);line-height:1;z-index:10;position:relative;font-family:UnifrakturMaguntia,serif;animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{text-shadow:4px 4px 0px var(--medieval-brown),0 0 30px rgba(212,175,55,.8),0 0 50px rgba(255,215,0,.6)}to{text-shadow:4px 4px 0px var(--medieval-brown),0 0 40px rgba(212,175,55,1),0 0 70px rgba(255,215,0,.8)}}.counter-label[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--parchment);margin-top:8px;font-weight:700;text-transform:uppercase;letter-spacing:3px;z-index:10;position:relative;text-shadow:3px 3px 6px rgba(0,0,0,.7);font-family:MedievalSharp,serif}.plates-container[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.plate[_ngcontent-%COMP%]{position:absolute;width:55px;height:55px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#e8e8e8,#a9a9a9);border:4px solid var(--medieval-brown);box-shadow:0 6px 12px #0006,inset 0 0 15px #0003,inset 0 2px 4px #ffffff80;animation:_ngcontent-%COMP%_plateAppear .6s ease-out}.plate-inner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:38px;height:38px;border-radius:50%;border:3px solid #808080;background:radial-gradient(circle at 40% 40%,#d3d3d3,#999)}@keyframes _ngcontent-%COMP%_plateAppear{0%{transform:translate(-50%,-50%) scale(0) rotate(360deg);opacity:0}to{transform:translate(-50%,-50%) scale(1) rotate(0);opacity:1}}.add-section[_ngcontent-%COMP%]{margin-bottom:20px;background:var(--parchment);padding:30px 20px 20px;border:5px double var(--medieval-brown);box-shadow:var(--castle-shadow);position:relative}.section-title[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:15px;margin-top:8px;color:var(--medieval-red);text-align:center;font-weight:700;text-shadow:2px 2px 0px var(--medieval-gold),3px 3px 6px rgba(0,0,0,.3);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;white-space:nowrap;overflow:visible;display:flex;align-items:center;justify-content:space-between;flex-wrap:nowrap;width:100%}.family-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:15px}.member-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:8px}.member-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--royal-blue) 0%,#003d99 100%);color:var(--medieval-gold);border:5px solid var(--medieval-gold);border-radius:8px;padding:18px 14px;font-size:1.1rem;font-weight:700;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease;box-shadow:var(--castle-shadow),inset 0 0 20px #0000004d;font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:1px;position:relative;overflow:hidden}.member-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shine 3s infinite}@keyframes _ngcontent-%COMP%_shine{0%{transform:translate(-100%) translateY(-100%) rotate(45deg)}to{transform:translate(100%) translateY(100%) rotate(45deg)}}.member-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translate(-3px,-3px) scale(1.02);box-shadow:8px 8px #0006,inset 0 0 30px #0003,0 0 20px #d4af3780;border-color:gold}.member-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(3px,3px);box-shadow:3px 3px #0006}.member-btn.registered[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--medieval-green) 0%,#3d6b28 100%);color:var(--medieval-gold);cursor:default;border-color:var(--medieval-gold)}.member-btn.registered[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:-8px;right:-8px;background:var(--medieval-gold);color:var(--medieval-green);width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;border:3px solid var(--medieval-brown);box-shadow:0 2px 6px #00000080}.member-status[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.member-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{flex:1;border:4px solid var(--medieval-brown);border-radius:6px;padding:10px 8px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:3px 3px #0000004d;font-family:MedievalSharp,serif;position:relative}.action-btn[_ngcontent-%COMP%]:hover{transform:translate(-2px,-2px);box-shadow:5px 5px #00000059}.action-btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px);box-shadow:1px 1px #0003}.guest-add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--dragon-fire) 0%,#cc3700 100%);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.guest-add-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff5722,#ff4500);box-shadow:5px 5px #00000059,0 0 15px #ff450099}.member-remove-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);color:var(--medieval-gold);text-shadow:2px 2px 4px rgba(0,0,0,.7)}.member-remove-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);box-shadow:5px 5px #00000059,0 0 15px #8b000099}.participants-section[_ngcontent-%COMP%]{margin-top:20px;background:var(--parchment-dark);padding:20px;border:5px double var(--medieval-brown);box-shadow:var(--castle-shadow);position:relative}.participants-section[_ngcontent-%COMP%]:before{content:"\\1f451";position:absolute;top:-25px;right:20px;font-size:2rem;background:var(--medieval-gold);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:4px solid var(--medieval-brown);box-shadow:0 4px 8px #0006}.participants-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.participant-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff8e7 0%,var(--parchment) 100%);padding:14px;border:4px solid var(--medieval-brown);border-left:8px solid var(--medieval-gold);display:flex;justify-content:space-between;align-items:center;box-shadow:4px 4px #0003;transition:transform .3s ease;position:relative}.participant-card[_ngcontent-%COMP%]:hover{transform:translate(8px);box-shadow:6px 6px #00000040}.participant-card[_ngcontent-%COMP%]:before{content:"\\25c6";position:absolute;left:-6px;top:50%;transform:translateY(-50%);color:var(--medieval-gold);font-size:1.2rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.participant-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.participant-icon[_ngcontent-%COMP%]{font-size:1.8rem;filter:drop-shadow(2px 2px 3px rgba(0,0,0,.3))}.participant-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.participant-name[_ngcontent-%COMP%]{font-weight:700;color:var(--medieval-brown);font-size:1.1rem;font-family:MedievalSharp,serif;text-shadow:1px 1px 2px rgba(212,175,55,.3)}.participant-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;font-family:MedievalSharp,serif}.remove-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);border:3px solid var(--medieval-brown);color:var(--medieval-gold);font-size:1.4rem;cursor:pointer;width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;font-weight:700;flex-shrink:0;box-shadow:0 4px 8px #0000004d;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.remove-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:rotate(90deg) scale(1.1);box-shadow:0 6px 12px #0006,0 0 20px #8b000099}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#3d2817e6;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .4s ease;padding:20px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal[_ngcontent-%COMP%]{background:var(--parchment);padding:30px;border:8px double var(--medieval-brown);box-shadow:0 15px 60px #0009,inset 0 0 40px #8b45131a;width:100%;max-width:400px;position:relative;animation:_ngcontent-%COMP%_slideDown .4s ease}.modal[_ngcontent-%COMP%]:before, .modal[_ngcontent-%COMP%]:after{content:"\\1f531";position:absolute;font-size:2rem;top:-20px}.modal[_ngcontent-%COMP%]:before{left:20px}.modal[_ngcontent-%COMP%]:after{right:20px}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100px) scale(.8);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.modal-title[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:20px;color:var(--medieval-red);text-align:center;font-weight:700;font-family:MedievalSharp,serif;text-shadow:2px 2px 0px var(--medieval-gold);text-transform:uppercase;letter-spacing:2px}.guest-input[_ngcontent-%COMP%]{width:100%;padding:14px;border:4px solid var(--medieval-brown);border-radius:6px;font-size:1.1rem;margin-bottom:20px;font-family:MedievalSharp,serif;background:#fff8e7;box-sizing:border-box;box-shadow:inset 0 2px 6px #0003}.guest-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--medieval-gold);box-shadow:inset 0 2px 6px #0003,0 0 0 4px #d4af374d}.modal-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{flex:1;padding:14px;border:4px solid var(--medieval-brown);border-radius:6px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:4px 4px #0000004d;font-family:MedievalSharp,serif;text-transform:uppercase}.btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b8680,#6b6660);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.btn-cancel[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7b7670,#5b5650);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059}.btn-confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--medieval-gold) 0%,#c9a227 100%);color:var(--medieval-brown);text-shadow:1px 1px 2px rgba(255,255,255,.5)}.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#ffd700 0%,var(--medieval-gold) 100%);transform:translate(-2px,-2px);box-shadow:6px 6px #00000059,0 0 20px #d4af3799}.btn-confirm[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#aaa,#888);color:#555;cursor:not-allowed;opacity:.6}.footer[_ngcontent-%COMP%]{margin-top:25px;text-align:center;padding:15px}.reset-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--blood-red) 0%,#660000 100%);color:var(--medieval-gold);border:5px solid var(--medieval-gold);border-radius:8px;padding:15px 35px;font-size:1.2rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:var(--castle-shadow);font-family:MedievalSharp,serif;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.reset-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b30000,#8b0000);transform:translate(-3px,-3px) scale(1.05);box-shadow:8px 8px #0006,0 0 25px #8b0000b3;border-color:gold}.reset-btn[_ngcontent-%COMP%]:active{transform:translate(3px,3px);box-shadow:3px 3px #0000004d}@media screen and (max-width: 500px){.container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{padding:15px 12px;margin-bottom:15px}.title[_ngcontent-%COMP%]{font-size:1.4rem;letter-spacing:1px;padding-top:2.3rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1.2rem;margin:0 6px}.date[_ngcontent-%COMP%]{font-size:.85rem;margin-top:8px}.counter-section[_ngcontent-%COMP%]{padding:15px 10px;margin-bottom:15px}.table-top[_ngcontent-%COMP%]{max-width:280px;height:280px;transform:rotateX(25deg)}.counter-number[_ngcontent-%COMP%]{font-size:3rem}.counter-label[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:2px}.plate[_ngcontent-%COMP%]{width:45px;height:45px}.plate-inner[_ngcontent-%COMP%]{width:32px;height:32px}.add-section[_ngcontent-%COMP%]{padding-top:25px}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:12px;margin-top:5px}.title-decoration[_ngcontent-%COMP%]{margin:0 6px;font-size:1.1rem}.family-grid[_ngcontent-%COMP%]{gap:8px;grid-template-columns:repeat(2,1fr)}.member-btn[_ngcontent-%COMP%]{padding:12px 10px;font-size:.95rem}.member-status[_ngcontent-%COMP%]{font-size:1.2rem}.action-btn[_ngcontent-%COMP%]{padding:8px 6px;font-size:.95rem}.participant-card[_ngcontent-%COMP%]{padding:10px}.participant-icon[_ngcontent-%COMP%]{font-size:1.4rem}.participant-name[_ngcontent-%COMP%]{font-size:.95rem}.participant-label[_ngcontent-%COMP%]{font-size:.75rem}.remove-btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1.1rem}.modal[_ngcontent-%COMP%]{padding:20px 15px;width:92%}.modal-title[_ngcontent-%COMP%]{font-size:1.2rem}.guest-input[_ngcontent-%COMP%]{padding:10px;font-size:1rem}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{padding:10px;font-size:.9rem}.reset-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:.95rem}.torch[_ngcontent-%COMP%]{font-size:2rem}.participants-section[_ngcontent-%COMP%]:before{font-size:1.5rem;width:40px;height:40px;top:-20px;right:15px}.participants-section[_ngcontent-%COMP%]{padding-top:25px}}@media screen and (max-width: 350px){.family-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.title[_ngcontent-%COMP%]{font-size:1.2rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1rem}.table-top[_ngcontent-%COMP%]{max-width:250px;height:250px}.counter-number[_ngcontent-%COMP%]{font-size:2.5rem}.counter-label[_ngcontent-%COMP%]{font-size:.8rem}.plate[_ngcontent-%COMP%]{width:40px;height:40px}.plate-inner[_ngcontent-%COMP%]{width:28px;height:28px}.add-section[_ngcontent-%COMP%]{padding-top:22px}.section-title[_ngcontent-%COMP%]{margin-top:4px}.title-decoration[_ngcontent-%COMP%]{margin:0 5px;font-size:1rem}}@media screen and (min-width: 351px) and (max-width: 400px){.container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{padding:18px 14px;min-height:160px}.title[_ngcontent-%COMP%]{font-size:1.3rem;letter-spacing:1.5px;line-height:1.4;padding-top:2.3rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{font-size:1.15rem;margin:0 8px}.date[_ngcontent-%COMP%]{font-size:.9rem;margin-top:10px}.table-top[_ngcontent-%COMP%]{max-width:265px;height:265px}.counter-number[_ngcontent-%COMP%]{font-size:2.8rem}.counter-label[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:1.5px}.plate[_ngcontent-%COMP%]{width:42px;height:42px}.plate-inner[_ngcontent-%COMP%]{width:30px;height:30px}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;letter-spacing:1px;line-height:1.5;margin-bottom:14px;margin-top:5px;word-spacing:2px}.title-decoration[_ngcontent-%COMP%]{font-size:1.15rem;margin:0 6px;display:inline-block}.family-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:9px}.member-btn[_ngcontent-%COMP%]{padding:13px 11px;font-size:.97rem}.member-status[_ngcontent-%COMP%]{font-size:1.25rem}.action-btn[_ngcontent-%COMP%]{padding:9px 7px;font-size:.97rem}.participant-icon[_ngcontent-%COMP%]{font-size:1.45rem}.participant-name[_ngcontent-%COMP%]{font-size:.97rem}.participant-label[_ngcontent-%COMP%]{font-size:.78rem}.participants-section[_ngcontent-%COMP%]:before{font-size:1.6rem;width:42px;height:42px;top:-21px}.add-section[_ngcontent-%COMP%]:before{font-size:1.5rem;width:40px;height:40px;top:-12px}.modal[_ngcontent-%COMP%]{padding:22px 16px;width:90%}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.torch[_ngcontent-%COMP%]{font-size:2.2rem}.banner-flag[_ngcontent-%COMP%]{font-size:3.2rem}.candelabra[_ngcontent-%COMP%]{font-size:2.2rem}.trumpet[_ngcontent-%COMP%]{font-size:2rem}.royal-seal[_ngcontent-%COMP%]{font-size:2.5rem}.footer-ornament[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 12px}.participant-card[_ngcontent-%COMP%]:before{font-size:1.3rem;left:-10px}.reset-btn[_ngcontent-%COMP%]{padding:12px 22px;font-size:.98rem}.reset-icon[_ngcontent-%COMP%]{font-size:1.15rem}.foundation-stone[_ngcontent-%COMP%]{font-size:1.6rem}}*[_ngcontent-%COMP%]{font-variant-emoji:emoji;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.participant-icon[_ngcontent-%COMP%], .member-status[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after, .torch[_ngcontent-%COMP%], .participants-section[_ngcontent-%COMP%]:before{font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji",sans-serif;display:inline-block}.castle-decoration-top[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:30px;padding:20px 0}.torch[_ngcontent-%COMP%]{position:absolute;top:0;font-size:3rem;filter:drop-shadow(0 0 20px rgba(255,140,0,.8))}.torch-left[_ngcontent-%COMP%]{left:10px}.torch-right[_ngcontent-%COMP%]{right:10px}.castle-banner[_ngcontent-%COMP%]{display:inline-block;position:relative}.banner-flag[_ngcontent-%COMP%]{font-size:4rem;filter:drop-shadow(0 8px 15px rgba(0,0,0,.4))}.header-chains[_ngcontent-%COMP%]{position:absolute;top:-20px;left:50%;transform:translate(-50%);display:flex;gap:10px}.chain-link[_ngcontent-%COMP%]{font-size:1.5rem;opacity:.7}.herald-left[_ngcontent-%COMP%], .herald-right[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:2.5rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.5))}.herald-left[_ngcontent-%COMP%]{left:-15px}.herald-right[_ngcontent-%COMP%]{right:-15px}.feast-banner[_ngcontent-%COMP%]{position:absolute;top:20px;font-size:3rem;filter:drop-shadow(0 6px 10px rgba(0,0,0,.4))}.feast-banner-left[_ngcontent-%COMP%]{left:-10px}.feast-banner-right[_ngcontent-%COMP%]{right:-10px}.candelabra[_ngcontent-%COMP%]{position:absolute;bottom:20px;font-size:2.5rem;filter:drop-shadow(0 0 15px rgba(255,200,100,.8))}.candelabra-left[_ngcontent-%COMP%]{left:15px}.candelabra-right[_ngcontent-%COMP%]{right:15px}.royal-crown[_ngcontent-%COMP%]{position:absolute;top:-25px;left:50%;transform:translate(-50%);font-size:3rem;filter:drop-shadow(0 0 20px rgba(255,215,0,.8));z-index:10}.title-decoration[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:1.5rem}.section-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:15px;border-top:3px double var(--medieval-gold)}.footer-ornament[_ngcontent-%COMP%]{display:inline-block;margin:0 15px;font-size:1.5rem;color:var(--medieval-gold)}.trumpet[_ngcontent-%COMP%]{position:absolute;top:15px;font-size:2.5rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}.trumpet-left[_ngcontent-%COMP%]{left:10px;transform:rotate(30deg)}.trumpet-right[_ngcontent-%COMP%]{right:10px;transform:rotate(30deg)}.royal-seal[_ngcontent-%COMP%]{position:absolute;bottom:-20px;right:20px;font-size:3rem;filter:drop-shadow(0 6px 12px rgba(139,0,0,.6))}.modal-banner[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%);width:100%;text-align:center}.modal-crown[_ngcontent-%COMP%]{font-size:3.5rem;display:inline-block;filter:drop-shadow(0 0 25px rgba(255,215,0,.9))}.modal-decoration[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:15px;border-top:2px solid var(--medieval-gold)}.modal-decoration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:1.2rem;color:var(--medieval-gold)}.btn-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:8px;font-size:1.2rem}.footer-decoration[_ngcontent-%COMP%]{position:absolute;top:-30px;left:50%;transform:translate(-50%)}.footer-shield[_ngcontent-%COMP%]{font-size:3rem;display:inline-block;filter:drop-shadow(0 8px 15px rgba(0,0,0,.5))}.reset-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;font-size:1.3rem}.castle-decoration-bottom[_ngcontent-%COMP%]{margin-top:40px;padding:30px 0;text-align:center;border-top:5px double var(--medieval-gold)}.castle-foundation[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.foundation-stone[_ngcontent-%COMP%]{font-size:2rem;color:var(--medieval-stone)}.participant-card[_ngcontent-%COMP%]{position:relative;overflow:visible}.participant-card[_ngcontent-%COMP%]:before{content:"\\25c6";position:absolute;left:-12px;top:50%;transform:translateY(-50%);color:var(--medieval-gold);font-size:1.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}@media screen and (max-width: 500px){.torch[_ngcontent-%COMP%]{font-size:2rem}.banner-flag[_ngcontent-%COMP%]{font-size:3rem}.feast-banner[_ngcontent-%COMP%], .candelabra[_ngcontent-%COMP%], .royal-crown[_ngcontent-%COMP%]{font-size:2rem}.herald-left[_ngcontent-%COMP%], .herald-right[_ngcontent-%COMP%], .trumpet[_ngcontent-%COMP%]{font-size:1.8rem}}']})};bu(Sa,Uy).catch(e=>console.error(e));
